PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[36mOauthProvider Load (1.7ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
PG::UndefinedTable: ERROR:  relation "oauth_providers" does not exist
LINE 1: SELECT "oauth_providers".* FROM "oauth_providers"
                                        ^
: SELECT "oauth_providers".* FROM "oauth_providers"
PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35mContribution Reverse Foreign Keys (2.4ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mContribution Foreign Keys (1.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35mUser Reverse Foreign Keys (2.6ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mUser Foreign Keys (2.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mProject Reverse Foreign Keys (2.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mProject Foreign Keys (2.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.7ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to InitialSchema (20121226120921)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (1752.5ms)[0m  --
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: pg_trgm; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pg_trgm WITH SCHEMA public;


--
-- Name: EXTENSION pg_trgm; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION pg_trgm IS 'text similarity measurement and index searching based on trigrams';


--
-- Name: unaccent; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS unaccent WITH SCHEMA public;


--
-- Name: EXTENSION unaccent; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION unaccent IS 'text search dictionary that removes accents';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: active_admin_comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE active_admin_comments (
 id integer NOT NULL,
 resource_id integer NOT NULL,
 resource_type character varying(255) NOT NULL,
 author_id integer,
 author_type character varying(255),
 body text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 namespace character varying(255)
);


--
-- Name: admin_notes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE admin_notes_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: admin_notes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE admin_notes_id_seq OWNED BY active_admin_comments.id;


--
-- Name: institutional_videos; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE institutional_videos (
 id integer NOT NULL,
 title character varying(255),
 description text,
 video_url character varying(255),
 visible boolean,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: advert_videos_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE advert_videos_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: advert_videos_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE advert_videos_id_seq OWNED BY institutional_videos.id;


--
-- Name: backers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE backers (
 id integer NOT NULL,
 project_id integer NOT NULL,
 user_id integer NOT NULL,
 reward_id integer,
 value numeric NOT NULL,
 confirmed boolean DEFAULT false NOT NULL,
 confirmed_at timestamp without time zone,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 anonymous boolean DEFAULT false,
 key text,
 requested_refund boolean DEFAULT false,
 refunded boolean DEFAULT false,
 credits boolean DEFAULT false,
 notified_finish boolean DEFAULT false,
 payment_method text,
 payment_token text,
 payment_id character varying(255),
 payer_name text,
 payer_email text,
 payer_document text,
 address_street text,
 address_number text,
 address_complement text,
 address_neighbourhood text,
 address_zip_code text,
 address_city text,
 address_state text,
 address_phone_number text,
 payment_choice text,
 payment_service_fee numeric,
 CONSTRAINT backers_value_positive CHECK ((value >= (0)::numeric))
);


--
-- Name: categories; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE categories (
 id integer NOT NULL,
 name text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT categories_name_not_blank CHECK ((length(btrim(name)) > 0))
);


--
-- Name: projects; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects (
 id integer NOT NULL,
 name text NOT NULL,
 user_id integer NOT NULL,
 category_id integer NOT NULL,
 goal numeric NOT NULL,
 expires_at timestamp without time zone NOT NULL,
 about text NOT NULL,
 headline text NOT NULL,
 video_url text NOT NULL,
 image_url text,
 short_url text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 can_finish boolean DEFAULT false,
 finished boolean DEFAULT false,
 about_html text,
 visible boolean DEFAULT false,
 rejected boolean DEFAULT false,
 recommended boolean DEFAULT false,
 home_page_comment text,
 successful boolean DEFAULT false,
 permalink character varying(255),
 video_thumbnail text,
 state character varying(255),
 online_days integer DEFAULT 0,
 CONSTRAINT projects_about_not_blank CHECK ((length(btrim(about)) > 0)),
 CONSTRAINT projects_headline_length_within CHECK (((length(headline) >= 1) AND (length(headline) <= 140))),
 CONSTRAINT projects_headline_not_blank CHECK ((length(btrim(headline)) > 0)),
 CONSTRAINT projects_video_url_not_blank CHECK ((length(btrim(video_url)) > 0))
);


--
-- Name: backers_by_category; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_category AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, c.name AS category, sum(b.value) AS total_backed, count(DISTINCT b.user_id) AS total_backers
 FROM backers b
 JOIN projects p ON p.id = b.project_id
 JOIN categories c ON c.id = p.category_id
 WHERE b.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text), c.name
 ORDER BY to_char(p.expires_at, 'yyyy'::text), c.name;

--
-- Name: backers_by_payment_choice; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_payment_choice AS 
 SELECT to_char(p.expires_at, 'yyyy-mm'::text) AS month, backers.payment_method, backers.payment_choice, sum(backers.value) AS total_backed, sum(backers.value) / bbm.total_month_backed AS payment_choice_ratio, sum(
 CASE
 WHEN backers.refunded THEN backers.value
 ELSE NULL::numeric
 END) AS total_refunded, sum(
 CASE
 WHEN backers.refunded THEN backers.value
 ELSE NULL::numeric
 END) / bbm.total_month_backed AS refunded_ratio
 FROM projects p
 JOIN backers ON backers.project_id = p.id
 JOIN ( SELECT to_char(b2.created_at, 'yyyy-mm'::text) AS b2month, sum(b2.value) AS total_month_backed
 FROM backers b2
 WHERE b2.confirmed
 GROUP BY to_char(b2.created_at, 'yyyy-mm'::text)) bbm ON bbm.b2month = to_char(backers.created_at, 'yyyy-mm'::text)
 WHERE backers.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy-mm'::text), bbm.total_month_backed, backers.payment_method, backers.payment_choice
 ORDER BY to_char(p.expires_at, 'yyyy-mm'::text), backers.payment_method, backers.payment_choice;

--
-- Name: backers_by_project; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_project AS 
 SELECT backers.project_id, sum(backers.value) AS total_backed, max(backers.value) AS max_backed, count(DISTINCT backers.user_id) AS total_backers
 FROM backers
 WHERE backers.confirmed
 GROUP BY backers.project_id;

--
-- Name: users; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE users (
 id integer NOT NULL,
 primary_user_id integer,
 provider text NOT NULL,
 uid text NOT NULL,
 email text,
 name text,
 nickname text,
 bio text,
 image_url text,
 newsletter boolean DEFAULT false,
 project_updates boolean DEFAULT false,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 admin boolean DEFAULT false,
 full_name text,
 address_street text,
 address_number text,
 address_complement text,
 address_neighbourhood text,
 address_city text,
 address_state text,
 address_zip_code text,
 phone_number text,
 credits numeric DEFAULT 0,
 locale text DEFAULT 'pt'::text NOT NULL,
 cpf text,
 encrypted_password character varying(128) DEFAULT ''::character varying NOT NULL,
 reset_password_token character varying(255),
 reset_password_sent_at timestamp without time zone,
 remember_created_at timestamp without time zone,
 sign_in_count integer DEFAULT 0,
 current_sign_in_at timestamp without time zone,
 last_sign_in_at timestamp without time zone,
 current_sign_in_ip character varying(255),
 last_sign_in_ip character varying(255),
 twitter character varying(255),
 facebook_link character varying(255),
 other_link character varying(255),
 uploaded_image text,
 CONSTRAINT users_bio_length_within CHECK (((length(bio) >= 0) AND (length(bio) <= 140))),
 CONSTRAINT users_provider_not_blank CHECK ((length(btrim(provider)) > 0)),
 CONSTRAINT users_uid_not_blank CHECK ((length(btrim(uid)) > 0))
);


--
-- Name: backers_by_state; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_state AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, NULLIF(u.address_state, ''::text) AS state, sum(b.value) AS total_backed, count(DISTINCT b.user_id) AS total_backers
 FROM backers b
 JOIN projects p ON b.project_id = p.id
 JOIN users u ON u.id = b.user_id
 WHERE b.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text), NULLIF(u.address_state, ''::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text), NULLIF(u.address_state, ''::text);

--
-- Name: backers_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_year AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, sum(backers.value) AS total_backed, count(DISTINCT backers.user_id) AS total_backers, count(DISTINCT 
 CASE
 WHEN backers.reward_id IS NULL THEN backers.user_id
 ELSE NULL::integer
 END) AS total_backers_without_reward, count(DISTINCT 
 CASE
 WHEN backers.reward_id IS NULL THEN backers.user_id
 ELSE NULL::integer
 END)::numeric / count(DISTINCT backers.user_id)::numeric AS backers_without_reward_ratio, max(backers.value) AS maximum_back
 FROM backers
 JOIN projects p ON backers.project_id = p.id
 WHERE backers.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text);

--
-- Name: backers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE backers_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: backers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE backers_id_seq OWNED BY backers.id;


--
-- Name: categories_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE categories_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: categories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE categories_id_seq OWNED BY categories.id;


--
-- Name: comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE comments (
 id integer NOT NULL,
 title text,
 comment text NOT NULL,
 comment_html text,
 commentable_id integer NOT NULL,
 commentable_type character varying(255) NOT NULL,
 user_id integer NOT NULL,
 project_update boolean DEFAULT false,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT comments_comment_not_blank CHECK ((length(btrim(comment)) > 0))
);


--
-- Name: comments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE comments_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: comments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE comments_id_seq OWNED BY comments.id;


--
-- Name: configurations; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE configurations (
 id integer NOT NULL,
 name text NOT NULL,
 value text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT configurations_name_not_blank CHECK ((length(btrim(name)) > 0))
);


--
-- Name: configurations_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE configurations_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: configurations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE configurations_id_seq OWNED BY configurations.id;


--
-- Name: curated_pages; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE curated_pages (
 id integer NOT NULL,
 name character varying(255),
 description text,
 analytics_id character varying(255),
 logo character varying(255),
 video_url character varying(255),
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 permalink character varying(255),
 visible boolean DEFAULT false,
 site_url character varying(255)
);


--
-- Name: curated_pages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE curated_pages_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: curated_pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE curated_pages_id_seq OWNED BY curated_pages.id;


--
-- Name: notification_types; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE notification_types (
 id integer NOT NULL,
 name text NOT NULL,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: notification_types_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE notification_types_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: notification_types_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE notification_types_id_seq OWNED BY notification_types.id;


--
-- Name: notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE notifications (
 id integer NOT NULL,
 user_id integer NOT NULL,
 project_id integer,
 dismissed boolean DEFAULT false NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 notification_type_id integer NOT NULL,
 backer_id integer,
 update_id integer
);


--
-- Name: notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE notifications_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE notifications_id_seq OWNED BY notifications.id;


--
-- Name: oauth_providers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE oauth_providers (
 id integer NOT NULL,
 name text NOT NULL,
 key text NOT NULL,
 secret text NOT NULL,
 scope text,
 "order" integer,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 strategy text,
 path text,
 CONSTRAINT oauth_providers_key_not_blank CHECK ((length(btrim(key)) > 0)),
 CONSTRAINT oauth_providers_name_not_blank CHECK ((length(btrim(name)) > 0)),
 CONSTRAINT oauth_providers_secret_not_blank CHECK ((length(btrim(secret)) > 0))
);


--
-- Name: oauth_providers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE oauth_providers_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: oauth_providers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE oauth_providers_id_seq OWNED BY oauth_providers.id;


--
-- Name: payment_logs; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_logs (
 id integer NOT NULL,
 backer_id integer,
 status integer,
 amount double precision,
 payment_status integer,
 moip_id integer,
 payment_method integer,
 payment_type character varying(255),
 consumer_email character varying(255),
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: payment_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_logs_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: payment_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_logs_id_seq OWNED BY payment_logs.id;


--
-- Name: payment_notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_notifications (
 id integer NOT NULL,
 backer_id integer NOT NULL,
 extra_data text,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: payment_notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_notifications_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: payment_notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_notifications_id_seq OWNED BY payment_notifications.id;


--
-- Name: paypal_payments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE paypal_payments (
 data text,
 hora text,
 fusohorario text,
 nome text,
 tipo text,
 status text,
 moeda text,
 valorbruto text,
 tarifa text,
 liquido text,
 doe_mail text,
 parae_mail text,
 iddatransacao text,
 statusdoequivalente text,
 statusdoendereco text,
 titulodoitem text,
 iddoitem text,
 valordoenvioemanuseio text,
 valordoseguro text,
 impostosobrevendas text,
 opcao1nome text,
 opcao1valor text,
 opcao2nome text,
 opcao2valor text,
 sitedoleilao text,
 iddocomprador text,
 urldoitem text,
 datadetermino text,
 iddaescritura text,
 iddafatura text,
 "idtxn_dereferência" text,
 numerodafatura text,
 numeropersonalizado text,
 iddorecibo text,
 saldo text,
 enderecolinha1 text,
 enderecolinha2_distrito_bairro text,
 cidade text,
 "estado_regiao_território_prefeitura_republica" text,
 cep text,
 pais text,
 numerodotelefoneparacontato text,
 extra text
);


--
-- Name: paypal_pending; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW paypal_pending AS
 SELECT string_agg((b.id)::text, ','::text) AS string_agg FROM (backers b JOIN paypal_payments p ON ((lower(p.doe_mail) = b.payer_email))) WHERE ((((b.payment_method = 'PayPal'::text) AND (p.status = 'Concluído'::text)) AND (NOT b.confirmed)) AND (to_number(p.valorbruto, '9,99'::text) = b.value));


--
-- Name: project_totals; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW project_totals AS
 SELECT backers.project_id, sum(backers.value) AS pledged, count(*) AS total_backers FROM backers WHERE (backers.confirmed = true) GROUP BY backers.project_id;


--
-- Name: projects_by_category; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_category AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, c.name AS category, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects
 FROM projects p
 JOIN categories c ON c.id = p.category_id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text), c.name
 ORDER BY to_char(p.expires_at, 'yyyy'::text), c.name;

--
-- Name: projects_by_state; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_state AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, NULLIF(btrim(u.address_state), ''::text) AS uf, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects
 FROM projects p
 JOIN users u ON u.id = p.user_id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text), NULLIF(btrim(u.address_state), ''::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text), NULLIF(btrim(u.address_state), ''::text);

--
-- Name: total_backed_ranges; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE total_backed_ranges (
 name text NOT NULL,
 lower numeric,
 upper numeric
);


--
-- Name: projects_by_total_backed_ranges; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_total_backed_ranges AS 
 SELECT tbr.lower, tbr.upper, count(*) AS count, count(*)::numeric / (( SELECT count(*) AS count
 FROM backers_by_project))::numeric AS ratio
 FROM backers_by_project bp
 JOIN total_backed_ranges tbr ON bp.total_backed >= tbr.lower AND bp.total_backed <= tbr.upper
 GROUP BY tbr.lower, tbr.upper
 ORDER BY tbr.lower;

--
-- Name: projects_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_year AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects, sum(
 CASE
 WHEN p.successful THEN b.total_backed
 ELSE NULL::numeric
 END) AS successful_total_backed, max(b.total_backed) AS max_total_backed, max(b.max_backed) AS max_backed, max(b.total_backers) AS max_total_backers
 FROM projects p
 LEFT JOIN backers_by_project b ON b.project_id = p.id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text);


--
-- Name: projects_curated_pages; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects_curated_pages (
 id integer NOT NULL,
 project_id integer,
 curated_page_id integer,
 description text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 description_html text
);


--
-- Name: projects_curated_pages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE projects_curated_pages_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: projects_curated_pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE projects_curated_pages_id_seq OWNED BY projects_curated_pages.id;


--
-- Name: projects_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE projects_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: projects_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE projects_id_seq OWNED BY projects.id;


--
-- Name: projects_managers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects_managers (
 user_id integer,
 project_id integer
);


--
-- Name: recurring_backers_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW recurring_backers_by_year AS 
 SELECT bby.year, trb.total_recurring_backed, bby.total_backed, trb.total_recurring_backed / bby.total_backed AS recurring_backed_ratio, trb.total_recurring_backers, bby.total_backers, trb.total_recurring_backers / bby.total_backers::numeric AS recurring_backers_ratio
 FROM ( SELECT rb.year, sum(rb.total_recurring_backed) AS total_recurring_backed, sum(rb.total_recurring_backers) AS total_recurring_backers
 FROM ( SELECT to_char(backers.created_at, 'yyyy'::text) AS year, sum(backers.value) AS total_recurring_backed, count(DISTINCT backers.user_id) AS total_recurring_backers
 FROM backers
 WHERE backers.confirmed
 GROUP BY to_char(backers.created_at, 'yyyy'::text), backers.user_id
 HAVING count(*) > 1) rb
 GROUP BY rb.year) trb
 JOIN backers_by_year bby USING (year);

--
-- Name: reward_ranges; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE reward_ranges (
 name text NOT NULL,
 lower numeric,
 upper numeric
);


--
-- Name: rewards; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE rewards (
 id integer NOT NULL,
 project_id integer NOT NULL,
 minimum_value numeric NOT NULL,
 maximum_backers integer,
 description text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT rewards_maximum_backers_positive CHECK ((maximum_backers >= 0)),
 CONSTRAINT rewards_minimum_value_positive CHECK ((minimum_value >= (0)::numeric))
);


--
-- Name: rewards_by_range; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW rewards_by_range AS 
 SELECT rr.name AS range, count(*) AS count, count(*)::numeric / (( SELECT count(*) AS count
 FROM backers
 WHERE backers.confirmed AND backers.reward_id IS NOT NULL))::numeric AS ratio
 FROM reward_ranges rr
 JOIN rewards r ON r.minimum_value >= rr.lower AND r.minimum_value <= rr.upper
 JOIN backers b ON b.reward_id = r.id
 WHERE b.confirmed
 GROUP BY rr.name, rr.lower
 ORDER BY rr.lower;


--
-- Name: rewards_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE rewards_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: rewards_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE rewards_id_seq OWNED BY rewards.id;

--
-- Name: states; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE states (
 id integer NOT NULL,
 name character varying(255) NOT NULL,
 acronym character varying(255) NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT states_acronym_not_blank CHECK ((length(btrim((acronym)::text)) > 0)),
 CONSTRAINT states_name_not_blank CHECK ((length(btrim((name)::text)) > 0))
);


--
-- Name: states_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE states_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: states_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE states_id_seq OWNED BY states.id;


--
-- Name: static_contents; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE static_contents (
 id integer NOT NULL,
 title character varying(255),
 body text,
 body_html text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: static_contents_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE static_contents_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: static_contents_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE static_contents_id_seq OWNED BY static_contents.id;


--
-- Name: statistics; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW statistics AS
 SELECT (SELECT count(*) AS count FROM users WHERE (users.primary_user_id IS NULL)) AS total_users, backers_totals.total_backs, backers_totals.total_backers, backers_totals.total_backed, projects_totals.total_projects, projects_totals.total_projects_success, projects_totals.total_projects_online FROM (SELECT count(*) AS total_backs, count(DISTINCT backers.user_id) AS total_backers, sum(backers.value) AS total_backed FROM backers WHERE backers.confirmed) backers_totals, (SELECT count(*) AS total_projects, count(CASE WHEN projects.successful THEN 1 ELSE NULL::integer END) AS total_projects_success, count(CASE WHEN ((projects.finished = false) AND (projects.expires_at >= now())) THEN 1 ELSE NULL::integer END) AS total_projects_online FROM projects WHERE projects.visible) projects_totals;


--
-- Name: unsubscribes; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE unsubscribes (
 id integer NOT NULL,
 user_id integer NOT NULL,
 notification_type_id integer NOT NULL,
 project_id integer,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: unsubscribes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE unsubscribes_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: unsubscribes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE unsubscribes_id_seq OWNED BY unsubscribes.id;


--
-- Name: updates; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE updates (
 id integer NOT NULL,
 user_id integer NOT NULL,
 project_id integer NOT NULL,
 title text,
 comment text NOT NULL,
 comment_html text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: updates_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE updates_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: updates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE updates_id_seq OWNED BY updates.id;


--
-- Name: user_totals; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW user_totals AS
 SELECT b.user_id AS id, b.user_id, sum(b.value) AS sum, count(*) AS count, sum(CASE WHEN (((NOT p.finished) OR p.successful) AND (NOT b.credits)) THEN (0)::numeric WHEN ((p.finished AND (NOT p.successful)) AND ((b.requested_refund AND (NOT b.credits)) OR (b.credits AND (NOT b.requested_refund)))) THEN (0)::numeric WHEN (((p.finished AND (NOT p.successful)) AND (NOT b.credits)) AND (NOT b.requested_refund)) THEN b.value ELSE (b.value * ((-1))::numeric) END) AS credits FROM (backers b JOIN projects p ON ((b.project_id = p.id))) WHERE (b.confirmed = true) GROUP BY b.user_id;


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE users_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY active_admin_comments ALTER COLUMN id SET DEFAULT nextval('admin_notes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers ALTER COLUMN id SET DEFAULT nextval('backers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY categories ALTER COLUMN id SET DEFAULT nextval('categories_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY comments ALTER COLUMN id SET DEFAULT nextval('comments_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY configurations ALTER COLUMN id SET DEFAULT nextval('configurations_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY curated_pages ALTER COLUMN id SET DEFAULT nextval('curated_pages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY institutional_videos ALTER COLUMN id SET DEFAULT nextval('advert_videos_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY notification_types ALTER COLUMN id SET DEFAULT nextval('notification_types_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications ALTER COLUMN id SET DEFAULT nextval('notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY oauth_providers ALTER COLUMN id SET DEFAULT nextval('oauth_providers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_logs ALTER COLUMN id SET DEFAULT nextval('payment_logs_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_notifications ALTER COLUMN id SET DEFAULT nextval('payment_notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects ALTER COLUMN id SET DEFAULT nextval('projects_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects_curated_pages ALTER COLUMN id SET DEFAULT nextval('projects_curated_pages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY rewards ALTER COLUMN id SET DEFAULT nextval('rewards_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY states ALTER COLUMN id SET DEFAULT nextval('states_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY static_contents ALTER COLUMN id SET DEFAULT nextval('static_contents_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes ALTER COLUMN id SET DEFAULT nextval('unsubscribes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates ALTER COLUMN id SET DEFAULT nextval('updates_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- Name: admin_notes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY active_admin_comments
 ADD CONSTRAINT admin_notes_pkey PRIMARY KEY (id);


--
-- Name: advert_videos_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY institutional_videos
 ADD CONSTRAINT advert_videos_pkey PRIMARY KEY (id);


--
-- Name: backers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_pkey PRIMARY KEY (id);


--
-- Name: categories_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY categories
 ADD CONSTRAINT categories_name_unique UNIQUE (name);


--
-- Name: categories_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY categories
 ADD CONSTRAINT categories_pkey PRIMARY KEY (id);


--
-- Name: comments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY comments
 ADD CONSTRAINT comments_pkey PRIMARY KEY (id);


--
-- Name: configurations_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY configurations
 ADD CONSTRAINT configurations_pkey PRIMARY KEY (id);


--
-- Name: curated_pages_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY curated_pages
 ADD CONSTRAINT curated_pages_pkey PRIMARY KEY (id);


--
-- Name: notification_types_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY notification_types
 ADD CONSTRAINT notification_types_pkey PRIMARY KEY (id);


--
-- Name: notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_pkey PRIMARY KEY (id);


--
-- Name: oauth_providers_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY oauth_providers
 ADD CONSTRAINT oauth_providers_name_unique UNIQUE (name);


--
-- Name: oauth_providers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY oauth_providers
 ADD CONSTRAINT oauth_providers_pkey PRIMARY KEY (id);


--
-- Name: payment_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_logs
 ADD CONSTRAINT payment_logs_pkey PRIMARY KEY (id);


--
-- Name: payment_notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_notifications
 ADD CONSTRAINT payment_notifications_pkey PRIMARY KEY (id);


--
-- Name: projects_curated_pages_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY projects_curated_pages
 ADD CONSTRAINT projects_curated_pages_pkey PRIMARY KEY (id);


--
-- Name: projects_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_pkey PRIMARY KEY (id);


--
-- Name: reward_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY reward_ranges
 ADD CONSTRAINT reward_ranges_pkey PRIMARY KEY (name);


--
-- Name: rewards_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY rewards
 ADD CONSTRAINT rewards_pkey PRIMARY KEY (id);


--
-- Name: states_acronym_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_acronym_unique UNIQUE (acronym);


--
-- Name: states_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_name_unique UNIQUE (name);


--
-- Name: states_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_pkey PRIMARY KEY (id);


--
-- Name: static_contents_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY static_contents
 ADD CONSTRAINT static_contents_pkey PRIMARY KEY (id);


--
-- Name: total_backed_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY total_backed_ranges
 ADD CONSTRAINT total_backed_ranges_pkey PRIMARY KEY (name);


--
-- Name: unsubscribes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_pkey PRIMARY KEY (id);


--
-- Name: updates_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_pkey PRIMARY KEY (id);


--
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: users_provider_uid_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_provider_uid_unique UNIQUE (provider, uid);


--
-- Name: index_active_admin_comments_on_author_type_and_author_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_active_admin_comments_on_author_type_and_author_id ON active_admin_comments USING btree (author_type, author_id);


--
-- Name: index_active_admin_comments_on_namespace; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_active_admin_comments_on_namespace ON active_admin_comments USING btree (namespace);


--
-- Name: index_backers_on_confirmed; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_confirmed ON backers USING btree (confirmed);


--
-- Name: index_backers_on_key; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_key ON backers USING btree (key);


--
-- Name: index_backers_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_project_id ON backers USING btree (project_id);


--
-- Name: index_backers_on_reward_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_reward_id ON backers USING btree (reward_id);


--
-- Name: index_backers_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_user_id ON backers USING btree (user_id);


--
-- Name: index_categories_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_categories_on_name ON categories USING btree (name);


--
-- Name: index_comments_on_commentable_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_commentable_id ON comments USING btree (commentable_id);


--
-- Name: index_comments_on_commentable_type; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_commentable_type ON comments USING btree (commentable_type);


--
-- Name: index_comments_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_user_id ON comments USING btree (user_id);


--
-- Name: index_confirmed_backers_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_confirmed_backers_on_project_id ON backers USING btree (project_id) WHERE confirmed;


--
-- Name: index_curated_pages_on_permalink; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_curated_pages_on_permalink ON curated_pages USING btree (permalink);


--
-- Name: index_notification_types_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_notification_types_on_name ON notification_types USING btree (name);


--
-- Name: index_notifications_on_update_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_notifications_on_update_id ON notifications USING btree (update_id);


--
-- Name: index_projects_on_category_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_category_id ON projects USING btree (category_id);


--
-- Name: index_projects_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_name ON projects USING btree (name);


--
-- Name: index_projects_on_permalink; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_projects_on_permalink ON projects USING btree (permalink);


--
-- Name: index_projects_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_user_id ON projects USING btree (user_id);


--
-- Name: index_rewards_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_rewards_on_project_id ON rewards USING btree (project_id);


--
-- Name: index_unsubscribes_on_notification_type_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_notification_type_id ON unsubscribes USING btree (notification_type_id);


--
-- Name: index_unsubscribes_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_project_id ON unsubscribes USING btree (project_id);


--
-- Name: index_unsubscribes_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_user_id ON unsubscribes USING btree (user_id);


--
-- Name: index_updates_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_updates_on_project_id ON updates USING btree (project_id);


--
-- Name: index_users_on_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_email ON users USING btree (email);


--
-- Name: index_users_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_name ON users USING btree (name);


--
-- Name: index_users_on_primary_user_id_and_provider; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_primary_user_id_and_provider ON users USING btree (primary_user_id, provider);


--
-- Name: index_users_on_reset_password_token; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_users_on_reset_password_token ON users USING btree (reset_password_token);


--
-- Name: index_users_on_uid; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_uid ON users USING btree (uid);


--
-- Name: users_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX users_email ON users USING btree (email) WHERE (provider = 'devise'::text);


--
-- Name: backers_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: backers_reward_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_reward_id_reference FOREIGN KEY (reward_id) REFERENCES rewards(id);


--
-- Name: backers_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: comments_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY comments
 ADD CONSTRAINT comments_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: notifications_backer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_backer_id_fk FOREIGN KEY (backer_id) REFERENCES backers(id);


--
-- Name: notifications_notification_type_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_notification_type_id_fk FOREIGN KEY (notification_type_id) REFERENCES notification_types(id);


--
-- Name: notifications_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: notifications_update_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_update_id_fk FOREIGN KEY (update_id) REFERENCES updates(id);


--
-- Name: notifications_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: payment_notifications_backer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_notifications
 ADD CONSTRAINT payment_notifications_backer_id_fk FOREIGN KEY (backer_id) REFERENCES backers(id);


--
-- Name: projects_category_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_category_id_reference FOREIGN KEY (category_id) REFERENCES categories(id);


--
-- Name: projects_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: rewards_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY rewards
 ADD CONSTRAINT rewards_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: unsubscribes_notification_type_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_notification_type_id_fk FOREIGN KEY (notification_type_id) REFERENCES notification_types(id);


--
-- Name: unsubscribes_project_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_project_id_fk FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: unsubscribes_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: updates_project_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_project_id_fk FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: updates_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: users_primary_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_primary_user_id_reference FOREIGN KEY (primary_user_id) REFERENCES users(id);

--
-- PostgreSQL database dump complete
--

PG::DuplicateTable: ERROR:  relation "users" already exists
: --
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: pg_trgm; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pg_trgm WITH SCHEMA public;


--
-- Name: EXTENSION pg_trgm; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION pg_trgm IS 'text similarity measurement and index searching based on trigrams';


--
-- Name: unaccent; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS unaccent WITH SCHEMA public;


--
-- Name: EXTENSION unaccent; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION unaccent IS 'text search dictionary that removes accents';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: active_admin_comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE active_admin_comments (
    id integer NOT NULL,
    resource_id integer NOT NULL,
    resource_type character varying(255) NOT NULL,
    author_id integer,
    author_type character varying(255),
    body text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    namespace character varying(255)
);


--
-- Name: admin_notes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE admin_notes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: admin_notes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE admin_notes_id_seq OWNED BY active_admin_comments.id;


--
-- Name: institutional_videos; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE institutional_videos (
    id integer NOT NULL,
    title character varying(255),
    description text,
    video_url character varying(255),
    visible boolean,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: advert_videos_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE advert_videos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: advert_videos_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE advert_videos_id_seq OWNED BY institutional_videos.id;


--
-- Name: backers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE backers (
    id integer NOT NULL,
    project_id integer NOT NULL,
    user_id integer NOT NULL,
    reward_id integer,
    value numeric NOT NULL,
    confirmed boolean DEFAULT false NOT NULL,
    confirmed_at timestamp without time zone,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    anonymous boolean DEFAULT false,
    key text,
    requested_refund boolean DEFAULT false,
    refunded boolean DEFAULT false,
    credits boolean DEFAULT false,
    notified_finish boolean DEFAULT false,
    payment_method text,
    payment_token text,
    payment_id character varying(255),
    payer_name text,
    payer_email text,
    payer_document text,
    address_street text,
    address_number text,
    address_complement text,
    address_neighbourhood text,
    address_zip_code text,
    address_city text,
    address_state text,
    address_phone_number text,
    payment_choice text,
    payment_service_fee numeric,
    CONSTRAINT backers_value_positive CHECK ((value >= (0)::numeric))
);


--
-- Name: categories; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE categories (
    id integer NOT NULL,
    name text NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    CONSTRAINT categories_name_not_blank CHECK ((length(btrim(name)) > 0))
);


--
-- Name: projects; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects (
    id integer NOT NULL,
    name text NOT NULL,
    user_id integer NOT NULL,
    category_id integer NOT NULL,
    goal numeric NOT NULL,
    expires_at timestamp without time zone NOT NULL,
    about text NOT NULL,
    headline text NOT NULL,
    video_url text NOT NULL,
    image_url text,
    short_url text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    can_finish boolean DEFAULT false,
    finished boolean DEFAULT false,
    about_html text,
    visible boolean DEFAULT false,
    rejected boolean DEFAULT false,
    recommended boolean DEFAULT false,
    home_page_comment text,
    successful boolean DEFAULT false,
    permalink character varying(255),
    video_thumbnail text,
    state character varying(255),
    online_days integer DEFAULT 0,
    CONSTRAINT projects_about_not_blank CHECK ((length(btrim(about)) > 0)),
    CONSTRAINT projects_headline_length_within CHECK (((length(headline) >= 1) AND (length(headline) <= 140))),
    CONSTRAINT projects_headline_not_blank CHECK ((length(btrim(headline)) > 0)),
    CONSTRAINT projects_video_url_not_blank CHECK ((length(btrim(video_url)) > 0))
);


--
-- Name: backers_by_category; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_category AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, c.name AS category, sum(b.value) AS total_backed, count(DISTINCT b.user_id) AS total_backers
   FROM backers b
   JOIN projects p ON p.id = b.project_id
   JOIN categories c ON c.id = p.category_id
  WHERE b.confirmed
  GROUP BY to_char(p.expires_at, 'yyyy'::text), c.name
  ORDER BY to_char(p.expires_at, 'yyyy'::text), c.name;

--
-- Name: backers_by_payment_choice; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_payment_choice AS 
 SELECT to_char(p.expires_at, 'yyyy-mm'::text) AS month, backers.payment_method, backers.payment_choice, sum(backers.value) AS total_backed, sum(backers.value) / bbm.total_month_backed AS payment_choice_ratio, sum(
        CASE
            WHEN backers.refunded THEN backers.value
            ELSE NULL::numeric
        END) AS total_refunded, sum(
        CASE
            WHEN backers.refunded THEN backers.value
            ELSE NULL::numeric
        END) / bbm.total_month_backed AS refunded_ratio
   FROM projects p
   JOIN backers ON backers.project_id = p.id
   JOIN ( SELECT to_char(b2.created_at, 'yyyy-mm'::text) AS b2month, sum(b2.value) AS total_month_backed
      FROM backers b2
     WHERE b2.confirmed
     GROUP BY to_char(b2.created_at, 'yyyy-mm'::text)) bbm ON bbm.b2month = to_char(backers.created_at, 'yyyy-mm'::text)
  WHERE backers.confirmed
  GROUP BY to_char(p.expires_at, 'yyyy-mm'::text), bbm.total_month_backed, backers.payment_method, backers.payment_choice
  ORDER BY to_char(p.expires_at, 'yyyy-mm'::text), backers.payment_method, backers.payment_choice;

--
-- Name: backers_by_project; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_project AS 
 SELECT backers.project_id, sum(backers.value) AS total_backed, max(backers.value) AS max_backed, count(DISTINCT backers.user_id) AS total_backers
   FROM backers
  WHERE backers.confirmed
  GROUP BY backers.project_id;

--
-- Name: users; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE users (
    id integer NOT NULL,
    primary_user_id integer,
    provider text NOT NULL,
    uid text NOT NULL,
    email text,
    name text,
    nickname text,
    bio text,
    image_url text,
    newsletter boolean DEFAULT false,
    project_updates boolean DEFAULT false,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    admin boolean DEFAULT false,
    full_name text,
    address_street text,
    address_number text,
    address_complement text,
    address_neighbourhood text,
    address_city text,
    address_state text,
    address_zip_code text,
    phone_number text,
    credits numeric DEFAULT 0,
    locale text DEFAULT 'pt'::text NOT NULL,
    cpf text,
    encrypted_password character varying(128) DEFAULT ''::character varying NOT NULL,
    reset_password_token character varying(255),
    reset_password_sent_at timestamp without time zone,
    remember_created_at timestamp without time zone,
    sign_in_count integer DEFAULT 0,
    current_sign_in_at timestamp without time zone,
    last_sign_in_at timestamp without time zone,
    current_sign_in_ip character varying(255),
    last_sign_in_ip character varying(255),
    twitter character varying(255),
    facebook_link character varying(255),
    other_link character varying(255),
    uploaded_image text,
    CONSTRAINT users_bio_length_within CHECK (((length(bio) >= 0) AND (length(bio) <= 140))),
    CONSTRAINT users_provider_not_blank CHECK ((length(btrim(provider)) > 0)),
    CONSTRAINT users_uid_not_blank CHECK ((length(btrim(uid)) > 0))
);


--
-- Name: backers_by_state; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_state AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, NULLIF(u.address_state, ''::text) AS state, sum(b.value) AS total_backed, count(DISTINCT b.user_id) AS total_backers
   FROM backers b
   JOIN projects p ON b.project_id = p.id
   JOIN users u ON u.id = b.user_id
  WHERE b.confirmed
  GROUP BY to_char(p.expires_at, 'yyyy'::text), NULLIF(u.address_state, ''::text)
  ORDER BY to_char(p.expires_at, 'yyyy'::text), NULLIF(u.address_state, ''::text);

--
-- Name: backers_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_year AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, sum(backers.value) AS total_backed, count(DISTINCT backers.user_id) AS total_backers, count(DISTINCT 
        CASE
            WHEN backers.reward_id IS NULL THEN backers.user_id
            ELSE NULL::integer
        END) AS total_backers_without_reward, count(DISTINCT 
        CASE
            WHEN backers.reward_id IS NULL THEN backers.user_id
            ELSE NULL::integer
        END)::numeric / count(DISTINCT backers.user_id)::numeric AS backers_without_reward_ratio, max(backers.value) AS maximum_back
   FROM backers
   JOIN projects p ON backers.project_id = p.id
  WHERE backers.confirmed
  GROUP BY to_char(p.expires_at, 'yyyy'::text);

--
-- Name: backers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE backers_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: backers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE backers_id_seq OWNED BY backers.id;


--
-- Name: categories_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE categories_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: categories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE categories_id_seq OWNED BY categories.id;


--
-- Name: comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE comments (
    id integer NOT NULL,
    title text,
    comment text NOT NULL,
    comment_html text,
    commentable_id integer NOT NULL,
    commentable_type character varying(255) NOT NULL,
    user_id integer NOT NULL,
    project_update boolean DEFAULT false,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    CONSTRAINT comments_comment_not_blank CHECK ((length(btrim(comment)) > 0))
);


--
-- Name: comments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE comments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: comments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE comments_id_seq OWNED BY comments.id;


--
-- Name: configurations; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE configurations (
    id integer NOT NULL,
    name text NOT NULL,
    value text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    CONSTRAINT configurations_name_not_blank CHECK ((length(btrim(name)) > 0))
);


--
-- Name: configurations_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE configurations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: configurations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE configurations_id_seq OWNED BY configurations.id;


--
-- Name: curated_pages; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE curated_pages (
    id integer NOT NULL,
    name character varying(255),
    description text,
    analytics_id character varying(255),
    logo character varying(255),
    video_url character varying(255),
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    permalink character varying(255),
    visible boolean DEFAULT false,
    site_url character varying(255)
);


--
-- Name: curated_pages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE curated_pages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: curated_pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE curated_pages_id_seq OWNED BY curated_pages.id;


--
-- Name: notification_types; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE notification_types (
    id integer NOT NULL,
    name text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: notification_types_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE notification_types_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: notification_types_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE notification_types_id_seq OWNED BY notification_types.id;


--
-- Name: notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE notifications (
    id integer NOT NULL,
    user_id integer NOT NULL,
    project_id integer,
    dismissed boolean DEFAULT false NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    notification_type_id integer NOT NULL,
    backer_id integer,
    update_id integer
);


--
-- Name: notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE notifications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE notifications_id_seq OWNED BY notifications.id;


--
-- Name: oauth_providers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE oauth_providers (
    id integer NOT NULL,
    name text NOT NULL,
    key text NOT NULL,
    secret text NOT NULL,
    scope text,
    "order" integer,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    strategy text,
    path text,
    CONSTRAINT oauth_providers_key_not_blank CHECK ((length(btrim(key)) > 0)),
    CONSTRAINT oauth_providers_name_not_blank CHECK ((length(btrim(name)) > 0)),
    CONSTRAINT oauth_providers_secret_not_blank CHECK ((length(btrim(secret)) > 0))
);


--
-- Name: oauth_providers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE oauth_providers_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: oauth_providers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE oauth_providers_id_seq OWNED BY oauth_providers.id;


--
-- Name: payment_logs; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_logs (
    id integer NOT NULL,
    backer_id integer,
    status integer,
    amount double precision,
    payment_status integer,
    moip_id integer,
    payment_method integer,
    payment_type character varying(255),
    consumer_email character varying(255),
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: payment_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: payment_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_logs_id_seq OWNED BY payment_logs.id;


--
-- Name: payment_notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_notifications (
    id integer NOT NULL,
    backer_id integer NOT NULL,
    extra_data text,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: payment_notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_notifications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: payment_notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_notifications_id_seq OWNED BY payment_notifications.id;


--
-- Name: paypal_payments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE paypal_payments (
    data text,
    hora text,
    fusohorario text,
    nome text,
    tipo text,
    status text,
    moeda text,
    valorbruto text,
    tarifa text,
    liquido text,
    doe_mail text,
    parae_mail text,
    iddatransacao text,
    statusdoequivalente text,
    statusdoendereco text,
    titulodoitem text,
    iddoitem text,
    valordoenvioemanuseio text,
    valordoseguro text,
    impostosobrevendas text,
    opcao1nome text,
    opcao1valor text,
    opcao2nome text,
    opcao2valor text,
    sitedoleilao text,
    iddocomprador text,
    urldoitem text,
    datadetermino text,
    iddaescritura text,
    iddafatura text,
    "idtxn_dereferência" text,
    numerodafatura text,
    numeropersonalizado text,
    iddorecibo text,
    saldo text,
    enderecolinha1 text,
    enderecolinha2_distrito_bairro text,
    cidade text,
    "estado_regiao_território_prefeitura_republica" text,
    cep text,
    pais text,
    numerodotelefoneparacontato text,
    extra text
);


--
-- Name: paypal_pending; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW paypal_pending AS
    SELECT string_agg((b.id)::text, ','::text) AS string_agg FROM (backers b JOIN paypal_payments p ON ((lower(p.doe_mail) = b.payer_email))) WHERE ((((b.payment_method = 'PayPal'::text) AND (p.status = 'Concluído'::text)) AND (NOT b.confirmed)) AND (to_number(p.valorbruto, '9,99'::text) = b.value));


--
-- Name: project_totals; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW project_totals AS
    SELECT backers.project_id, sum(backers.value) AS pledged, count(*) AS total_backers FROM backers WHERE (backers.confirmed = true) GROUP BY backers.project_id;


--
-- Name: projects_by_category; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_category AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, c.name AS category, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects
   FROM projects p
   JOIN categories c ON c.id = p.category_id
  WHERE p.finished
  GROUP BY to_char(p.expires_at, 'yyyy'::text), c.name
  ORDER BY to_char(p.expires_at, 'yyyy'::text), c.name;

--
-- Name: projects_by_state; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_state AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, NULLIF(btrim(u.address_state), ''::text) AS uf, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects
   FROM projects p
   JOIN users u ON u.id = p.user_id
  WHERE p.finished
  GROUP BY to_char(p.expires_at, 'yyyy'::text), NULLIF(btrim(u.address_state), ''::text)
  ORDER BY to_char(p.expires_at, 'yyyy'::text), NULLIF(btrim(u.address_state), ''::text);

--
-- Name: total_backed_ranges; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE total_backed_ranges (
    name text NOT NULL,
    lower numeric,
    upper numeric
);


--
-- Name: projects_by_total_backed_ranges; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_total_backed_ranges AS 
 SELECT tbr.lower, tbr.upper, count(*) AS count, count(*)::numeric / (( SELECT count(*) AS count
           FROM backers_by_project))::numeric AS ratio
   FROM backers_by_project bp
   JOIN total_backed_ranges tbr ON bp.total_backed >= tbr.lower AND bp.total_backed <= tbr.upper
  GROUP BY tbr.lower, tbr.upper
  ORDER BY tbr.lower;

--
-- Name: projects_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_year AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects, sum(
        CASE
            WHEN p.successful THEN b.total_backed
            ELSE NULL::numeric
        END) AS successful_total_backed, max(b.total_backed) AS max_total_backed, max(b.max_backed) AS max_backed, max(b.total_backers) AS max_total_backers
   FROM projects p
   LEFT JOIN backers_by_project b ON b.project_id = p.id
  WHERE p.finished
  GROUP BY to_char(p.expires_at, 'yyyy'::text)
  ORDER BY to_char(p.expires_at, 'yyyy'::text);


--
-- Name: projects_curated_pages; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects_curated_pages (
    id integer NOT NULL,
    project_id integer,
    curated_page_id integer,
    description text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    description_html text
);


--
-- Name: projects_curated_pages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE projects_curated_pages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: projects_curated_pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE projects_curated_pages_id_seq OWNED BY projects_curated_pages.id;


--
-- Name: projects_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE projects_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: projects_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE projects_id_seq OWNED BY projects.id;


--
-- Name: projects_managers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects_managers (
    user_id integer,
    project_id integer
);


--
-- Name: recurring_backers_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW recurring_backers_by_year AS 
 SELECT bby.year, trb.total_recurring_backed, bby.total_backed, trb.total_recurring_backed / bby.total_backed AS recurring_backed_ratio, trb.total_recurring_backers, bby.total_backers, trb.total_recurring_backers / bby.total_backers::numeric AS recurring_backers_ratio
   FROM ( SELECT rb.year, sum(rb.total_recurring_backed) AS total_recurring_backed, sum(rb.total_recurring_backers) AS total_recurring_backers
           FROM ( SELECT to_char(backers.created_at, 'yyyy'::text) AS year, sum(backers.value) AS total_recurring_backed, count(DISTINCT backers.user_id) AS total_recurring_backers
                   FROM backers
                  WHERE backers.confirmed
                  GROUP BY to_char(backers.created_at, 'yyyy'::text), backers.user_id
                 HAVING count(*) > 1) rb
          GROUP BY rb.year) trb
   JOIN backers_by_year bby USING (year);

--
-- Name: reward_ranges; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE reward_ranges (
    name text NOT NULL,
    lower numeric,
    upper numeric
);


--
-- Name: rewards; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE rewards (
    id integer NOT NULL,
    project_id integer NOT NULL,
    minimum_value numeric NOT NULL,
    maximum_backers integer,
    description text NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    CONSTRAINT rewards_maximum_backers_positive CHECK ((maximum_backers >= 0)),
    CONSTRAINT rewards_minimum_value_positive CHECK ((minimum_value >= (0)::numeric))
);


--
-- Name: rewards_by_range; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW rewards_by_range AS 
 SELECT rr.name AS range, count(*) AS count, count(*)::numeric / (( SELECT count(*) AS count
           FROM backers
          WHERE backers.confirmed AND backers.reward_id IS NOT NULL))::numeric AS ratio
   FROM reward_ranges rr
   JOIN rewards r ON r.minimum_value >= rr.lower AND r.minimum_value <= rr.upper
   JOIN backers b ON b.reward_id = r.id
  WHERE b.confirmed
  GROUP BY rr.name, rr.lower
  ORDER BY rr.lower;


--
-- Name: rewards_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE rewards_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: rewards_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE rewards_id_seq OWNED BY rewards.id;

--
-- Name: states; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE states (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    acronym character varying(255) NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    CONSTRAINT states_acronym_not_blank CHECK ((length(btrim((acronym)::text)) > 0)),
    CONSTRAINT states_name_not_blank CHECK ((length(btrim((name)::text)) > 0))
);


--
-- Name: states_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE states_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: states_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE states_id_seq OWNED BY states.id;


--
-- Name: static_contents; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE static_contents (
    id integer NOT NULL,
    title character varying(255),
    body text,
    body_html text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: static_contents_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE static_contents_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: static_contents_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE static_contents_id_seq OWNED BY static_contents.id;


--
-- Name: statistics; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW statistics AS
    SELECT (SELECT count(*) AS count FROM users WHERE (users.primary_user_id IS NULL)) AS total_users, backers_totals.total_backs, backers_totals.total_backers, backers_totals.total_backed, projects_totals.total_projects, projects_totals.total_projects_success, projects_totals.total_projects_online FROM (SELECT count(*) AS total_backs, count(DISTINCT backers.user_id) AS total_backers, sum(backers.value) AS total_backed FROM backers WHERE backers.confirmed) backers_totals, (SELECT count(*) AS total_projects, count(CASE WHEN projects.successful THEN 1 ELSE NULL::integer END) AS total_projects_success, count(CASE WHEN ((projects.finished = false) AND (projects.expires_at >= now())) THEN 1 ELSE NULL::integer END) AS total_projects_online FROM projects WHERE projects.visible) projects_totals;


--
-- Name: unsubscribes; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE unsubscribes (
    id integer NOT NULL,
    user_id integer NOT NULL,
    notification_type_id integer NOT NULL,
    project_id integer,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: unsubscribes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE unsubscribes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: unsubscribes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE unsubscribes_id_seq OWNED BY unsubscribes.id;


--
-- Name: updates; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE updates (
    id integer NOT NULL,
    user_id integer NOT NULL,
    project_id integer NOT NULL,
    title text,
    comment text NOT NULL,
    comment_html text NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: updates_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE updates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: updates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE updates_id_seq OWNED BY updates.id;


--
-- Name: user_totals; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW user_totals AS
    SELECT b.user_id AS id, b.user_id, sum(b.value) AS sum, count(*) AS count, sum(CASE WHEN (((NOT p.finished) OR p.successful) AND (NOT b.credits)) THEN (0)::numeric WHEN ((p.finished AND (NOT p.successful)) AND ((b.requested_refund AND (NOT b.credits)) OR (b.credits AND (NOT b.requested_refund)))) THEN (0)::numeric WHEN (((p.finished AND (NOT p.successful)) AND (NOT b.credits)) AND (NOT b.requested_refund)) THEN b.value ELSE (b.value * ((-1))::numeric) END) AS credits FROM (backers b JOIN projects p ON ((b.project_id = p.id))) WHERE (b.confirmed = true) GROUP BY b.user_id;


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY active_admin_comments ALTER COLUMN id SET DEFAULT nextval('admin_notes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers ALTER COLUMN id SET DEFAULT nextval('backers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY categories ALTER COLUMN id SET DEFAULT nextval('categories_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY comments ALTER COLUMN id SET DEFAULT nextval('comments_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY configurations ALTER COLUMN id SET DEFAULT nextval('configurations_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY curated_pages ALTER COLUMN id SET DEFAULT nextval('curated_pages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY institutional_videos ALTER COLUMN id SET DEFAULT nextval('advert_videos_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY notification_types ALTER COLUMN id SET DEFAULT nextval('notification_types_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications ALTER COLUMN id SET DEFAULT nextval('notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY oauth_providers ALTER COLUMN id SET DEFAULT nextval('oauth_providers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_logs ALTER COLUMN id SET DEFAULT nextval('payment_logs_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_notifications ALTER COLUMN id SET DEFAULT nextval('payment_notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects ALTER COLUMN id SET DEFAULT nextval('projects_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects_curated_pages ALTER COLUMN id SET DEFAULT nextval('projects_curated_pages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY rewards ALTER COLUMN id SET DEFAULT nextval('rewards_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY states ALTER COLUMN id SET DEFAULT nextval('states_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY static_contents ALTER COLUMN id SET DEFAULT nextval('static_contents_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes ALTER COLUMN id SET DEFAULT nextval('unsubscribes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates ALTER COLUMN id SET DEFAULT nextval('updates_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- Name: admin_notes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY active_admin_comments
    ADD CONSTRAINT admin_notes_pkey PRIMARY KEY (id);


--
-- Name: advert_videos_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY institutional_videos
    ADD CONSTRAINT advert_videos_pkey PRIMARY KEY (id);


--
-- Name: backers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY backers
    ADD CONSTRAINT backers_pkey PRIMARY KEY (id);


--
-- Name: categories_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY categories
    ADD CONSTRAINT categories_name_unique UNIQUE (name);


--
-- Name: categories_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY categories
    ADD CONSTRAINT categories_pkey PRIMARY KEY (id);


--
-- Name: comments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY comments
    ADD CONSTRAINT comments_pkey PRIMARY KEY (id);


--
-- Name: configurations_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY configurations
    ADD CONSTRAINT configurations_pkey PRIMARY KEY (id);


--
-- Name: curated_pages_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY curated_pages
    ADD CONSTRAINT curated_pages_pkey PRIMARY KEY (id);


--
-- Name: notification_types_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY notification_types
    ADD CONSTRAINT notification_types_pkey PRIMARY KEY (id);


--
-- Name: notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY notifications
    ADD CONSTRAINT notifications_pkey PRIMARY KEY (id);


--
-- Name: oauth_providers_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY oauth_providers
    ADD CONSTRAINT oauth_providers_name_unique UNIQUE (name);


--
-- Name: oauth_providers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY oauth_providers
    ADD CONSTRAINT oauth_providers_pkey PRIMARY KEY (id);


--
-- Name: payment_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_logs
    ADD CONSTRAINT payment_logs_pkey PRIMARY KEY (id);


--
-- Name: payment_notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_notifications
    ADD CONSTRAINT payment_notifications_pkey PRIMARY KEY (id);


--
-- Name: projects_curated_pages_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY projects_curated_pages
    ADD CONSTRAINT projects_curated_pages_pkey PRIMARY KEY (id);


--
-- Name: projects_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY projects
    ADD CONSTRAINT projects_pkey PRIMARY KEY (id);


--
-- Name: reward_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY reward_ranges
    ADD CONSTRAINT reward_ranges_pkey PRIMARY KEY (name);


--
-- Name: rewards_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY rewards
    ADD CONSTRAINT rewards_pkey PRIMARY KEY (id);


--
-- Name: states_acronym_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
    ADD CONSTRAINT states_acronym_unique UNIQUE (acronym);


--
-- Name: states_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
    ADD CONSTRAINT states_name_unique UNIQUE (name);


--
-- Name: states_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
    ADD CONSTRAINT states_pkey PRIMARY KEY (id);


--
-- Name: static_contents_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY static_contents
    ADD CONSTRAINT static_contents_pkey PRIMARY KEY (id);


--
-- Name: total_backed_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY total_backed_ranges
    ADD CONSTRAINT total_backed_ranges_pkey PRIMARY KEY (name);


--
-- Name: unsubscribes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY unsubscribes
    ADD CONSTRAINT unsubscribes_pkey PRIMARY KEY (id);


--
-- Name: updates_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY updates
    ADD CONSTRAINT updates_pkey PRIMARY KEY (id);


--
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: users_provider_uid_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_provider_uid_unique UNIQUE (provider, uid);


--
-- Name: index_active_admin_comments_on_author_type_and_author_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_active_admin_comments_on_author_type_and_author_id ON active_admin_comments USING btree (author_type, author_id);


--
-- Name: index_active_admin_comments_on_namespace; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_active_admin_comments_on_namespace ON active_admin_comments USING btree (namespace);


--
-- Name: index_backers_on_confirmed; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_confirmed ON backers USING btree (confirmed);


--
-- Name: index_backers_on_key; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_key ON backers USING btree (key);


--
-- Name: index_backers_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_project_id ON backers USING btree (project_id);


--
-- Name: index_backers_on_reward_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_reward_id ON backers USING btree (reward_id);


--
-- Name: index_backers_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_user_id ON backers USING btree (user_id);


--
-- Name: index_categories_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_categories_on_name ON categories USING btree (name);


--
-- Name: index_comments_on_commentable_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_commentable_id ON comments USING btree (commentable_id);


--
-- Name: index_comments_on_commentable_type; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_commentable_type ON comments USING btree (commentable_type);


--
-- Name: index_comments_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_user_id ON comments USING btree (user_id);


--
-- Name: index_confirmed_backers_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_confirmed_backers_on_project_id ON backers USING btree (project_id) WHERE confirmed;


--
-- Name: index_curated_pages_on_permalink; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_curated_pages_on_permalink ON curated_pages USING btree (permalink);


--
-- Name: index_notification_types_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_notification_types_on_name ON notification_types USING btree (name);


--
-- Name: index_notifications_on_update_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_notifications_on_update_id ON notifications USING btree (update_id);


--
-- Name: index_projects_on_category_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_category_id ON projects USING btree (category_id);


--
-- Name: index_projects_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_name ON projects USING btree (name);


--
-- Name: index_projects_on_permalink; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_projects_on_permalink ON projects USING btree (permalink);


--
-- Name: index_projects_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_user_id ON projects USING btree (user_id);


--
-- Name: index_rewards_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_rewards_on_project_id ON rewards USING btree (project_id);


--
-- Name: index_unsubscribes_on_notification_type_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_notification_type_id ON unsubscribes USING btree (notification_type_id);


--
-- Name: index_unsubscribes_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_project_id ON unsubscribes USING btree (project_id);


--
-- Name: index_unsubscribes_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_user_id ON unsubscribes USING btree (user_id);


--
-- Name: index_updates_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_updates_on_project_id ON updates USING btree (project_id);


--
-- Name: index_users_on_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_email ON users USING btree (email);


--
-- Name: index_users_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_name ON users USING btree (name);


--
-- Name: index_users_on_primary_user_id_and_provider; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_primary_user_id_and_provider ON users USING btree (primary_user_id, provider);


--
-- Name: index_users_on_reset_password_token; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_users_on_reset_password_token ON users USING btree (reset_password_token);


--
-- Name: index_users_on_uid; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_uid ON users USING btree (uid);


--
-- Name: users_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX users_email ON users USING btree (email) WHERE (provider = 'devise'::text);


--
-- Name: backers_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
    ADD CONSTRAINT backers_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: backers_reward_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
    ADD CONSTRAINT backers_reward_id_reference FOREIGN KEY (reward_id) REFERENCES rewards(id);


--
-- Name: backers_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
    ADD CONSTRAINT backers_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: comments_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY comments
    ADD CONSTRAINT comments_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: notifications_backer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
    ADD CONSTRAINT notifications_backer_id_fk FOREIGN KEY (backer_id) REFERENCES backers(id);


--
-- Name: notifications_notification_type_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
    ADD CONSTRAINT notifications_notification_type_id_fk FOREIGN KEY (notification_type_id) REFERENCES notification_types(id);


--
-- Name: notifications_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
    ADD CONSTRAINT notifications_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: notifications_update_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
    ADD CONSTRAINT notifications_update_id_fk FOREIGN KEY (update_id) REFERENCES updates(id);


--
-- Name: notifications_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
    ADD CONSTRAINT notifications_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: payment_notifications_backer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_notifications
    ADD CONSTRAINT payment_notifications_backer_id_fk FOREIGN KEY (backer_id) REFERENCES backers(id);


--
-- Name: projects_category_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects
    ADD CONSTRAINT projects_category_id_reference FOREIGN KEY (category_id) REFERENCES categories(id);


--
-- Name: projects_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects
    ADD CONSTRAINT projects_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: rewards_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY rewards
    ADD CONSTRAINT rewards_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: unsubscribes_notification_type_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
    ADD CONSTRAINT unsubscribes_notification_type_id_fk FOREIGN KEY (notification_type_id) REFERENCES notification_types(id);


--
-- Name: unsubscribes_project_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
    ADD CONSTRAINT unsubscribes_project_id_fk FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: unsubscribes_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
    ADD CONSTRAINT unsubscribes_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: updates_project_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates
    ADD CONSTRAINT updates_project_id_fk FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: updates_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates
    ADD CONSTRAINT updates_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: users_primary_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_primary_user_id_reference FOREIGN KEY (primary_user_id) REFERENCES users(id);

--
-- PostgreSQL database dump complete
--

  [1m[36m (0.8ms)[0m  [1mROLLBACK[0m
  [1m[36mOauthProvider Load (2.4ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
PG::UndefinedTable: ERROR:  relation "oauth_providers" does not exist
LINE 1: SELECT "oauth_providers".* FROM "oauth_providers"
                                        ^
: SELECT "oauth_providers".* FROM "oauth_providers"
PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

PG::UndefinedTable: ERROR:  relation "configurations" does not exist
LINE 5:                WHERE a.attrelid = '"configurations"'::regcla...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"configurations"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[35mContribution Reverse Foreign Keys (3.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mContribution Foreign Keys (2.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mUser Reverse Foreign Keys (2.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mUser Foreign Keys (1.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mProject Reverse Foreign Keys (2.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mProject Foreign Keys (1.8ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (448.8ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (143.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.8ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to InitialSchema (20121226120921)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (5186.3ms)[0m  --
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: pg_trgm; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pg_trgm WITH SCHEMA public;


--
-- Name: EXTENSION pg_trgm; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION pg_trgm IS 'text similarity measurement and index searching based on trigrams';


--
-- Name: unaccent; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS unaccent WITH SCHEMA public;


--
-- Name: EXTENSION unaccent; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION unaccent IS 'text search dictionary that removes accents';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: active_admin_comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE active_admin_comments (
 id integer NOT NULL,
 resource_id integer NOT NULL,
 resource_type character varying(255) NOT NULL,
 author_id integer,
 author_type character varying(255),
 body text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 namespace character varying(255)
);


--
-- Name: admin_notes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE admin_notes_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: admin_notes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE admin_notes_id_seq OWNED BY active_admin_comments.id;


--
-- Name: institutional_videos; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE institutional_videos (
 id integer NOT NULL,
 title character varying(255),
 description text,
 video_url character varying(255),
 visible boolean,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: advert_videos_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE advert_videos_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: advert_videos_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE advert_videos_id_seq OWNED BY institutional_videos.id;


--
-- Name: backers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE backers (
 id integer NOT NULL,
 project_id integer NOT NULL,
 user_id integer NOT NULL,
 reward_id integer,
 value numeric NOT NULL,
 confirmed boolean DEFAULT false NOT NULL,
 confirmed_at timestamp without time zone,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 anonymous boolean DEFAULT false,
 key text,
 requested_refund boolean DEFAULT false,
 refunded boolean DEFAULT false,
 credits boolean DEFAULT false,
 notified_finish boolean DEFAULT false,
 payment_method text,
 payment_token text,
 payment_id character varying(255),
 payer_name text,
 payer_email text,
 payer_document text,
 address_street text,
 address_number text,
 address_complement text,
 address_neighbourhood text,
 address_zip_code text,
 address_city text,
 address_state text,
 address_phone_number text,
 payment_choice text,
 payment_service_fee numeric,
 CONSTRAINT backers_value_positive CHECK ((value >= (0)::numeric))
);


--
-- Name: categories; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE categories (
 id integer NOT NULL,
 name text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT categories_name_not_blank CHECK ((length(btrim(name)) > 0))
);


--
-- Name: projects; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects (
 id integer NOT NULL,
 name text NOT NULL,
 user_id integer NOT NULL,
 category_id integer NOT NULL,
 goal numeric NOT NULL,
 expires_at timestamp without time zone NOT NULL,
 about text NOT NULL,
 headline text NOT NULL,
 video_url text NOT NULL,
 image_url text,
 short_url text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 can_finish boolean DEFAULT false,
 finished boolean DEFAULT false,
 about_html text,
 visible boolean DEFAULT false,
 rejected boolean DEFAULT false,
 recommended boolean DEFAULT false,
 home_page_comment text,
 successful boolean DEFAULT false,
 permalink character varying(255),
 video_thumbnail text,
 state character varying(255),
 online_days integer DEFAULT 0,
 CONSTRAINT projects_about_not_blank CHECK ((length(btrim(about)) > 0)),
 CONSTRAINT projects_headline_length_within CHECK (((length(headline) >= 1) AND (length(headline) <= 140))),
 CONSTRAINT projects_headline_not_blank CHECK ((length(btrim(headline)) > 0)),
 CONSTRAINT projects_video_url_not_blank CHECK ((length(btrim(video_url)) > 0))
);


--
-- Name: backers_by_category; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_category AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, c.name AS category, sum(b.value) AS total_backed, count(DISTINCT b.user_id) AS total_backers
 FROM backers b
 JOIN projects p ON p.id = b.project_id
 JOIN categories c ON c.id = p.category_id
 WHERE b.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text), c.name
 ORDER BY to_char(p.expires_at, 'yyyy'::text), c.name;

--
-- Name: backers_by_payment_choice; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_payment_choice AS 
 SELECT to_char(p.expires_at, 'yyyy-mm'::text) AS month, backers.payment_method, backers.payment_choice, sum(backers.value) AS total_backed, sum(backers.value) / bbm.total_month_backed AS payment_choice_ratio, sum(
 CASE
 WHEN backers.refunded THEN backers.value
 ELSE NULL::numeric
 END) AS total_refunded, sum(
 CASE
 WHEN backers.refunded THEN backers.value
 ELSE NULL::numeric
 END) / bbm.total_month_backed AS refunded_ratio
 FROM projects p
 JOIN backers ON backers.project_id = p.id
 JOIN ( SELECT to_char(b2.created_at, 'yyyy-mm'::text) AS b2month, sum(b2.value) AS total_month_backed
 FROM backers b2
 WHERE b2.confirmed
 GROUP BY to_char(b2.created_at, 'yyyy-mm'::text)) bbm ON bbm.b2month = to_char(backers.created_at, 'yyyy-mm'::text)
 WHERE backers.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy-mm'::text), bbm.total_month_backed, backers.payment_method, backers.payment_choice
 ORDER BY to_char(p.expires_at, 'yyyy-mm'::text), backers.payment_method, backers.payment_choice;

--
-- Name: backers_by_project; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_project AS 
 SELECT backers.project_id, sum(backers.value) AS total_backed, max(backers.value) AS max_backed, count(DISTINCT backers.user_id) AS total_backers
 FROM backers
 WHERE backers.confirmed
 GROUP BY backers.project_id;

--
-- Name: users; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE users (
 id integer NOT NULL,
 primary_user_id integer,
 provider text NOT NULL,
 uid text NOT NULL,
 email text,
 name text,
 nickname text,
 bio text,
 image_url text,
 newsletter boolean DEFAULT false,
 project_updates boolean DEFAULT false,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 admin boolean DEFAULT false,
 full_name text,
 address_street text,
 address_number text,
 address_complement text,
 address_neighbourhood text,
 address_city text,
 address_state text,
 address_zip_code text,
 phone_number text,
 credits numeric DEFAULT 0,
 locale text DEFAULT 'pt'::text NOT NULL,
 cpf text,
 encrypted_password character varying(128) DEFAULT ''::character varying NOT NULL,
 reset_password_token character varying(255),
 reset_password_sent_at timestamp without time zone,
 remember_created_at timestamp without time zone,
 sign_in_count integer DEFAULT 0,
 current_sign_in_at timestamp without time zone,
 last_sign_in_at timestamp without time zone,
 current_sign_in_ip character varying(255),
 last_sign_in_ip character varying(255),
 twitter character varying(255),
 facebook_link character varying(255),
 other_link character varying(255),
 uploaded_image text,
 CONSTRAINT users_bio_length_within CHECK (((length(bio) >= 0) AND (length(bio) <= 140))),
 CONSTRAINT users_provider_not_blank CHECK ((length(btrim(provider)) > 0)),
 CONSTRAINT users_uid_not_blank CHECK ((length(btrim(uid)) > 0))
);


--
-- Name: backers_by_state; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_state AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, NULLIF(u.address_state, ''::text) AS state, sum(b.value) AS total_backed, count(DISTINCT b.user_id) AS total_backers
 FROM backers b
 JOIN projects p ON b.project_id = p.id
 JOIN users u ON u.id = b.user_id
 WHERE b.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text), NULLIF(u.address_state, ''::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text), NULLIF(u.address_state, ''::text);

--
-- Name: backers_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_year AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, sum(backers.value) AS total_backed, count(DISTINCT backers.user_id) AS total_backers, count(DISTINCT 
 CASE
 WHEN backers.reward_id IS NULL THEN backers.user_id
 ELSE NULL::integer
 END) AS total_backers_without_reward, count(DISTINCT 
 CASE
 WHEN backers.reward_id IS NULL THEN backers.user_id
 ELSE NULL::integer
 END)::numeric / count(DISTINCT backers.user_id)::numeric AS backers_without_reward_ratio, max(backers.value) AS maximum_back
 FROM backers
 JOIN projects p ON backers.project_id = p.id
 WHERE backers.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text);

--
-- Name: backers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE backers_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: backers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE backers_id_seq OWNED BY backers.id;


--
-- Name: categories_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE categories_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: categories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE categories_id_seq OWNED BY categories.id;


--
-- Name: comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE comments (
 id integer NOT NULL,
 title text,
 comment text NOT NULL,
 comment_html text,
 commentable_id integer NOT NULL,
 commentable_type character varying(255) NOT NULL,
 user_id integer NOT NULL,
 project_update boolean DEFAULT false,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT comments_comment_not_blank CHECK ((length(btrim(comment)) > 0))
);


--
-- Name: comments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE comments_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: comments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE comments_id_seq OWNED BY comments.id;


--
-- Name: configurations; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE configurations (
 id integer NOT NULL,
 name text NOT NULL,
 value text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT configurations_name_not_blank CHECK ((length(btrim(name)) > 0))
);


--
-- Name: configurations_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE configurations_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: configurations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE configurations_id_seq OWNED BY configurations.id;


--
-- Name: curated_pages; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE curated_pages (
 id integer NOT NULL,
 name character varying(255),
 description text,
 analytics_id character varying(255),
 logo character varying(255),
 video_url character varying(255),
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 permalink character varying(255),
 visible boolean DEFAULT false,
 site_url character varying(255)
);


--
-- Name: curated_pages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE curated_pages_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: curated_pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE curated_pages_id_seq OWNED BY curated_pages.id;


--
-- Name: notification_types; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE notification_types (
 id integer NOT NULL,
 name text NOT NULL,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: notification_types_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE notification_types_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: notification_types_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE notification_types_id_seq OWNED BY notification_types.id;


--
-- Name: notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE notifications (
 id integer NOT NULL,
 user_id integer NOT NULL,
 project_id integer,
 dismissed boolean DEFAULT false NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 notification_type_id integer NOT NULL,
 backer_id integer,
 update_id integer
);


--
-- Name: notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE notifications_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE notifications_id_seq OWNED BY notifications.id;


--
-- Name: oauth_providers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE oauth_providers (
 id integer NOT NULL,
 name text NOT NULL,
 key text NOT NULL,
 secret text NOT NULL,
 scope text,
 "order" integer,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 strategy text,
 path text,
 CONSTRAINT oauth_providers_key_not_blank CHECK ((length(btrim(key)) > 0)),
 CONSTRAINT oauth_providers_name_not_blank CHECK ((length(btrim(name)) > 0)),
 CONSTRAINT oauth_providers_secret_not_blank CHECK ((length(btrim(secret)) > 0))
);


--
-- Name: oauth_providers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE oauth_providers_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: oauth_providers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE oauth_providers_id_seq OWNED BY oauth_providers.id;


--
-- Name: payment_logs; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_logs (
 id integer NOT NULL,
 backer_id integer,
 status integer,
 amount double precision,
 payment_status integer,
 moip_id integer,
 payment_method integer,
 payment_type character varying(255),
 consumer_email character varying(255),
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: payment_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_logs_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: payment_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_logs_id_seq OWNED BY payment_logs.id;


--
-- Name: payment_notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_notifications (
 id integer NOT NULL,
 backer_id integer NOT NULL,
 extra_data text,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: payment_notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_notifications_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: payment_notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_notifications_id_seq OWNED BY payment_notifications.id;


--
-- Name: paypal_payments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE paypal_payments (
 data text,
 hora text,
 fusohorario text,
 nome text,
 tipo text,
 status text,
 moeda text,
 valorbruto text,
 tarifa text,
 liquido text,
 doe_mail text,
 parae_mail text,
 iddatransacao text,
 statusdoequivalente text,
 statusdoendereco text,
 titulodoitem text,
 iddoitem text,
 valordoenvioemanuseio text,
 valordoseguro text,
 impostosobrevendas text,
 opcao1nome text,
 opcao1valor text,
 opcao2nome text,
 opcao2valor text,
 sitedoleilao text,
 iddocomprador text,
 urldoitem text,
 datadetermino text,
 iddaescritura text,
 iddafatura text,
 "idtxn_dereferência" text,
 numerodafatura text,
 numeropersonalizado text,
 iddorecibo text,
 saldo text,
 enderecolinha1 text,
 enderecolinha2_distrito_bairro text,
 cidade text,
 "estado_regiao_território_prefeitura_republica" text,
 cep text,
 pais text,
 numerodotelefoneparacontato text,
 extra text
);


--
-- Name: paypal_pending; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW paypal_pending AS
 SELECT string_agg((b.id)::text, ','::text) AS string_agg FROM (backers b JOIN paypal_payments p ON ((lower(p.doe_mail) = b.payer_email))) WHERE ((((b.payment_method = 'PayPal'::text) AND (p.status = 'Concluído'::text)) AND (NOT b.confirmed)) AND (to_number(p.valorbruto, '9,99'::text) = b.value));


--
-- Name: project_totals; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW project_totals AS
 SELECT backers.project_id, sum(backers.value) AS pledged, count(*) AS total_backers FROM backers WHERE (backers.confirmed = true) GROUP BY backers.project_id;


--
-- Name: projects_by_category; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_category AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, c.name AS category, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects
 FROM projects p
 JOIN categories c ON c.id = p.category_id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text), c.name
 ORDER BY to_char(p.expires_at, 'yyyy'::text), c.name;

--
-- Name: projects_by_state; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_state AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, NULLIF(btrim(u.address_state), ''::text) AS uf, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects
 FROM projects p
 JOIN users u ON u.id = p.user_id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text), NULLIF(btrim(u.address_state), ''::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text), NULLIF(btrim(u.address_state), ''::text);

--
-- Name: total_backed_ranges; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE total_backed_ranges (
 name text NOT NULL,
 lower numeric,
 upper numeric
);


--
-- Name: projects_by_total_backed_ranges; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_total_backed_ranges AS 
 SELECT tbr.lower, tbr.upper, count(*) AS count, count(*)::numeric / (( SELECT count(*) AS count
 FROM backers_by_project))::numeric AS ratio
 FROM backers_by_project bp
 JOIN total_backed_ranges tbr ON bp.total_backed >= tbr.lower AND bp.total_backed <= tbr.upper
 GROUP BY tbr.lower, tbr.upper
 ORDER BY tbr.lower;

--
-- Name: projects_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_year AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects, sum(
 CASE
 WHEN p.successful THEN b.total_backed
 ELSE NULL::numeric
 END) AS successful_total_backed, max(b.total_backed) AS max_total_backed, max(b.max_backed) AS max_backed, max(b.total_backers) AS max_total_backers
 FROM projects p
 LEFT JOIN backers_by_project b ON b.project_id = p.id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text);


--
-- Name: projects_curated_pages; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects_curated_pages (
 id integer NOT NULL,
 project_id integer,
 curated_page_id integer,
 description text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 description_html text
);


--
-- Name: projects_curated_pages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE projects_curated_pages_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: projects_curated_pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE projects_curated_pages_id_seq OWNED BY projects_curated_pages.id;


--
-- Name: projects_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE projects_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: projects_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE projects_id_seq OWNED BY projects.id;


--
-- Name: projects_managers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects_managers (
 user_id integer,
 project_id integer
);


--
-- Name: recurring_backers_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW recurring_backers_by_year AS 
 SELECT bby.year, trb.total_recurring_backed, bby.total_backed, trb.total_recurring_backed / bby.total_backed AS recurring_backed_ratio, trb.total_recurring_backers, bby.total_backers, trb.total_recurring_backers / bby.total_backers::numeric AS recurring_backers_ratio
 FROM ( SELECT rb.year, sum(rb.total_recurring_backed) AS total_recurring_backed, sum(rb.total_recurring_backers) AS total_recurring_backers
 FROM ( SELECT to_char(backers.created_at, 'yyyy'::text) AS year, sum(backers.value) AS total_recurring_backed, count(DISTINCT backers.user_id) AS total_recurring_backers
 FROM backers
 WHERE backers.confirmed
 GROUP BY to_char(backers.created_at, 'yyyy'::text), backers.user_id
 HAVING count(*) > 1) rb
 GROUP BY rb.year) trb
 JOIN backers_by_year bby USING (year);

--
-- Name: reward_ranges; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE reward_ranges (
 name text NOT NULL,
 lower numeric,
 upper numeric
);


--
-- Name: rewards; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE rewards (
 id integer NOT NULL,
 project_id integer NOT NULL,
 minimum_value numeric NOT NULL,
 maximum_backers integer,
 description text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT rewards_maximum_backers_positive CHECK ((maximum_backers >= 0)),
 CONSTRAINT rewards_minimum_value_positive CHECK ((minimum_value >= (0)::numeric))
);


--
-- Name: rewards_by_range; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW rewards_by_range AS 
 SELECT rr.name AS range, count(*) AS count, count(*)::numeric / (( SELECT count(*) AS count
 FROM backers
 WHERE backers.confirmed AND backers.reward_id IS NOT NULL))::numeric AS ratio
 FROM reward_ranges rr
 JOIN rewards r ON r.minimum_value >= rr.lower AND r.minimum_value <= rr.upper
 JOIN backers b ON b.reward_id = r.id
 WHERE b.confirmed
 GROUP BY rr.name, rr.lower
 ORDER BY rr.lower;


--
-- Name: rewards_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE rewards_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: rewards_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE rewards_id_seq OWNED BY rewards.id;

--
-- Name: states; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE states (
 id integer NOT NULL,
 name character varying(255) NOT NULL,
 acronym character varying(255) NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT states_acronym_not_blank CHECK ((length(btrim((acronym)::text)) > 0)),
 CONSTRAINT states_name_not_blank CHECK ((length(btrim((name)::text)) > 0))
);


--
-- Name: states_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE states_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: states_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE states_id_seq OWNED BY states.id;


--
-- Name: static_contents; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE static_contents (
 id integer NOT NULL,
 title character varying(255),
 body text,
 body_html text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: static_contents_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE static_contents_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: static_contents_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE static_contents_id_seq OWNED BY static_contents.id;


--
-- Name: statistics; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW statistics AS
 SELECT (SELECT count(*) AS count FROM users WHERE (users.primary_user_id IS NULL)) AS total_users, backers_totals.total_backs, backers_totals.total_backers, backers_totals.total_backed, projects_totals.total_projects, projects_totals.total_projects_success, projects_totals.total_projects_online FROM (SELECT count(*) AS total_backs, count(DISTINCT backers.user_id) AS total_backers, sum(backers.value) AS total_backed FROM backers WHERE backers.confirmed) backers_totals, (SELECT count(*) AS total_projects, count(CASE WHEN projects.successful THEN 1 ELSE NULL::integer END) AS total_projects_success, count(CASE WHEN ((projects.finished = false) AND (projects.expires_at >= now())) THEN 1 ELSE NULL::integer END) AS total_projects_online FROM projects WHERE projects.visible) projects_totals;


--
-- Name: unsubscribes; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE unsubscribes (
 id integer NOT NULL,
 user_id integer NOT NULL,
 notification_type_id integer NOT NULL,
 project_id integer,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: unsubscribes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE unsubscribes_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: unsubscribes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE unsubscribes_id_seq OWNED BY unsubscribes.id;


--
-- Name: updates; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE updates (
 id integer NOT NULL,
 user_id integer NOT NULL,
 project_id integer NOT NULL,
 title text,
 comment text NOT NULL,
 comment_html text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: updates_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE updates_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: updates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE updates_id_seq OWNED BY updates.id;


--
-- Name: user_totals; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW user_totals AS
 SELECT b.user_id AS id, b.user_id, sum(b.value) AS sum, count(*) AS count, sum(CASE WHEN (((NOT p.finished) OR p.successful) AND (NOT b.credits)) THEN (0)::numeric WHEN ((p.finished AND (NOT p.successful)) AND ((b.requested_refund AND (NOT b.credits)) OR (b.credits AND (NOT b.requested_refund)))) THEN (0)::numeric WHEN (((p.finished AND (NOT p.successful)) AND (NOT b.credits)) AND (NOT b.requested_refund)) THEN b.value ELSE (b.value * ((-1))::numeric) END) AS credits FROM (backers b JOIN projects p ON ((b.project_id = p.id))) WHERE (b.confirmed = true) GROUP BY b.user_id;


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE users_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY active_admin_comments ALTER COLUMN id SET DEFAULT nextval('admin_notes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers ALTER COLUMN id SET DEFAULT nextval('backers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY categories ALTER COLUMN id SET DEFAULT nextval('categories_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY comments ALTER COLUMN id SET DEFAULT nextval('comments_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY configurations ALTER COLUMN id SET DEFAULT nextval('configurations_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY curated_pages ALTER COLUMN id SET DEFAULT nextval('curated_pages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY institutional_videos ALTER COLUMN id SET DEFAULT nextval('advert_videos_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY notification_types ALTER COLUMN id SET DEFAULT nextval('notification_types_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications ALTER COLUMN id SET DEFAULT nextval('notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY oauth_providers ALTER COLUMN id SET DEFAULT nextval('oauth_providers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_logs ALTER COLUMN id SET DEFAULT nextval('payment_logs_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_notifications ALTER COLUMN id SET DEFAULT nextval('payment_notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects ALTER COLUMN id SET DEFAULT nextval('projects_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects_curated_pages ALTER COLUMN id SET DEFAULT nextval('projects_curated_pages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY rewards ALTER COLUMN id SET DEFAULT nextval('rewards_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY states ALTER COLUMN id SET DEFAULT nextval('states_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY static_contents ALTER COLUMN id SET DEFAULT nextval('static_contents_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes ALTER COLUMN id SET DEFAULT nextval('unsubscribes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates ALTER COLUMN id SET DEFAULT nextval('updates_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- Name: admin_notes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY active_admin_comments
 ADD CONSTRAINT admin_notes_pkey PRIMARY KEY (id);


--
-- Name: advert_videos_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY institutional_videos
 ADD CONSTRAINT advert_videos_pkey PRIMARY KEY (id);


--
-- Name: backers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_pkey PRIMARY KEY (id);


--
-- Name: categories_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY categories
 ADD CONSTRAINT categories_name_unique UNIQUE (name);


--
-- Name: categories_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY categories
 ADD CONSTRAINT categories_pkey PRIMARY KEY (id);


--
-- Name: comments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY comments
 ADD CONSTRAINT comments_pkey PRIMARY KEY (id);


--
-- Name: configurations_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY configurations
 ADD CONSTRAINT configurations_pkey PRIMARY KEY (id);


--
-- Name: curated_pages_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY curated_pages
 ADD CONSTRAINT curated_pages_pkey PRIMARY KEY (id);


--
-- Name: notification_types_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY notification_types
 ADD CONSTRAINT notification_types_pkey PRIMARY KEY (id);


--
-- Name: notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_pkey PRIMARY KEY (id);


--
-- Name: oauth_providers_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY oauth_providers
 ADD CONSTRAINT oauth_providers_name_unique UNIQUE (name);


--
-- Name: oauth_providers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY oauth_providers
 ADD CONSTRAINT oauth_providers_pkey PRIMARY KEY (id);


--
-- Name: payment_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_logs
 ADD CONSTRAINT payment_logs_pkey PRIMARY KEY (id);


--
-- Name: payment_notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_notifications
 ADD CONSTRAINT payment_notifications_pkey PRIMARY KEY (id);


--
-- Name: projects_curated_pages_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY projects_curated_pages
 ADD CONSTRAINT projects_curated_pages_pkey PRIMARY KEY (id);


--
-- Name: projects_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_pkey PRIMARY KEY (id);


--
-- Name: reward_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY reward_ranges
 ADD CONSTRAINT reward_ranges_pkey PRIMARY KEY (name);


--
-- Name: rewards_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY rewards
 ADD CONSTRAINT rewards_pkey PRIMARY KEY (id);


--
-- Name: states_acronym_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_acronym_unique UNIQUE (acronym);


--
-- Name: states_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_name_unique UNIQUE (name);


--
-- Name: states_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_pkey PRIMARY KEY (id);


--
-- Name: static_contents_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY static_contents
 ADD CONSTRAINT static_contents_pkey PRIMARY KEY (id);


--
-- Name: total_backed_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY total_backed_ranges
 ADD CONSTRAINT total_backed_ranges_pkey PRIMARY KEY (name);


--
-- Name: unsubscribes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_pkey PRIMARY KEY (id);


--
-- Name: updates_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_pkey PRIMARY KEY (id);


--
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: users_provider_uid_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_provider_uid_unique UNIQUE (provider, uid);


--
-- Name: index_active_admin_comments_on_author_type_and_author_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_active_admin_comments_on_author_type_and_author_id ON active_admin_comments USING btree (author_type, author_id);


--
-- Name: index_active_admin_comments_on_namespace; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_active_admin_comments_on_namespace ON active_admin_comments USING btree (namespace);


--
-- Name: index_backers_on_confirmed; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_confirmed ON backers USING btree (confirmed);


--
-- Name: index_backers_on_key; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_key ON backers USING btree (key);


--
-- Name: index_backers_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_project_id ON backers USING btree (project_id);


--
-- Name: index_backers_on_reward_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_reward_id ON backers USING btree (reward_id);


--
-- Name: index_backers_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_user_id ON backers USING btree (user_id);


--
-- Name: index_categories_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_categories_on_name ON categories USING btree (name);


--
-- Name: index_comments_on_commentable_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_commentable_id ON comments USING btree (commentable_id);


--
-- Name: index_comments_on_commentable_type; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_commentable_type ON comments USING btree (commentable_type);


--
-- Name: index_comments_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_user_id ON comments USING btree (user_id);


--
-- Name: index_confirmed_backers_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_confirmed_backers_on_project_id ON backers USING btree (project_id) WHERE confirmed;


--
-- Name: index_curated_pages_on_permalink; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_curated_pages_on_permalink ON curated_pages USING btree (permalink);


--
-- Name: index_notification_types_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_notification_types_on_name ON notification_types USING btree (name);


--
-- Name: index_notifications_on_update_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_notifications_on_update_id ON notifications USING btree (update_id);


--
-- Name: index_projects_on_category_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_category_id ON projects USING btree (category_id);


--
-- Name: index_projects_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_name ON projects USING btree (name);


--
-- Name: index_projects_on_permalink; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_projects_on_permalink ON projects USING btree (permalink);


--
-- Name: index_projects_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_user_id ON projects USING btree (user_id);


--
-- Name: index_rewards_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_rewards_on_project_id ON rewards USING btree (project_id);


--
-- Name: index_unsubscribes_on_notification_type_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_notification_type_id ON unsubscribes USING btree (notification_type_id);


--
-- Name: index_unsubscribes_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_project_id ON unsubscribes USING btree (project_id);


--
-- Name: index_unsubscribes_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_user_id ON unsubscribes USING btree (user_id);


--
-- Name: index_updates_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_updates_on_project_id ON updates USING btree (project_id);


--
-- Name: index_users_on_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_email ON users USING btree (email);


--
-- Name: index_users_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_name ON users USING btree (name);


--
-- Name: index_users_on_primary_user_id_and_provider; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_primary_user_id_and_provider ON users USING btree (primary_user_id, provider);


--
-- Name: index_users_on_reset_password_token; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_users_on_reset_password_token ON users USING btree (reset_password_token);


--
-- Name: index_users_on_uid; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_uid ON users USING btree (uid);


--
-- Name: users_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX users_email ON users USING btree (email) WHERE (provider = 'devise'::text);


--
-- Name: backers_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: backers_reward_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_reward_id_reference FOREIGN KEY (reward_id) REFERENCES rewards(id);


--
-- Name: backers_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: comments_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY comments
 ADD CONSTRAINT comments_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: notifications_backer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_backer_id_fk FOREIGN KEY (backer_id) REFERENCES backers(id);


--
-- Name: notifications_notification_type_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_notification_type_id_fk FOREIGN KEY (notification_type_id) REFERENCES notification_types(id);


--
-- Name: notifications_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: notifications_update_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_update_id_fk FOREIGN KEY (update_id) REFERENCES updates(id);


--
-- Name: notifications_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: payment_notifications_backer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_notifications
 ADD CONSTRAINT payment_notifications_backer_id_fk FOREIGN KEY (backer_id) REFERENCES backers(id);


--
-- Name: projects_category_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_category_id_reference FOREIGN KEY (category_id) REFERENCES categories(id);


--
-- Name: projects_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: rewards_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY rewards
 ADD CONSTRAINT rewards_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: unsubscribes_notification_type_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_notification_type_id_fk FOREIGN KEY (notification_type_id) REFERENCES notification_types(id);


--
-- Name: unsubscribes_project_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_project_id_fk FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: unsubscribes_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: updates_project_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_project_id_fk FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: updates_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: users_primary_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_primary_user_id_reference FOREIGN KEY (primary_user_id) REFERENCES users(id);

--
-- PostgreSQL database dump complete
--

  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20121226120921"]]
  [1m[35m (26.1ms)[0m  COMMIT
Migrating to UserTotalsBackToStateMachine (20121227012003)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (21.8ms)[0m   CREATE OR REPLACE VIEW user_totals AS
 SELECT
 b.user_id as id,
 b.user_id,
 sum(b.value) AS sum,
 count(*) AS count,
 sum(CASE
 -- I've backed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0
 -- I've backed a failed project with money and asked for refund xor I've backed a failed project with credits
 WHEN p.state = 'failed' AND ((b.requested_refund AND NOT b.credits) OR (b.credits AND NOT b.requested_refund)) THEN 0
 -- I've backed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND NOT b.requested_refund THEN b.value
 -- I've backed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM
 backers b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.confirmed = true
 GROUP BY b.user_id;

  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20121227012003"]]
  [1m[35m (44.9ms)[0m  COMMIT
Migrating to StatisticsBackToStateMachine (20121227012324)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (4.7ms)[0m   CREATE OR REPLACE VIEW statistics AS
 SELECT
 (SELECT count(*) FROM users WHERE primary_user_id IS NULL) AS total_users,
 total_backs,
 total_backers,
 total_backed,
 total_projects,
 total_projects_success,
 total_projects_online
 FROM
 (
 SELECT count(*) AS total_backs, 
 count(DISTINCT user_id) AS total_backers, 
 sum(value) AS total_backed 
 FROM backers WHERE confirmed
 ) AS backers_totals,

 (
 SELECT 
 count(*) AS total_projects, 
 count(CASE WHEN state = 'successful' THEN 1 ELSE NULL END) AS total_projects_success, 
 count(CASE WHEN state = 'online' THEN 1 ELSE NULL END) AS total_projects_online 
 FROM projects WHERE state NOT IN ('draft', 'rejected')
 ) AS projects_totals

  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20121227012324"]]
  [1m[35m (9.2ms)[0m  COMMIT
Migrating to AddOnlineDateToProjects (20121230111351)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "projects" ADD COLUMN "online_date" timestamp
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20121230111351"]]
  [1m[35m (11.2ms)[0m  COMMIT
Migrating to UpdateProjectsToStateMachineAgain (20130102180139)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (19.3ms)[0m  
 UPDATE projects 
 SET finished = true
 WHERE 
 finished = false AND visible = true AND expires_at <= current_timestamp - '5 days'::interval;
 
  [1m[36m (1.0ms)[0m  [1m
 UPDATE projects p
 SET state = (
 CASE
 WHEN p.finished = true AND p.successful = true THEN 'successful'
 WHEN p.finished = true AND p.successful = false THEN 'failed'
 WHEN p.finished = false AND p.visible = true THEN 'online'
 WHEN coalesce(p.visible, false) = false THEN 'draft'
 END
 );
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130102180139"]]
  [1m[36m (27.7ms)[0m  [1mCOMMIT[0m
Migrating to AddMoipLoginToUsers (20130104005632)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "users" ADD COLUMN "moip_login" character varying(255)[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130104005632"]]
  [1m[36m (12.7ms)[0m  [1mCOMMIT[0m
Migrating to AddHowKnowAndMoreLinksToProjects (20130104104501)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "how_know" text[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "projects" ADD COLUMN "more_links" text
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130104104501"]]
  [1m[35m (12.3ms)[0m  COMMIT
Migrating to AddFirstBackersToProjects (20130105123546)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "projects" ADD COLUMN "first_backers" text
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130105123546"]]
  [1m[35m (3.0ms)[0m  COMMIT
Migrating to AddUploadedImageToProjects (20130110191750)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "projects" ADD COLUMN "uploaded_image" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130110191750"]]
  [1m[35m (13.0ms)[0m  COMMIT
Migrating to AlterProjectsDropVideoUrlConstraint (20130117205659)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  
 ALTER TABLE projects ALTER video_url DROP NOT NULL;
 ALTER TABLE projects DROP CONSTRAINT projects_video_url_not_blank;
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130117205659"]]
  [1m[35m (11.3ms)[0m  COMMIT
Migrating to FixStatisticsView (20130118193907)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (6.2ms)[0m   CREATE OR REPLACE VIEW statistics AS
 SELECT ( SELECT count(*) AS count
 FROM users
 WHERE users.primary_user_id IS NULL) AS total_users, backers_totals.total_backs, backers_totals.total_backers, backers_totals.total_backed, projects_totals.total_projects, projects_totals.total_projects_success, projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, count(DISTINCT backers.user_id) AS total_backers, sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.confirmed) backers_totals, ( SELECT count(*) AS total_projects, count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, count(
 CASE
 WHEN projects.state IN ('online', 'successful') AND projects.expires_at >= current_timestamp THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying, 'rejected'::character varying]::text[])) projects_totals;

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130118193907"]]
  [1m[35m (9.0ms)[0m  COMMIT
Migrating to CreateBackerReports (20130121162447)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (54.6ms)[0m  CREATE VIEW "backer_reports" AS 
 SELECT 
 b.project_id,
 u.name, 
 b.value,
 r.minimum_value,
 r.description,
 b.payment_method,
 b.payment_choice,
 b.payment_service_fee,
 b.key,
 b.created_at::date,
 b.confirmed_at::date,
 u.email,
 b.payer_email,
 b.payer_name,
 u.cpf,
 u.address_street,
 u.address_complement,
 u.address_number,
 u.address_neighbourhood,
 u.address_city,
 u.address_state,
 u.address_zip_code,
 b.requested_refund,
 b.refunded
 FROM 
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130121162447"]]
  [1m[35m (25.3ms)[0m  COMMIT
Migrating to FixProjectsStates (20130121204224)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (1.8ms)[0m  
 UPDATE projects SET state = 'waiting_funds' WHERE state IN ('successful', 'online') AND current_timestamp BETWEEN expires_at and expires_at + '4 day'::interval;
 UPDATE projects SET state = 'online' WHERE state = 'successful' AND current_timestamp < expires_at;
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130121204224"]]
  [1m[35m (13.7ms)[0m  COMMIT
Migrating to FixStatistcsAgain (20130121212325)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (3.6ms)[0m   CREATE OR REPLACE VIEW statistics AS
 SELECT ( SELECT count(*) AS count
 FROM users
 WHERE users.primary_user_id IS NULL) AS total_users, backers_totals.total_backs, backers_totals.total_backers, backers_totals.total_backed, projects_totals.total_projects, projects_totals.total_projects_success, projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, count(DISTINCT backers.user_id) AS total_backers, sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.confirmed) backers_totals, ( SELECT count(*) AS total_projects, count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, count(
 CASE
 WHEN projects.state = 'online' THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying, 'rejected'::character varying]::text[])) projects_totals;

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130121212325"]]
  [1m[35m (10.3ms)[0m  COMMIT
Migrating to AddCpfToBackerReport (20130131121553)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (18.5ms)[0m  DROP VIEW "backer_reports"
  [1m[36m (7.7ms)[0m  [1mCREATE VIEW "backer_reports" AS 
 SELECT 
 b.project_id,
 u.name, 
 b.value,
 r.minimum_value,
 r.description,
 b.payment_method,
 b.payment_choice,
 b.payment_service_fee,
 b.key,
 b.created_at::date,
 b.confirmed_at::date,
 u.email,
 b.payer_email,
 b.payer_name,
 coalesce(b.payer_document, u.cpf) as cpf,
 u.address_street,
 u.address_complement,
 u.address_number,
 u.address_neighbourhood,
 u.address_city,
 u.address_state,
 u.address_zip_code,
 b.requested_refund,
 b.refunded
 FROM 
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130131121553"]]
  [1m[36m (22.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveCuratedPages (20130201200604)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1mDROP TABLE "curated_pages"[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130201200604"]]
  [1m[36m (17.4ms)[0m  [1mCOMMIT[0m
Migrating to RemoveProjectsManagers (20130201202648)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mDROP TABLE "projects_managers"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130201202648"]]
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveActiveAdminComments (20130201202829)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (3.9ms)[0m  [1mDROP TABLE "active_admin_comments"[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130201202829"]]
  [1m[36m (15.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveInstitutionalVideos (20130201205659)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1mDROP TABLE "institutional_videos"[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130201205659"]]
  [1m[36m (10.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateBackerReportsForProjectOwner (20130204192704)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (6.9ms)[0m  [1mCREATE VIEW "backer_reports_for_project_owners" AS 
 SELECT
 b.project_id,
 r.id as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130204192704"]]
  [1m[36m (14.6ms)[0m  [1mCOMMIT[0m
Migrating to RemoveCreditsFromUsers (20130205143533)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "users" DROP "credits"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130205143533"]]
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
Migrating to FixViewBackerReportsForProjectOwner (20130206121758)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (6.2ms)[0m  [1m
 CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130206121758"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
Migrating to AddNameEnToCategories (20130211174609)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "categories" ADD COLUMN "name_en" character varying(255)[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130211174609"]]
  [1m[36m (13.1ms)[0m  [1mCOMMIT[0m
Migrating to RenameNameToNamePt (20130212145115)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "categories" RENAME COLUMN "name" TO "name_pt"[0m
  [1m[35m (37.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'categories'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index categories_name_unique on categories (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17351
[0m
  [1m[35mColumns for index index_categories_on_name on categories (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17351

  [1m[36m (1.3ms)[0m  [1mALTER INDEX "index_categories_on_name" RENAME TO "index_categories_on_name_pt"[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130212145115"]]
  [1m[36m (14.2ms)[0m  [1mCOMMIT[0m
Migrating to ChangePermalinkToNotNull (20130213184141)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.4ms)[0m  [1m UPDATE projects SET permalink = regexp_replace(unaccent(lower(trim(name))), '[^\w]|[ªº]', '-', 'gi') 
 WHERE NULLIF(trim(permalink), '') is NULL AND (SELECT count(*) < 2 FROM projects p2 
 WHERE regexp_replace(unaccent(lower(trim(p2.name))), '[^\w]|[ªº]', '-', 'gi') = regexp_replace(unaccent(lower(trim(projects.name))), '[^\w]|[ªº]', '-', 'gi'));
 UPDATE projects SET permalink = projects.id::text || '-' || regexp_replace(unaccent(lower(trim(name))), '[^\w]|[ªº]', '-', 'gi') WHERE NULLIF(trim(permalink), '') is NULL;
[0m
  [1m[35m (46.0ms)[0m  ALTER TABLE "projects" ALTER COLUMN "permalink" TYPE text
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "projects" ALTER "permalink" SET NOT NULL[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130213184141"]]
  [1m[36m (10.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateUsersOauthProviders (20130218201312)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users_oauth_providers'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (1.6ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users_oauth_providers'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (99.3ms)[0m  [1mCREATE TABLE "users_oauth_providers" ("id" serial primary key, "oauth_provider_id" integer NOT NULL, "user_id" integer NOT NULL, "uid" text NOT NULL, "created_at" timestamp, "updated_at" timestamp, CONSTRAINT fk_users_oauth_providers_oauth_provider_id FOREIGN KEY ("oauth_provider_id") REFERENCES "oauth_providers" ("id"), CONSTRAINT fk_users_oauth_providers_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id")) [0m
  [1m[35m (41.7ms)[0m  CREATE INDEX "fk__users_oauth_providers_oauth_provider_id" ON "users_oauth_providers" ("oauth_provider_id")
  [1m[36m (44.5ms)[0m  [1mCREATE INDEX "fk__users_oauth_providers_user_id" ON "users_oauth_providers" ("user_id")[0m
  [1m[35m (55.7ms)[0m  CREATE UNIQUE INDEX "index_users_oauth_providers_on_uid_and_oauth_provider_id" ON "users_oauth_providers" ("uid", "oauth_provider_id")
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130218201312"]]
  [1m[35m (18.4ms)[0m  COMMIT
Migrating to MigrateUserDataToUsersOathProviders (20130218201751)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (3.7ms)[0m   INSERT INTO users_oauth_providers (oauth_provider_id, user_id, uid, created_at, updated_at)
 SELECT (SELECT id FROM oauth_providers op WHERE op.path = users.provider), id, uid, now(), now() FROM users 
 WHERE EXISTS (SELECT true FROM oauth_providers op WHERE op.path = users.provider);

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130218201751"]]
  [1m[35m (11.0ms)[0m  COMMIT
Migrating to RenameUsersOathProviders (20130221171018)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (5.3ms)[0m  DROP TABLE "users_oauth_providers"
  [1m[36m (1.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'authorizations'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (1.4ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'authorizations'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (97.5ms)[0m  [1mCREATE TABLE "authorizations" ("id" serial primary key, "oauth_provider_id" integer NOT NULL, "user_id" integer NOT NULL, "uid" text NOT NULL, "created_at" timestamp, "updated_at" timestamp, CONSTRAINT fk_authorizations_oauth_provider_id FOREIGN KEY ("oauth_provider_id") REFERENCES "oauth_providers" ("id"), CONSTRAINT fk_authorizations_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id")) [0m
  [1m[35m (65.7ms)[0m  CREATE INDEX "fk__authorizations_oauth_provider_id" ON "authorizations" ("oauth_provider_id")
  [1m[36m (43.7ms)[0m  [1mCREATE INDEX "fk__authorizations_user_id" ON "authorizations" ("user_id")[0m
  [1m[35m (44.5ms)[0m  CREATE UNIQUE INDEX "index_authorizations_on_uid_and_oauth_provider_id" ON "authorizations" ("uid", "oauth_provider_id")
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221171018"]]
  [1m[35m (23.4ms)[0m  COMMIT
Migrating to PopulateAuthorizations (20130221172840)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (1.6ms)[0m   INSERT INTO authorizations (oauth_provider_id, user_id, uid, created_at, updated_at)
 SELECT (SELECT id FROM oauth_providers op WHERE op.path = users.provider), id, uid, now(), now() FROM users 
 WHERE EXISTS (SELECT true FROM oauth_providers op WHERE op.path = users.provider);

  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221172840"]]
  [1m[35m (7.8ms)[0m  COMMIT
Migrating to RemoveStaticContents (20130221175717)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.9ms)[0m  DROP TABLE "static_contents"
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221175717"]]
  [1m[35m (16.0ms)[0m  COMMIT
Migrating to UpdateOauthProviderNameToLower (20130221184144)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  UPDATE oauth_providers SET name = lower(name);
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221184144"]]
  [1m[35m (9.7ms)[0m  COMMIT
Migrating to RecreateStatisticsWithNewUsers (20130221185532)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (4.5ms)[0m   CREATE OR REPLACE VIEW statistics AS
 SELECT (SELECT count(*) AS count
 FROM users) AS total_users, 
 backers_totals.total_backs, backers_totals.total_backers, 
 backers_totals.total_backed, projects_totals.total_projects, 
 projects_totals.total_projects_success, 
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, 
 count(DISTINCT backers.user_id) AS total_backers, 
 sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.confirmed) backers_totals, 
 ( SELECT count(*) AS total_projects, 
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, 
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221185532"]]
  [1m[35m (11.1ms)[0m  COMMIT
Migrating to RemoveSecondaryUsers (20130221201732)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (1.9ms)[0m  
 UPDATE users SET email = 
 (SELECT email FROM users su WHERE su.primary_user_id = users.id AND email IS NOT NULL LIMIT 1) 
 WHERE 
 email IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND email IS NOT NULL) > 0
  [1m[36m (1.5ms)[0m  [1m
 UPDATE users SET name = 
 (SELECT name FROM users su WHERE su.primary_user_id = users.id AND name IS NOT NULL LIMIT 1) 
 WHERE 
 name IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND name IS NOT NULL) > 0[0m
  [1m[35m (1.7ms)[0m  
 UPDATE users SET nickname = 
 (SELECT nickname FROM users su WHERE su.primary_user_id = users.id AND nickname IS NOT NULL LIMIT 1) 
 WHERE 
 nickname IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND nickname IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET bio = 
 (SELECT bio FROM users su WHERE su.primary_user_id = users.id AND bio IS NOT NULL LIMIT 1) 
 WHERE 
 bio IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND bio IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET image_url = 
 (SELECT image_url FROM users su WHERE su.primary_user_id = users.id AND image_url IS NOT NULL LIMIT 1) 
 WHERE 
 image_url IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND image_url IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET newsletter = 
 (SELECT newsletter FROM users su WHERE su.primary_user_id = users.id AND newsletter IS NOT NULL LIMIT 1) 
 WHERE 
 newsletter IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND newsletter IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET project_updates = 
 (SELECT project_updates FROM users su WHERE su.primary_user_id = users.id AND project_updates IS NOT NULL LIMIT 1) 
 WHERE 
 project_updates IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND project_updates IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET full_name = 
 (SELECT full_name FROM users su WHERE su.primary_user_id = users.id AND full_name IS NOT NULL LIMIT 1) 
 WHERE 
 full_name IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND full_name IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET address_street = 
 (SELECT address_street FROM users su WHERE su.primary_user_id = users.id AND address_street IS NOT NULL LIMIT 1) 
 WHERE 
 address_street IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_street IS NOT NULL) > 0
  [1m[36m (1.4ms)[0m  [1m
 UPDATE users SET address_number = 
 (SELECT address_number FROM users su WHERE su.primary_user_id = users.id AND address_number IS NOT NULL LIMIT 1) 
 WHERE 
 address_number IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_number IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET address_complement = 
 (SELECT address_complement FROM users su WHERE su.primary_user_id = users.id AND address_complement IS NOT NULL LIMIT 1) 
 WHERE 
 address_complement IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_complement IS NOT NULL) > 0
  [1m[36m (1.4ms)[0m  [1m
 UPDATE users SET address_neighbourhood = 
 (SELECT address_neighbourhood FROM users su WHERE su.primary_user_id = users.id AND address_neighbourhood IS NOT NULL LIMIT 1) 
 WHERE 
 address_neighbourhood IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_neighbourhood IS NOT NULL) > 0[0m
  [1m[35m (1.2ms)[0m  
 UPDATE users SET address_city = 
 (SELECT address_city FROM users su WHERE su.primary_user_id = users.id AND address_city IS NOT NULL LIMIT 1) 
 WHERE 
 address_city IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_city IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET address_state = 
 (SELECT address_state FROM users su WHERE su.primary_user_id = users.id AND address_state IS NOT NULL LIMIT 1) 
 WHERE 
 address_state IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_state IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET address_zip_code = 
 (SELECT address_zip_code FROM users su WHERE su.primary_user_id = users.id AND address_zip_code IS NOT NULL LIMIT 1) 
 WHERE 
 address_zip_code IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_zip_code IS NOT NULL) > 0
  [1m[36m (1.9ms)[0m  [1m
 UPDATE users SET phone_number = 
 (SELECT phone_number FROM users su WHERE su.primary_user_id = users.id AND phone_number IS NOT NULL LIMIT 1) 
 WHERE 
 phone_number IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND phone_number IS NOT NULL) > 0[0m
  [1m[35m (1.9ms)[0m  
 UPDATE users SET locale = 
 (SELECT locale FROM users su WHERE su.primary_user_id = users.id AND locale IS NOT NULL LIMIT 1) 
 WHERE 
 locale IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND locale IS NOT NULL) > 0
  [1m[36m (2.0ms)[0m  [1m
 UPDATE users SET cpf = 
 (SELECT cpf FROM users su WHERE su.primary_user_id = users.id AND cpf IS NOT NULL LIMIT 1) 
 WHERE 
 cpf IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND cpf IS NOT NULL) > 0[0m
  [1m[35m (1.8ms)[0m  
 UPDATE users SET twitter = 
 (SELECT twitter FROM users su WHERE su.primary_user_id = users.id AND twitter IS NOT NULL LIMIT 1) 
 WHERE 
 twitter IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND twitter IS NOT NULL) > 0
  [1m[36m (1.7ms)[0m  [1m
 UPDATE users SET facebook_link = 
 (SELECT facebook_link FROM users su WHERE su.primary_user_id = users.id AND facebook_link IS NOT NULL LIMIT 1) 
 WHERE 
 facebook_link IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND facebook_link IS NOT NULL) > 0[0m
  [1m[35m (1.7ms)[0m  
 UPDATE users SET other_link = 
 (SELECT other_link FROM users su WHERE su.primary_user_id = users.id AND other_link IS NOT NULL LIMIT 1) 
 WHERE 
 other_link IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND other_link IS NOT NULL) > 0
  [1m[36m (1.8ms)[0m  [1m
 UPDATE users SET uploaded_image = 
 (SELECT uploaded_image FROM users su WHERE su.primary_user_id = users.id AND uploaded_image IS NOT NULL LIMIT 1) 
 WHERE 
 uploaded_image IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND uploaded_image IS NOT NULL) > 0[0m
  [1m[35m (1.6ms)[0m  
 UPDATE users SET moip_login = 
 (SELECT moip_login FROM users su WHERE su.primary_user_id = users.id AND moip_login IS NOT NULL LIMIT 1) 
 WHERE 
 moip_login IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND moip_login IS NOT NULL) > 0
  [1m[36m (51.4ms)[0m  [1m
 DROP INDEX index_authorizations_on_uid_and_oauth_provider_id;
 INSERT INTO authorizations (oauth_provider_id, user_id, uid, created_at, updated_at)
 SELECT DISTINCT a.oauth_provider_id, su.primary_user_id, a.uid, current_timestamp, current_timestamp
 FROM authorizations a JOIN users su ON a.user_id = su.id
 WHERE su.primary_user_id IS NOT NULL 
 AND NOT EXISTS (
 SELECT true 
 FROM authorizations a2 
 WHERE a2.user_id = su.primary_user_id AND a2.oauth_provider_id = a.oauth_provider_id);
 DELETE FROM authorizations WHERE user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL);
 CREATE UNIQUE INDEX index_authorizations_on_uid_and_oauth_provider_id ON authorizations (uid, oauth_provider_id);
 [0m
  [1m[35m (2.0ms)[0m  
 UPDATE backers SET user_id = (SELECT primary_user_id FROM users WHERE id = backers.user_id)
 WHERE backers.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 
  [1m[36m (1.4ms)[0m  [1m
 UPDATE notifications SET user_id = (SELECT primary_user_id FROM users WHERE id = notifications.user_id)
 WHERE notifications.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 [0m
  [1m[35m (1.3ms)[0m  
 UPDATE projects SET user_id = (SELECT primary_user_id FROM users WHERE id = projects.user_id)
 WHERE projects.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 
  [1m[36m (1.5ms)[0m  [1m
 UPDATE unsubscribes SET user_id = (SELECT primary_user_id FROM users WHERE id = unsubscribes.user_id)
 WHERE unsubscribes.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 [0m
  [1m[35m (1.2ms)[0m  
 UPDATE updates SET user_id = (SELECT primary_user_id FROM users WHERE id = updates.user_id)
 WHERE updates.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 
  [1m[36m (3.6ms)[0m  [1mDROP TABLE comments;[0m
  [1m[35m (0.6ms)[0m  DELETE FROM users WHERE primary_user_id IS NOT NULL
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221201732"]]
  [1m[35m (21.6ms)[0m  COMMIT
Migrating to AddStateInscriptionToUser (20130222163633)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "users" ADD COLUMN "state_inscription" character varying(255)
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130222163633"]]
  [1m[35m (3.4ms)[0m  COMMIT
Migrating to UpdateUserEmailsFromBackers (20130225135512)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  
 UPDATE users 
 SET 
 email = (SELECT b.payer_email FROM backers b WHERE b.user_id = users.id AND b.payer_email IS NOT NULL LIMIT 1) 
 WHERE 
 email IS NULL 
 AND id IN (SELECT user_id FROM backers WHERE payer_email IS NOT NULL);
 
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130225135512"]]
  [1m[35m (11.9ms)[0m  COMMIT
Migrating to AlterUserDropProviderUidConstraints (20130225141802)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  
 ALTER TABLE users ALTER provider DROP NOT NULL;
 ALTER TABLE users ALTER uid DROP NOT NULL;
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130225141802"]]
  [1m[35m (13.0ms)[0m  COMMIT
Migrating to AddUniqueIndexToConfiguration (20130228141234)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (46.9ms)[0m  CREATE UNIQUE INDEX "index_configurations_on_name" ON "configurations" ("name")
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130228141234"]]
  [1m[35m (11.9ms)[0m  COMMIT
Migrating to CreateChannelProfiles (20130304193806)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (90.7ms)[0m  CREATE TABLE "channel_profiles" ("id" serial primary key, "name" character varying(255) NOT NULL, "description" character varying(255), "permalink" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (44.5ms)[0m  [1mCREATE UNIQUE INDEX "index_channel_profiles_on_permalink" ON "channel_profiles" ("permalink")[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130304193806"]]
  [1m[36m (21.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateVersions (20130307074614)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (92.2ms)[0m  [1mCREATE TABLE "versions" ("id" serial primary key, "item_type" character varying(255) NOT NULL, "item_id" integer NOT NULL, "event" character varying(255) NOT NULL, "whodunnit" character varying(255), "object" text, "created_at" timestamp) [0m
  [1m[35m (44.0ms)[0m  CREATE INDEX "index_versions_on_item_type_and_item_id" ON "versions" ("item_type", "item_id")
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130307074614"]]
  [1m[35m (19.3ms)[0m  COMMIT
Migrating to AddReindexVersionsToRewards (20130307090153)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "rewards" ADD COLUMN "reindex_versions" timestamp
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130307090153"]]
  [1m[35m (9.9ms)[0m  COMMIT
Migrating to AddUserNameOnBackerReportForProjectOwner (20130308200907)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (2.9ms)[0m  DROP VIEW "backer_reports_for_project_owners"
  [1m[36m (9.6ms)[0m  [1m
 CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130308200907"]]
  [1m[36m (12.8ms)[0m  [1mCOMMIT[0m
Migrating to DropUidAndProviderConstraintOnUsers (20130311191444)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1m
 ALTER TABLE users DROP CONSTRAINT users_provider_uid_unique;
 [0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130311191444"]]
  [1m[36m (13.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveUnnecessaryUserIndexes (20130311192846)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.5ms)[0m  [1m
 DROP INDEX IF EXISTS users_email;
 DROP INDEX IF EXISTS index_users_on_primary_user_id_and_provider;
 DROP INDEX IF EXISTS index_users_on_uid;
 ALTER TABLE users DROP CONSTRAINT IF EXISTS users_provider_not_blank;
 ALTER TABLE users DROP CONSTRAINT IF EXISTS users_uid_not_blank;
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130311192846"]]
  [1m[36m (13.9ms)[0m  [1mCOMMIT[0m
Migrating to FixDuplicateEmails (20130312001021)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (32.1ms)[0m  [1m
 CREATE TEMP TABLE target AS SELECT min(id) id, email FROM users WHERE trim(email) <> '' GROUP BY email HAVING count(*) > 1;
 CREATE TEMP TABLE source AS SELECT id, email FROM users WHERE email IN (SELECT email FROM target) AND id NOT IN (SELECT id FROM target);
 UPDATE backers SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = backers.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE authorizations SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = authorizations.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE notifications SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = notifications.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE projects SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = projects.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE unsubscribes SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = unsubscribes.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE updates SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = updates.user_id)
 WHERE user_id IN (SELECT id FROM source);
 DELETE FROM users WHERE id IN (SELECT id FROM source);
 DROP TABLE source;
 DROP TABLE target;
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130312001021"]]
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
Migrating to RenameChannelsProfilesToChannels (20130313032607)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "channel_profiles" RENAME TO "channels"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "channel_profiles_id_seq" RENAME TO "channels_id_seq"
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_channel_profiles_on_permalink on channels (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17883

  [1m[36m (0.6ms)[0m  [1mALTER INDEX "index_channel_profiles_on_permalink" RENAME TO "index_channels_on_permalink"[0m
  [1m[35m (3.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_channels_on_permalink on channels (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17883
[0m
  [1m[35m (1.4ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130313032607"]]
  [1m[35m (22.3ms)[0m  COMMIT
Migrating to CreateChannelsProjects (20130313034356)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (1.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (45.1ms)[0m  CREATE TABLE "channels_projects" ("id" serial primary key, "channel_id" integer, "project_id" integer, CONSTRAINT fk_channels_projects_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id"), CONSTRAINT fk_channels_projects_project_id FOREIGN KEY ("project_id") REFERENCES "projects" ("id")) 
  [1m[36m (42.5ms)[0m  [1mCREATE UNIQUE INDEX "index_channels_projects_on_channel_id_and_project_id" ON "channels_projects" ("channel_id", "project_id")[0m
  [1m[35m (62.0ms)[0m  CREATE INDEX "index_channels_projects_on_project_id" ON "channels_projects" ("project_id")
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130313034356"]]
  [1m[35m (5.1ms)[0m  COMMIT
Migrating to CreateChannelsTrustees (20130319131919)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (1.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_trustees'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (1.5ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_trustees'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (59.1ms)[0m  CREATE TABLE "channels_trustees" ("id" serial primary key, "user_id" integer, "channel_id" integer, CONSTRAINT fk_channels_trustees_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id"), CONSTRAINT fk_channels_trustees_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id")) 
  [1m[36m (53.0ms)[0m  [1mCREATE UNIQUE INDEX "index_channels_trustees_on_user_id_and_channel_id" ON "channels_trustees" ("user_id", "channel_id")[0m
  [1m[35m (46.1ms)[0m  CREATE INDEX "index_channels_trustees_on_channel_id" ON "channels_trustees" ("channel_id")
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130319131919"]]
  [1m[35m (15.4ms)[0m  COMMIT
Migrating to AddTwitterAndFacebookAndEmailToChannels (20130410181958)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "channels" ADD COLUMN "twitter" character varying(255)
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "channels" ADD COLUMN "facebook" character varying(255)[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "channels" ADD COLUMN "email" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130410181958"]]
  [1m[35m (6.2ms)[0m  COMMIT
Migrating to AddImageToChannels (20130410190247)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "channels" ADD COLUMN "image" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130410190247"]]
  [1m[35m (12.0ms)[0m  COMMIT
Migrating to AddWebsiteToChannels (20130410191240)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "channels" ADD COLUMN "website" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130410191240"]]
  [1m[35m (13.7ms)[0m  COMMIT
Migrating to CreateChannelsSubscribers (20130411193016)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_subscribers'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (1.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_subscribers'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (51.7ms)[0m  CREATE TABLE "channels_subscribers" ("id" serial primary key, "user_id" integer NOT NULL, "channel_id" integer NOT NULL, CONSTRAINT fk_channels_subscribers_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id"), CONSTRAINT fk_channels_subscribers_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id")) 
  [1m[36m (41.5ms)[0m  [1mCREATE INDEX "fk__channels_subscribers_user_id" ON "channels_subscribers" ("user_id")[0m
  [1m[35m (52.8ms)[0m  CREATE INDEX "fk__channels_subscribers_channel_id" ON "channels_subscribers" ("channel_id")
  [1m[36m (47.0ms)[0m  [1mCREATE UNIQUE INDEX "index_channels_subscribers_on_user_id_and_channel_id" ON "channels_subscribers" ("user_id", "channel_id")[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130411193016"]]
  [1m[36m (13.1ms)[0m  [1mCOMMIT[0m
Migrating to AddStateToBackers (20130419184530)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "backers" ADD COLUMN "state" character varying(255)[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130419184530"]]
  [1m[36m (11.4ms)[0m  [1mCOMMIT[0m
Migrating to AddNotificationTypeDraftChannel (20130422071805)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1m
 INSERT INTO notification_types (name, created_at, updated_at) VALUES ('new_draft_project_channel', now(), now())
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130422071805"]]
  [1m[36m (12.9ms)[0m  [1mCOMMIT[0m
Migrating to AddNotificationTypeProjectReceivedChannel (20130422072051)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1m
 INSERT INTO notification_types (name, created_at, updated_at) VALUES ('project_received_channel', now(), now())
 [0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130422072051"]]
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
Migrating to UpdateUserTotalToBackerStateMachine (20130423162359)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (16.7ms)[0m  [1m CREATE OR REPLACE VIEW user_totals AS 
 SELECT 
 b.user_id as id,
 b.user_id, 
 sum(b.value) AS sum, 
 count(*) AS count,
 sum(CASE 
 -- I've backed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0 
 -- I've backed a failed project with credits
 WHEN p.state = 'failed' AND b.credits THEN 0
 -- I've backed a failed project with money and asked for refund xor I've backed a failed project with credits
 WHEN p.state = 'failed' AND ((b.state='requested_refund' AND NOT b.credits) OR (b.credits AND NOT b.state='requested_refund')) THEN 0 
 -- I've backed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND b.state = 'confirmed' THEN b.value 
 -- I've backed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM 
 backers b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.state = 'confirmed'
 GROUP BY b.user_id;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130423162359"]]
  [1m[36m (22.2ms)[0m  [1mCOMMIT[0m
Migrating to AddBackerStateMachineIntoStatistics (20130424173128)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (5.3ms)[0m  [1m CREATE OR REPLACE VIEW statistics AS
 SELECT (SELECT count(*) AS count
 FROM users) AS total_users, 
 backers_totals.total_backs, backers_totals.total_backers, 
 backers_totals.total_backed, projects_totals.total_projects, 
 projects_totals.total_projects_success, 
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, 
 count(DISTINCT backers.user_id) AS total_backers,
 sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.state <> ALL(ARRAY['pending'::character varying::text, 'canceled'::character varying::text])) backers_totals, 
 ( SELECT count(*) AS total_projects, 
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, 
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;
[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130424173128"]]
  [1m[36m (8.1ms)[0m  [1mCOMMIT[0m
Migrating to AddRowOrderToRewards (20130426204503)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "rewards" ADD COLUMN "row_order" integer[0m
  [1m[35m (1.8ms)[0m  UPDATE rewards SET row_order = rewards.minimum_value;
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130426204503"]]
  [1m[35m (8.3ms)[0m  COMMIT
Migrating to RenameCategories (20130429142823)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.6ms)[0m  
 UPDATE categories SET name_pt = 'Gastronomia', name_en = 'Gastronomy' WHERE name_pt = 'Comida';
 UPDATE categories SET name_pt = 'Ciência e Tecnologia', name_en = 'Science & Technology' WHERE name_pt = 'Tecnologia';
 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130429142823"]]
  [1m[35m (2.7ms)[0m  COMMIT
Migrating to AddNewCategories (20130429144749)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (2.7ms)[0m  
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Mobilidade e Transporte', 'Mobility & Transportation', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Meio Ambiente', 'Environment', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Negócios Sociais', 'Social Business', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Educação', 'Education', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Filmes de Ficção', 'Fiction Films', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Filmes Documentários', 'Documentary Films', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Filmes Universitários', 'Experimental Films', now(), now());
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130429144749"]]
  [1m[35m (10.6ms)[0m  COMMIT
Migrating to MoveProjectsToArtAndRemoveOldCategories (20130429153115)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (1.9ms)[0m  
 UPDATE projects SET category_id = (SELECT id FROM categories WHERE name_pt = 'Arte') WHERE category_id = (SELECT id FROM categories WHERE name_pt = 'Feito à mão');
 UPDATE projects SET category_id = (SELECT id FROM categories WHERE name_pt = 'Arte') WHERE category_id = (SELECT id FROM categories WHERE name_pt = 'Graffiti');
 DELETE FROM categories WHERE name_pt = 'Feito à mão';
 DELETE FROM categories WHERE name_pt = 'Graffiti';
 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130429153115"]]
  [1m[35m (13.5ms)[0m  COMMIT
Migrating to AddLayoutToNotificationType (20130430203333)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (204.7ms)[0m  ALTER TABLE "notification_types" ADD COLUMN "layout" text DEFAULT 'email' NOT NULL
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130430203333"]]
  [1m[35m (13.9ms)[0m  COMMIT
Migrating to AddAnonymousToReportsToProjectOwner (20130502175814)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  DROP VIEW "backer_reports_for_project_owners"
  [1m[36m (9.5ms)[0m  [1m
 CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code,
 b.anonymous
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130502175814"]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
Migrating to UpdateBackersStateMachine (20130505013655)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (2.3ms)[0m  [1m update backers b
 set state= 
 (
 case 
 -- when backer is via user credit
 when b.confirmed and b.credits then 'confirmed' 
 -- when backer is confirmed and user not requested refund and not is refunded and credits too
 when b.confirmed and not b.requested_refund and not b.refunded and not b.credits then 'confirmed'
 -- when backer is confirmed and user requested refund but is not refunded yet and not credits
 when b.confirmed and b.requested_refund and not b.refunded and not b.credits then 'requested_refund'
 -- when backer is refunded and not credits
 when b.confirmed and b.refunded and not b.credits then 'refunded'
 -- when backer is not confirmed but user already pass into payment gateway
 when not b.confirmed and b.payment_token is not null and ( 
 case 
 when lower(b.payment_choice) = 'debitobancario' then
 date(current_timestamp) <= date(b.created_at + interval '1 days')
 when lower(b.payment_choice) = 'cartaodecredito' then
 date(current_timestamp) <= date(b.created_at + interval '1 days')
 else
 date(current_timestamp) <= date(b.created_at + interval '5 days')
 end
 ) then 'waiting_confirmation'
 else 'pending'
 end 
 )
[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130505013655"]]
  [1m[36m (10.9ms)[0m  [1mCOMMIT[0m
Migrating to UpdateBackerReportsToProjectOwnerViewToBackerStateMachine (20130506191243)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (2.6ms)[0m  [1mDROP VIEW "backer_reports_for_project_owners"[0m
  [1m[35m (6.5ms)[0m   CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state = 'confirmed'; 

  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130506191243"]]
  [1m[35m (14.4ms)[0m  COMMIT
Migrating to UpdateBackerReportsToBackerStateMachine (20130506191508)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (2.2ms)[0m  DROP VIEW "backer_reports"
  [1m[36m (10.3ms)[0m  [1mCREATE VIEW "backer_reports" AS SELECT 
 b.project_id,
 u.name, 
 b.value,
 r.minimum_value,
 r.description,
 b.payment_method,
 b.payment_choice,
 b.payment_service_fee,
 b.key,
 b.created_at::date,
 b.confirmed_at::date,
 u.email,
 b.payer_email,
 b.payer_name,
 coalesce(b.payer_document, u.cpf) as cpf,
 u.address_street,
 u.address_complement,
 u.address_number,
 u.address_neighbourhood,
 u.address_city,
 u.address_state,
 u.address_zip_code,
 b.state
 FROM 
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state = 'confirmed';
[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130506191508"]]
  [1m[36m (12.6ms)[0m  [1mCOMMIT[0m
Migrating to AddWaitingConfirmationOnStatisticsView (20130514132519)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (5.0ms)[0m  [1m CREATE OR REPLACE VIEW statistics AS
 SELECT (SELECT count(*) AS count
 FROM users) AS total_users, 
 backers_totals.total_backs, backers_totals.total_backers, 
 backers_totals.total_backed, projects_totals.total_projects, 
 projects_totals.total_projects_success, 
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, 
 count(DISTINCT backers.user_id) AS total_backers,
 sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.state <> ALL(ARRAY['waiting_confirmation'::character varying::text, 'pending'::character varying::text, 'canceled'::character varying::text])) backers_totals, 
 ( SELECT count(*) AS total_projects, 
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, 
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;
[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130514132519"]]
  [1m[36m (21.5ms)[0m  [1mCOMMIT[0m
Migrating to DropViews (20130514185010)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (12.4ms)[0m  [1m
DROP VIEW IF EXISTS backers_by_category;
DROP VIEW IF EXISTS backers_by_payment_choice;
DROP VIEW IF EXISTS backers_by_project CASCADE;
DROP VIEW IF EXISTS projects_by_total_backed_ranges;
DROP VIEW IF EXISTS projects_by_year;
DROP VIEW IF EXISTS projects_by_category;
DROP VIEW IF EXISTS projects_by_state;
DROP VIEW IF EXISTS backers_by_state;
DROP VIEW IF EXISTS backers_by_year CASCADE;
DROP VIEW IF EXISTS paypal_pending;
DROP VIEW IF EXISTS project_totals;
DROP VIEW IF EXISTS recurring_backers_by_year;
DROP VIEW IF EXISTS rewards_by_range;
 [0m
  [1m[35m (2.9ms)[0m  CREATE VIEW "project_totals" AS SELECT backers.project_id, sum(backers.value) AS pledged, 
 count(*) AS total_backers
 FROM backers
 WHERE backers.state = 'confirmed'
 GROUP BY backers.project_id;
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130514185010"]]
  [1m[35m (9.6ms)[0m  COMMIT
Migrating to FixProjectOwnerView (20130514185116)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (2.4ms)[0m  DROP VIEW "backer_reports_for_project_owners"
  [1m[36m (7.8ms)[0m  [1m CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code,
 b.anonymous
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state = 'confirmed';
[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130514185116"]]
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
Migrating to RemoveBooleanFieldsFromProjects (20130514185926)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (4.0ms)[0m  [1m
 ALTER TABLE projects DROP IF EXISTS can_finish;
 ALTER TABLE projects DROP IF EXISTS finished;
 ALTER TABLE projects DROP IF EXISTS visible;
 ALTER TABLE projects DROP IF EXISTS rejected;
 ALTER TABLE projects DROP IF EXISTS successful;[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130514185926"]]
  [1m[36m (10.4ms)[0m  [1mCOMMIT[0m
Migrating to RemoveBooleanFieldsFromBackers (20130515192404)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (3.8ms)[0m  [1m
 ALTER TABLE backers DROP IF EXISTS confirmed;
 ALTER TABLE backers DROP IF EXISTS requested_refund;
 ALTER TABLE backers DROP IF EXISTS refunded;[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130515192404"]]
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
Migrating to FixProjectTotalToUseRefundedAndRequestedRefundToo (20130523144013)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (2.2ms)[0m  [1m CREATE OR REPLACE VIEW project_totals AS
 SELECT backers.project_id, sum(backers.value) AS pledged, count(*) AS total_backers
 FROM backers
 WHERE (backers.state ~* '(confirmed|refunded|requested_refund)')
 GROUP BY backers.project_id;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130523144013"]]
  [1m[36m (10.4ms)[0m  [1mCOMMIT[0m
Migrating to FixProjectTotalAgainSomeRegexError (20130523173609)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (1.9ms)[0m  [1m CREATE OR REPLACE VIEW project_totals AS
 SELECT backers.project_id, sum(backers.value) AS pledged, count(*) AS total_backers
 FROM backers
 WHERE (backers.state ~* '(confirmed|refunded|requested_refund)$')
 GROUP BY backers.project_id;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130523173609"]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
Migrating to AddVideoEmbedUrlToProjects (20130527204639)
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "video_embed_url" character varying(255)[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130527204639"]]
  [1m[36m (10.3ms)[0m  [1mCOMMIT[0m
Migrating to UpdateBackersThatAreInRefundedWhenProjectIsOnline (20130529171845)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1m UPDATE backers
 SET state = 'refunded_and_canceled'
 WHERE state = 'refunded_when_project_is_not_finished'
[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130529171845"]]
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexToPaymentNotificationOnBackerId (20130604171730)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (45.9ms)[0m  [1mCREATE INDEX "index_payment_notifications_on_backer_id" ON "payment_notifications" ("backer_id")[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130604171730"]]
  [1m[36m (12.8ms)[0m  [1mCOMMIT[0m
Migrating to UpdateOnlineDateForLegacyProjects (20130604172253)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1m UPDATE projects
 SET online_days = 60, online_date = (expires_at - interval '60 days')
 WHERE online_days = 0 AND online_date IS NULL;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130604172253"]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
Migrating to RemoveExpiresAtFromViews (20130604175953)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (5.4ms)[0m  [1mCREATE or replace VIEW financial_reports AS
 SELECT p.name, u.moip_login, p.goal, p.online_date + (p.online_days::text||' days')::interval as expires_at, p.state FROM (projects p JOIN users u ON ((u.id = p.user_id)));[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130604175953"]]
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveExpiresAtFromProjects (20130604180503)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1m
 ALTER TABLE projects DROP IF EXISTS expires_at;
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130604180503"]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
Migrating to RemoveImageUrlFromProjects (20130607222330)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (1.4ms)[0m  [1mALTER TABLE projects DROP IF EXISTS image_url;[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130607222330"]]
  [1m[36m (12.7ms)[0m  [1mCOMMIT[0m
Migrating to CreateProjectsChartView (20130617175402)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (9.5ms)[0m  [1mCREATE VIEW "projects_by_periods" AS WITH weeks AS (
 SELECT 
 generate_series * 7 AS days
 FROM generate_series(0, 7)
), 
current_period AS (
SELECT 
 'current_period'::text as series, 
 count(*),
 w.days / 7 as week
FROM 
 projects p 
 RIGHT JOIN weeks w ON p.created_at::date >= (current_date - w.days - 7) AND p.created_at < (current_date - w.days)
GROUP BY week
),
previous_period AS (
SELECT 
 'previous_period'::text as series, 
 count(*),
 w.days / 7 as week
FROM 
 projects p 
 RIGHT JOIN weeks w ON p.created_at::date >= (current_date - w.days - 7 - 56) AND p.created_at < (current_date - w.days - 56)
GROUP BY week
),
last_year AS (
SELECT 
 'last_year'::text as series, 
 count(*),
 w.days / 7 as week
FROM 
 projects p 
 RIGHT JOIN weeks w ON p.created_at::date >= (current_date - w.days - 7 - 365) AND p.created_at < (current_date - w.days - 365)
GROUP BY week
)
(SELECT * FROM current_period)
UNION ALL
(SELECT * FROM previous_period)
UNION ALL
(SELECT * FROM last_year)
ORDER BY series, week;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130617175402"]]
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateBackersByPeriodView (20130618175432)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (11.9ms)[0m  [1mCREATE VIEW "backers_by_periods" AS WITH weeks AS (
 SELECT 
 generate_series * 7 AS days
 FROM generate_series(0, 7)
), 
current_period AS (
SELECT 
 'current_period'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7) AND b.confirmed_at < (current_date - w.days)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation')
GROUP BY week
),
previous_period AS (
SELECT 
 'previous_period'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7 - 56) AND b.confirmed_at < (current_date - w.days - 56)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation')
GROUP BY week
),
last_year AS (
SELECT 
 'last_year'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7 - 365) AND b.confirmed_at < (current_date - w.days - 365)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation')
GROUP BY week
)
(SELECT * FROM current_period)
UNION ALL
(SELECT * FROM previous_period)
UNION ALL
(SELECT * FROM last_year)
ORDER BY series, week;
[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130618175432"]]
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
Migrating to AddExpiresAtFunction (20130626122439)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1m
 CREATE FUNCTION expires_at(projects) RETURNS timestamp AS $$
 SELECT (($1.online_date + ($1.online_days || ' days')::interval)::date::text || ' 23:59:59')::timestamp
 $$ LANGUAGE SQL;
 [0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130626122439"]]
  [1m[36m (13.2ms)[0m  [1mCOMMIT[0m
Migrating to DropPaymentLogs (20130626124055)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.3ms)[0m  [1mDROP TABLE IF EXISTS payment_logs[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130626124055"]]
  [1m[36m (19.6ms)[0m  [1mCOMMIT[0m
Migrating to UpdateBackersByPeriodViewWithDeletedBackerState (20130702192659)
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36m (2.9ms)[0m  [1mDROP VIEW "backers_by_periods"[0m
  [1m[35m (9.7ms)[0m  CREATE VIEW "backers_by_periods" AS WITH weeks AS (
 SELECT 
 generate_series * 7 AS days
 FROM generate_series(0, 7)
), 
current_period AS (
SELECT 
 'current_period'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7) AND b.confirmed_at < (current_date - w.days)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation', 'deleted')
GROUP BY week
),
previous_period AS (
SELECT 
 'previous_period'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7 - 56) AND b.confirmed_at < (current_date - w.days - 56)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation', 'deleted')
GROUP BY week
),
last_year AS (
SELECT 
 'last_year'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7 - 365) AND b.confirmed_at < (current_date - w.days - 365)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation', 'deleted')
GROUP BY week
)
(SELECT * FROM current_period)
UNION ALL
(SELECT * FROM previous_period)
UNION ALL
(SELECT * FROM last_year)
ORDER BY series, week;

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130702192659"]]
  [1m[35m (7.0ms)[0m  COMMIT
Migrating to AddExclusiveToUpdates (20130703171547)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (157.1ms)[0m  ALTER TABLE "updates" ADD COLUMN "exclusive" boolean DEFAULT 'f'
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130703171547"]]
  [1m[35m (17.9ms)[0m  COMMIT
Migrating to ReplaceExpiresAtToIncludeTimezone (20130705131825)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  
 DROP FUNCTION expires_at(projects);
 CREATE OR REPLACE FUNCTION expires_at(projects) RETURNS timestamptz AS $$
 SELECT (($1.online_date + ($1.online_days || ' days')::interval)::date::text || ' 23:59:59')::timestamp AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo')
 $$ LANGUAGE SQL;
 
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130705131825"]]
  [1m[35m (9.3ms)[0m  COMMIT
Migrating to AlterStatisticsViewAddDeletedBackerState (20130705184845)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (4.5ms)[0m   CREATE OR REPLACE VIEW statistics AS 
 SELECT ( SELECT count(*) AS count
 FROM users) AS total_users, 
 backers_totals.total_backs, backers_totals.total_backers, 
 backers_totals.total_backed, projects_totals.total_projects, 
 projects_totals.total_projects_success, 
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, 
 count(DISTINCT backers.user_id) AS total_backers, 
 sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.state::text <> ALL (ARRAY['waiting_confirmation'::character varying::text, 'pending'::character varying::text, 'canceled'::character varying::text, 'deleted'])) backers_totals, 
 ( SELECT count(*) AS total_projects, 
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, 
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;

  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130705184845"]]
  [1m[35m (8.8ms)[0m  COMMIT
Migrating to AddDaysToDeliveryIntoRewards (20130710122804)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "rewards" ADD COLUMN "days_to_delivery" integer
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130710122804"]]
  [1m[35m (10.8ms)[0m  COMMIT
Migrating to RemoveLegacyColumnsFromUsers (20130722222945)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "users" DROP "uid"
  [1m[36m (2.3ms)[0m  [1mALTER TABLE "users" DROP "primary_user_id"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "users" DROP "provider"
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130722222945"]]
  [1m[35m (9.6ms)[0m  COMMIT
Migrating to AddTotalPaymentsServiceFeeIntoProjectTotals (20130730232043)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (4.0ms)[0m   DROP VIEW project_totals;
 CREATE OR REPLACE VIEW project_totals AS
 SELECT
 backers.project_id,
 sum(backers.value) AS pledged,
 sum(backers.payment_service_fee) AS total_payment_service_fee,
 count(*) AS total_backers
 FROM backers
 WHERE (backers.state in ('confirmed', 'refunded', 'requested_refund'))
 GROUP BY backers.project_id;

  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130730232043"]]
  [1m[35m (10.6ms)[0m  COMMIT
Migrating to AddTotalBackedProjectsToUserTotal (20130805230126)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (8.7ms)[0m   DROP VIEW user_totals;
 CREATE OR REPLACE VIEW user_totals AS 
 SELECT 
 b.user_id as id,
 b.user_id, 
 count(DISTINCT(b.project_id)) as total_backed_projects,
 sum(b.value) AS sum, 
 count(*) AS count,
 sum(CASE 
 -- I've backed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0 
 -- I've backed a failed project with credits
 WHEN p.state = 'failed' AND b.credits THEN 0
 -- I've backed a failed project with money and asked for refund xor I've backed a failed project with credits
 WHEN p.state = 'failed' AND ((b.state='requested_refund' AND NOT b.credits) OR (b.credits AND NOT b.state='requested_refund')) THEN 0 
 -- I've backed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND b.state = 'confirmed' THEN b.value 
 -- I've backed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM 
 backers b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.state in ('confirmed', 'requested_refund', 'refunded')
 GROUP BY b.user_id;

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130805230126"]]
  [1m[35m (5.3ms)[0m  COMMIT
Migrating to ShowRefundedOnBackersReport (20130812191450)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  DROP VIEW "backer_reports"
  [1m[36m (8.3ms)[0m  [1mCREATE VIEW "backer_reports" AS SELECT
 b.project_id,
 u.name,
 b.value,
 r.minimum_value,
 r.description,
 b.payment_method,
 b.payment_choice,
 b.payment_service_fee,
 b.key,
 b.created_at::date,
 b.confirmed_at::date,
 u.email,
 b.payer_email,
 b.payer_name,
 coalesce(b.payer_document, u.cpf) as cpf,
 u.address_street,
 u.address_complement,
 u.address_number,
 u.address_neighbourhood,
 u.address_city,
 u.address_state,
 u.address_zip_code,
 b.state
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state IN ('confirmed', 'refunded', 'requested_refund');
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130812191450"]]
  [1m[36m (4.7ms)[0m  [1mCOMMIT[0m
Migrating to AlterTimestampToIncludeTimezone (20130814174329)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (313.0ms)[0m  [1m
 DROP FUNCTION if exists expires_at(projects);
 drop VIEW if exists financial_reports ;
 ALTER TABLE projects ALTER COLUMN online_date set data type timestamp with time zone;
 CREATE OR REPLACE FUNCTION expires_at(projects) RETURNS timestamptz AS $$
 SELECT (($1.online_date AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo') + ($1.online_days || ' days')::interval)::date::text || ' 23:59:59')::timestamptz
 $$ LANGUAGE SQL;
 CREATE or replace VIEW financial_reports AS
 SELECT p.name, u.moip_login, p.goal, ((p.online_date + (p.online_days||' days')::interval)::date::text || ' 23:59:59') as expires_at, p.state FROM (projects p JOIN users u ON ((u.id = p.user_id)));
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130814174329"]]
  [1m[36m (20.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateRecommendationsView (20130815161926)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (16.5ms)[0m  [1m
 CREATE OR REPLACE VIEW recommendations AS
 SELECT * FROM ((
 SELECT
 b.user_id,
 recommendations.id AS project_id,
 count(distinct recommenders.user_id) AS count
 FROM
 backers b
 JOIN projects p ON p.id = b.project_id
 JOIN backers backers_same_projects ON p.id = backers_same_projects.project_id
 JOIN backers recommenders ON recommenders.user_id = backers_same_projects.user_id
 JOIN projects recommendations ON recommendations.id = recommenders.project_id
 WHERE
 b.state = 'confirmed'
 AND backers_same_projects.state = 'confirmed'
 AND recommenders.state = 'confirmed'
 AND b.user_id <> backers_same_projects.user_id
 AND recommendations.id <> b.project_id
 AND recommendations.state = 'online'
 and NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = b.user_id
 AND b2.project_id = recommendations.id
 )
 GROUP BY 
 b.user_id, recommendations.id
 )
 UNION
 (
 SELECT 
 b.user_id,
 recommendations.id AS project_id,
 0 AS count
 FROM
 backers b
 JOIN projects p ON b.project_id = p.id
 JOIN projects recommendations ON recommendations.category_id = p.category_id
 WHERE
 b.state = 'confirmed'
 ))
 recommendations
 where 
 NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = recommendations.user_id
 AND b2.project_id = recommendations.project_id
 )
 ORDER BY count DESC
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130815161926"]]
  [1m[36m (13.1ms)[0m  [1mCOMMIT[0m
Migrating to AddProjectsHomeView (20130818015857)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (16.7ms)[0m  [1m CREATE OR REPLACE VIEW projects_for_home AS
 with recommended_projects as (
 select 'recommended'::text as origin, recommends.* from projects recommends
 where recommends.recommended and recommends.state = 'online' order by random() limit 3
 ),
 recents_projects as (
 select 'recents'::text as origin, recents.* from projects recents
 where recents.state = 'online'
 and ((current_timestamp - recents.online_date) <= '5 days'::interval)
 and recents.id not in(
 select recommends.id from recommended_projects recommends
 )
 order by random() limit 3
 ),
 expiring_projects as (
 select 'expiring'::text as origin, expiring.* from projects expiring
 where expiring.state = 'online'
 and ((expiring.expires_at) <= ((current_timestamp) + interval '2 weeks'))
 and expiring.id not in(
 (select recommends.id from recommended_projects recommends)
 union (select recents.id from recents_projects recents)
 )
 order by random() limit 3
 )

 (select * from recommended_projects) union (select * from recents_projects) union (select * from expiring_projects)

[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130818015857"]]
  [1m[36m (8.2ms)[0m  [1mCOMMIT[0m
Migrating to FixCreditsIntoUserTotalsView (20130822215532)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (5.7ms)[0m  [1m DROP VIEW user_totals;
 CREATE OR REPLACE VIEW user_totals AS
 SELECT
 b.user_id as id,
 b.user_id,
 count(DISTINCT(b.project_id)) as total_backed_projects,
 sum(b.value) AS sum,
 count(*) AS count,
 sum(CASE
 -- I've backed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0

 -- I've backed a failed project with credits
 WHEN p.state = 'failed' AND b.credits THEN 0

 -- I've backed a failed project with money and asked for refund xor I've backed a failed project with credits
 WHEN p.state = 'failed' AND ((b.state IN('requested_refund', 'refunded') AND NOT b.credits) OR (b.credits AND NOT b.state IN('requested_refund', 'refunded') )) THEN 0

 -- I've backed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND b.state = 'confirmed' THEN b.value

 -- I've backed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM
 backers b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.state in ('confirmed', 'requested_refund', 'refunded')
 GROUP BY b.user_id;
[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130822215532"]]
  [1m[36m (7.9ms)[0m  [1mCOMMIT[0m
Migrating to RevertExpiresAt (20130827210414)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1m
 CREATE OR REPLACE FUNCTION expires_at(projects) RETURNS timestamptz AS $$
 SELECT (((($1.online_date AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo') + ($1.online_days || ' days')::interval) )::date::text || ' 23:59:59-03')::timestamptz )
 $$ LANGUAGE SQL;
 [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130827210414"]]
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
Migrating to UseExpiresAtInView (20130828160026)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (5.6ms)[0m  [1m
 DROP VIEW if exists financial_reports ;
 CREATE or replace VIEW financial_reports AS
 SELECT p.name, u.moip_login, p.goal, p.expires_at, p.state FROM (projects p JOIN users u ON ((u.id = p.user_id)));[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130828160026"]]
  [1m[36m (10.5ms)[0m  [1mCOMMIT[0m
Migrating to UseTimezoneInsteadOfHardcoded3 (20130829180232)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1m
 CREATE OR REPLACE FUNCTION expires_at(projects) RETURNS timestamptz AS $$
 SELECT ((((($1.online_date AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo') + ($1.online_days || ' days')::interval) )::date::text || ' 23:59:59')::timestamp AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo'))::timestamptz ) 
 $$ LANGUAGE SQL;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130829180232"]]
  [1m[36m (14.0ms)[0m  [1mCOMMIT[0m
Migrating to AddSessionsTable (20130905153553)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'sessions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (102.6ms)[0m  CREATE TABLE "sessions" ("id" serial primary key, "session_id" character varying(255) NOT NULL, "data" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (43.8ms)[0m  [1mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [1m[35m (44.2ms)[0m  CREATE INDEX "index_sessions_on_updated_at" ON "sessions" ("updated_at")
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130905153553"]]
  [1m[35m (19.1ms)[0m  COMMIT
Migrating to CreateSubscriberReports (20130911180657)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (3.8ms)[0m  CREATE VIEW "subscriber_reports" AS SELECT u.id, cs.channel_id, u.name, u.email
 FROM users u JOIN channels_subscribers cs ON cs.user_id = u.id
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130911180657"]]
  [1m[35m (10.9ms)[0m  COMMIT
Migrating to FixProjectStateInRecommendationsView (20130918191809)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (11.3ms)[0m  
 CREATE OR REPLACE VIEW recommendations AS
 SELECT * FROM ((
 SELECT
 b.user_id,
 recommendations.id AS project_id,
 count(distinct recommenders.user_id) AS count
 FROM
 backers b
 JOIN projects p ON p.id = b.project_id
 JOIN backers backers_same_projects ON p.id = backers_same_projects.project_id
 JOIN backers recommenders ON recommenders.user_id = backers_same_projects.user_id
 JOIN projects recommendations ON recommendations.id = recommenders.project_id
 WHERE
 b.state = 'confirmed'
 AND backers_same_projects.state = 'confirmed'
 AND recommenders.state = 'confirmed'
 AND b.user_id <> backers_same_projects.user_id
 AND recommendations.id <> b.project_id
 AND recommendations.state = 'online'
 and NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = b.user_id
 AND b2.project_id = recommendations.id
 )
 GROUP BY 
 b.user_id, recommendations.id
 )
 UNION
 (
 SELECT 
 b.user_id,
 recommendations.id AS project_id,
 0 AS count
 FROM
 backers b
 JOIN projects p ON b.project_id = p.id
 JOIN projects recommendations ON recommendations.category_id = p.category_id
 WHERE
 b.state = 'confirmed'
 AND recommendations.state = 'online'
 ))
 recommendations
 where 
 NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = recommendations.user_id
 AND b2.project_id = recommendations.project_id
 )
 ORDER BY count DESC
 
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130918191809"]]
  [1m[35m (13.0ms)[0m  COMMIT
Migrating to AddVideoUrlToChannels (20130926185207)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "channels" ADD COLUMN "video_url" character varying(255)
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130926185207"]]
  [1m[35m (11.9ms)[0m  COMMIT
Migrating to AddHowItWorksToChannels (20131008190648)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "channels" ADD COLUMN "how_it_works" text
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131008190648"]]
  [1m[35m (3.1ms)[0m  COMMIT
Migrating to AddChannelIdToUser (20131010193936)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "users" ADD COLUMN "channel_id" integer
  [1m[36m (1.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (2.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_users_on_email on users (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35m (51.2ms)[0m  CREATE INDEX "fk__users_channel_id" ON "users" ("channel_id")
  [1m[36m (3.9ms)[0m  [1mALTER TABLE "users" ADD CONSTRAINT fk_users_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id")[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010193936"]]
  [1m[36m (11.5ms)[0m  [1mCOMMIT[0m
Migrating to UpdateUsersChannelId (20131010194006)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (2.2ms)[0m  [1mUPDATE users SET channel_id = (SELECT channel_id FROM channels_trustees ct WHERE ct.user_id = users.id) WHERE id IN (SELECT user_id FROM channels_trustees)[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010194006"]]
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
Migrating to DropChannelsTrustees (20131010194345)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (5.8ms)[0m  [1mDROP TABLE "channels_trustees"[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010194345"]]
  [1m[36m (13.8ms)[0m  [1mCOMMIT[0m
Migrating to DropProjectsCuratedPages (20131010194500)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (3.0ms)[0m  [1mDROP TABLE "projects_curated_pages"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010194500"]]
  [1m[36m (15.0ms)[0m  [1mCOMMIT[0m
Migrating to DropRewardRanges (20131010194521)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (2.2ms)[0m  [1mDROP TABLE "reward_ranges"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010194521"]]
  [1m[36m (10.1ms)[0m  [1mCOMMIT[0m
Migrating to FixDuplicatedEntriesInRecommendations (20131014201229)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (15.6ms)[0m  [1m
 CREATE OR REPLACE VIEW recommendations AS
 SELECT user_id, project_id, sum(count)::bigint as count FROM ((
 SELECT
 b.user_id,
 recommendations.id AS project_id,
 count(distinct recommenders.user_id) AS count
 FROM
 backers b
 JOIN projects p ON p.id = b.project_id
 JOIN backers backers_same_projects ON p.id = backers_same_projects.project_id
 JOIN backers recommenders ON recommenders.user_id = backers_same_projects.user_id
 JOIN projects recommendations ON recommendations.id = recommenders.project_id
 WHERE
 b.state = 'confirmed'
 AND backers_same_projects.state = 'confirmed'
 AND recommenders.state = 'confirmed'
 AND b.user_id <> backers_same_projects.user_id
 AND recommendations.id <> b.project_id
 AND recommendations.state = 'online'
 and NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = b.user_id
 AND b2.project_id = recommendations.id
 )
 GROUP BY 
 b.user_id, recommendations.id
 )
 UNION
 (
 SELECT 
 b.user_id,
 recommendations.id AS project_id,
 0 AS count
 FROM
 backers b
 JOIN projects p ON b.project_id = p.id
 JOIN projects recommendations ON recommendations.category_id = p.category_id
 WHERE
 b.state = 'confirmed'
 AND recommendations.state = 'online'
 ))
 recommendations
 where 
 NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = recommendations.user_id
 AND b2.project_id = recommendations.project_id
 )
 GROUP BY user_id, project_id
 ORDER BY count DESC
 [0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131014201229"]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
Migrating to RemoveSessionsTable (20131016193346)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (3.4ms)[0m  [1mDROP TABLE "sessions"[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131016193346"]]
  [1m[36m (17.3ms)[0m  [1mCOMMIT[0m
Migrating to AddHowItWorksHtmlToChannels (20131016214955)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "channels" ADD COLUMN "how_it_works_html" text[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131016214955"]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
Migrating to ChangeVarcharToTextInChannels (20131016231130)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (54.6ms)[0m  [1m
 ALTER TABLE channels ALTER name TYPE text;
 ALTER TABLE channels ALTER description TYPE text;
 ALTER TABLE channels ALTER description SET NOT NULL;
 ALTER TABLE channels ALTER permalink TYPE text;
 ALTER TABLE channels ALTER permalink SET NOT NULL;
 ALTER TABLE channels ALTER twitter TYPE text;
 ALTER TABLE channels ALTER facebook TYPE text;
 ALTER TABLE channels ALTER email TYPE text;
 ALTER TABLE channels ALTER image TYPE text;
 ALTER TABLE channels ALTER website TYPE text;
 ALTER TABLE channels ALTER video_url TYPE text;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131016231130"]]
  [1m[36m (17.4ms)[0m  [1mCOMMIT[0m
Migrating to AddReferalLinkIntoProjects (20131018170211)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "referal_link" text[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131018170211"]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Migrating to AddTermsUrlToChannels (20131020215932)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "channels" ADD COLUMN "terms_url" character varying(255)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131020215932"]]
  [1m[36m (14.0ms)[0m  [1mCOMMIT[0m
Migrating to AddProgressToProjectTotals (20131021190108)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (6.4ms)[0m  [1m DROP VIEW project_totals;
 CREATE OR REPLACE VIEW project_totals AS
 SELECT
 backers.project_id,
 sum(backers.value) AS pledged,
 (sum(backers.value)/projects.goal)*100 as progress,
 sum(backers.payment_service_fee) AS total_payment_service_fee,
 count(*) AS total_backers
 FROM backers
 JOIN projects ON backers.project_id = projects.id
 WHERE (backers.state in ('confirmed', 'refunded', 'requested_refund'))
 GROUP BY backers.project_id, projects.goal;
[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131021190108"]]
  [1m[36m (8.6ms)[0m  [1mCOMMIT[0m
Migrating to AddProjectFinancialsView (20131022154220)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (12.6ms)[0m  [1m
 create or replace view project_financials as
 with catarse_fee_percentage as (
 select
 c.value::numeric as total,
 (1 - c.value::numeric) as complement
 from configurations c
 where c.name = 'catarse_fee'
 ), catarse_base_url as (
 select c.value from configurations c where c.name = 'base_url'
 )

 select
 p.id as project_id,
 p.name as name,
 u.moip_login as moip,
 p.goal as goal,
 pt.pledged as reached,
 pt.total_payment_service_fee as moip_tax,
 cp.total * pt.pledged as catarse_fee,
 pt.pledged * cp.complement as repass_value,
 to_char(p.expires_at, 'dd/mm/yyyy') as expires_at,
 catarse_base_url.value||'/admin/reports/backer_reports.csv?project_id='||p.id as backer_report,
 p.state as state
 from projects p
 join users u on u.id = p.user_id
 join project_totals pt on pt.project_id = p.id
 cross join catarse_fee_percentage cp
 cross join catarse_base_url
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131022154220"]]
  [1m[36m (13.5ms)[0m  [1mCOMMIT[0m
Migrating to AddFunctionCanCancelToBackers (20131023031539)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1m
 create function can_cancel(backers) returns boolean as $$
 select
 $1.state = 'waiting_confirmation' and
 (
 ((
 select count(1) as total_of_days
 from generate_series($1.created_at::date, current_date, '1 day') day
 WHERE extract(dow from day) not in (0,1)
 ) > 4)
 OR
 (
 lower($1.payment_choice) = lower('DebitoBancario')
 AND
 (
 select count(1) as total_of_days
 from generate_series($1.created_at::date, current_date, '1 day') day
 WHERE extract(dow from day) not in (0,1)
 ) > 1)
 )
 $$ language sql
 [0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131023031539"]]
  [1m[36m (13.4ms)[0m  [1mCOMMIT[0m
Migrating to AddCanRefundFunctionToBackers (20131023032325)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1m
 create function can_refund(backers) returns boolean as $$
 select
 $1.state IN('confirmed', 'requested_refund', 'refunded') AND
 NOT $1.credits AND
 EXISTS(
 SELECT true
 FROM projects p
 WHERE p.id = $1.project_id and p.state = 'failed'
 )
 $$ language sql
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131023032325"]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
Migrating to AddOriginEmailToNotifications (20131107143439)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (51.0ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "origin_email" text[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131107143439"]]
  [1m[36m (16.9ms)[0m  [1mCOMMIT[0m
Migrating to AddOriginNameToNotifications (20131107143512)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "origin_name" text[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131107143512"]]
  [1m[36m (13.7ms)[0m  [1mCOMMIT[0m
Migrating to AddTemplateNameToNotifications (20131107143537)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "template_name" text[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131107143537"]]
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
Migrating to AddLocaleToNotifications (20131107143832)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "locale" text[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131107143832"]]
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
Migrating to SetNotificationDefaultsAndNotNull (20131107145351)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1m
 UPDATE notifications SET origin_name = (SELECT value FROM configurations c WHERE c.name = 'company_name');
 ALTER TABLE notifications ALTER origin_name SET NOT NULL;
 [0m
  [1m[35m (1.1ms)[0m  
 UPDATE notifications SET origin_email = (SELECT value FROM configurations c WHERE c.name = 'email_contact');
 ALTER TABLE notifications ALTER origin_email SET NOT NULL;
 
  [1m[36m (1.6ms)[0m  [1m
 UPDATE notifications SET template_name = (SELECT name FROM notification_types nt WHERE nt.id = notifications.notification_type_id);
 ALTER TABLE notifications ALTER template_name SET NOT NULL;
 [0m
  [1m[35m (0.9ms)[0m  
 UPDATE notifications SET locale = (SELECT locale FROM users u WHERE u.id = notifications.user_id);
 ALTER TABLE notifications ALTER locale SET NOT NULL;
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131107145351"]]
  [1m[35m (8.7ms)[0m  COMMIT
Migrating to RemoveNotificationTypes (20131107161918)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "unsubscribes" DROP "notification_type_id"
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "notifications" DROP "notification_type_id"[0m
  [1m[35m (3.1ms)[0m  DROP TABLE "notification_types"
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131107161918"]]
  [1m[35m (12.2ms)[0m  COMMIT
Migrating to AddReferalLinkOnBackers (20131112113608)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "backers" ADD COLUMN "referal_link" text
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131112113608"]]
  [1m[35m (7.1ms)[0m  COMMIT
Migrating to AddChannelIdToNotifications (20131113145601)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "notifications" ADD COLUMN "channel_id" integer
  [1m[36m (2.8ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35m (51.6ms)[0m  CREATE INDEX "fk__notifications_channel_id" ON "notifications" ("channel_id")
  [1m[36m (3.4ms)[0m  [1mALTER TABLE "notifications" ADD CONSTRAINT fk_notifications_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id")[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131113145601"]]
  [1m[36m (10.8ms)[0m  [1mCOMMIT[0m
Migrating to AddSentToAnalysisAtToProjects (20131114154112)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "sent_to_analysis_at" timestamp[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131114154112"]]
  [1m[36m (12.5ms)[0m  [1mCOMMIT[0m
Migrating to MakeAuthorizationsUniqueOnUserAndOauthProvider (20131127132159)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mDELETE FROM authorizations WHERE user_id IN (SELECT user_id FROM authorizations GROUP BY user_id HAVING count(*) > 1)[0m
  [1m[35m (51.1ms)[0m  CREATE UNIQUE INDEX "index_authorizations_on_oauth_provider_id_and_user_id" ON "authorizations" ("oauth_provider_id", "user_id")
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131127132159"]]
  [1m[35m (15.9ms)[0m  COMMIT
Migrating to AddAuditedUserToProjects (20131128142533)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "projects" ADD COLUMN "audited_user_name" text
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "audited_user_cpf" text[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "projects" ADD COLUMN "audited_user_moip_login" text
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "audited_user_phone_number" text[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131128142533"]]
  [1m[36m (5.6ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexesToNotifications (20131230171126)
  [1m[35m (1.5ms)[0m  BEGIN
  [1m[36m (44.1ms)[0m  [1mCREATE INDEX "index_notifications_on_user_id_and_template_name" ON "notifications" ("user_id", "template_name")[0m
  [1m[35m (45.0ms)[0m  CREATE INDEX "index_notifications_on_backer_id_and_template_name" ON "notifications" ("backer_id", "template_name")
  [1m[36m (44.3ms)[0m  [1mCREATE INDEX "index_notifications_on_project_id_and_template_name" ON "notifications" ("project_id", "template_name")[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131230171126"]]
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
Migrating to FixPermalinkUniqueIndexToBeCaseInsensitive (20131230172840)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35m (0.9ms)[0m  DROP INDEX "index_projects_on_permalink"
  [1m[36m (44.5ms)[0m  [1mCREATE UNIQUE INDEX index_projects_on_permalink ON projects (lower(permalink))[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131230172840"]]
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateChannelPosts (20140102125037)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.9ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channel_posts'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channel_posts'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (114.7ms)[0m  [1mCREATE TABLE "channel_posts" ("id" serial primary key, "title" text NOT NULL, "body" text NOT NULL, "body_html" text NOT NULL, "channel_id" integer NOT NULL, "user_id" integer NOT NULL, "visible" boolean DEFAULT 'f' NOT NULL, "created_at" timestamp, "updated_at" timestamp, CONSTRAINT fk_channel_posts_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id"), CONSTRAINT fk_channel_posts_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id")) [0m
  [1m[35m (48.6ms)[0m  CREATE INDEX "fk__channel_posts_channel_id" ON "channel_posts" ("channel_id")
  [1m[36m (44.7ms)[0m  [1mCREATE INDEX "index_channel_posts_on_channel_id" ON "channel_posts" ("channel_id")[0m
  [1m[35m (44.7ms)[0m  CREATE INDEX "fk__channel_posts_user_id" ON "channel_posts" ("user_id")
  [1m[36m (44.4ms)[0m  [1mCREATE INDEX "index_channel_posts_on_user_id" ON "channel_posts" ("user_id")[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140102125037"]]
  [1m[36m (17.8ms)[0m  [1mCOMMIT[0m
Migrating to AddChannelPostOnNotification (20140115110512)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "channel_post_id" integer[0m
  [1m[35m (2.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_backer_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36m (53.4ms)[0m  [1mCREATE INDEX "fk__notifications_channel_post_id" ON "notifications" ("channel_post_id")[0m
  [1m[35m (4.1ms)[0m  ALTER TABLE "notifications" ADD CONSTRAINT fk_notifications_channel_post_id FOREIGN KEY ("channel_post_id") REFERENCES "channel_posts" ("id")
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140115110512"]]
  [1m[35m (10.8ms)[0m  COMMIT
Migrating to AddVideoEmbedUrlIntoChannels (20140117115326)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "channels" ADD COLUMN "video_embed_url" text
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140117115326"]]
  [1m[35m (13.6ms)[0m  COMMIT
Migrating to RenameBackerToContribution (20140120195335)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "backers" RENAME TO "contributions"
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "backers_id_seq" RENAME TO "contributions_id_seq"[0m
  [1m[35m (2.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_backers_on_key on contributions (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_backers_on_project_id on contributions (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_backers_on_reward_id on contributions (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_backers_on_user_id on contributions (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36m (1.2ms)[0m  [1mALTER INDEX "index_backers_on_key" RENAME TO "index_contributions_on_key"[0m
  [1m[35m (0.7ms)[0m  ALTER INDEX "index_backers_on_project_id" RENAME TO "index_contributions_on_project_id"
  [1m[36m (0.4ms)[0m  [1mALTER INDEX "index_backers_on_reward_id" RENAME TO "index_contributions_on_reward_id"[0m
  [1m[35m (0.4ms)[0m  ALTER INDEX "index_backers_on_user_id" RENAME TO "index_contributions_on_user_id"
  [1m[36m (2.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35m (1.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "contributions" DROP CONSTRAINT backers_project_id_reference
  [1m[36m (3.9ms)[0m  [1mALTER TABLE "contributions" ADD CONSTRAINT contributions_project_id_reference FOREIGN KEY ("project_id") REFERENCES "projects" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION[0m
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36m (1.5ms)[0m  [1mALTER TABLE "contributions" DROP CONSTRAINT backers_reward_id_reference[0m
  [1m[35m (2.9ms)[0m  ALTER TABLE "contributions" ADD CONSTRAINT contributions_reward_id_reference FOREIGN KEY ("reward_id") REFERENCES "rewards" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "contributions" DROP CONSTRAINT backers_user_id_reference
  [1m[36m (3.2ms)[0m  [1mALTER TABLE "contributions" ADD CONSTRAINT contributions_user_id_reference FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140120195335"]]
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
Migrating to RenameBackerAssociations (20140120201216)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "notifications" RENAME COLUMN "backer_id" TO "contribution_id"[0m
  [1m[35m (4.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_backer_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36m (0.8ms)[0m  [1mALTER INDEX "index_notifications_on_backer_id_and_template_name" RENAME TO "index_notifications_on_contribution_id_and_template_name"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "payment_notifications" RENAME COLUMN "backer_id" TO "contribution_id"
  [1m[36m (3.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_payment_notifications_on_backer_id on payment_notifications (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480

  [1m[36m (0.6ms)[0m  [1mALTER INDEX "index_payment_notifications_on_backer_id" RENAME TO "index_payment_notifications_on_contribution_id"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "rewards" RENAME COLUMN "maximum_backers" TO "maximum_contributions"
  [1m[36m (3.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_rewards_on_project_id on rewards (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552

  [1m[36m (1.0ms)[0m  [1mALTER TABLE "projects" RENAME COLUMN "first_backers" TO "first_contributions"[0m
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140120201216"]]
  [1m[35m (12.8ms)[0m  COMMIT
Migrating to MigrateProjectTotalsAndProjectFinancialsViewBackerToContribution (20140121114718)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (8.0ms)[0m   DROP VIEW project_financials;
 DROP VIEW project_totals;
 CREATE OR REPLACE VIEW project_totals AS
 SELECT
 contributions.project_id,
 sum(contributions.value) AS pledged,
 (sum(contributions.value)/projects.goal)*100 as progress,
 sum(contributions.payment_service_fee) AS total_payment_service_fee,
 count(*) AS total_contributions
 FROM contributions
 JOIN projects ON contributions.project_id = projects.id
 WHERE (contributions.state in ('confirmed', 'refunded', 'requested_refund'))
 GROUP BY contributions.project_id, projects.goal;

  [1m[36m (8.8ms)[0m  [1m CREATE OR REPLACE VIEW project_financials AS
 with catarse_fee_percentage as (
 select
 c.value::numeric as total,
 (1 - c.value::numeric) as complement
 from configurations c
 where c.name = 'catarse_fee'
 ), catarse_base_url as (
 select c.value from configurations c where c.name = 'base_url'
 )

 select
 p.id as project_id,
 p.name as name,
 u.moip_login as moip,
 p.goal as goal,
 pt.pledged as reached,
 pt.total_payment_service_fee as moip_tax,
 cp.total * pt.pledged as catarse_fee,
 pt.pledged * cp.complement as repass_value,
 to_char(p.expires_at, 'dd/mm/yyyy') as expires_at,
 catarse_base_url.value||'/admin/reports/contribution_reports.csv?project_id='||p.id as contribution_report,
 p.state as state
 from projects p
 join users u on u.id = p.user_id
 join project_totals pt on pt.project_id = p.id
 cross join catarse_fee_percentage cp
 cross join catarse_base_url;
[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121114718"]]
  [1m[36m (9.7ms)[0m  [1mCOMMIT[0m
Migrating to MigrateStatisticsViewToContributions (20140121124230)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (6.9ms)[0m  [1m DROP VIEW statistics;
 CREATE OR REPLACE VIEW statistics AS
 SELECT ( SELECT count(*) AS count
 FROM users) AS total_users,
 contributions_totals.total_contributions, contributions_totals.total_contributors,
 contributions_totals.total_contributed, projects_totals.total_projects,
 projects_totals.total_projects_success,
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_contributions,
 count(DISTINCT contributions.user_id) AS total_contributors,
 sum(contributions.value) AS total_contributed
 FROM contributions
 WHERE contributions.state::text <> ALL (ARRAY['waiting_confirmation'::character varying::text, 'pending'::character varying::text, 'canceled'::character varying::text, 'deleted'])) contributions_totals,
 ( SELECT count(*) AS total_projects,
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success,
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;
[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121124230"]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
Migrating to RenameBackerReportsToContributionReports (20140121124646)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.8ms)[0m  [1mALTER VIEW backer_reports RENAME TO contribution_reports[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121124646"]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Migrating to RenameBackerReportsForProjectOwnersToContributionReportsForProjectOwners (20140121124840)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.0ms)[0m  [1mALTER VIEW backer_reports_for_project_owners RENAME TO contribution_reports_for_project_owners[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121124840"]]
  [1m[36m (13.6ms)[0m  [1mCOMMIT[0m
Migrating to RenameBackersByPeriodsToContributionsByPeriods (20140121125256)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (3.0ms)[0m  [1mALTER VIEW backers_by_periods RENAME TO contributions_by_periods[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121125256"]]
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
Migrating to MigrateNotificationsTemplateNameToContribution (20140121130341)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.4ms)[0m  [1mUPDATE notifications SET template_name = CASE template_name WHEN 'backer_confirmed_after_project_was_closed' THEN 'contribution_confirmed_after_project_was_closed' WHEN 'backer_project_successful' THEN 'contribution_project_successful' WHEN 'backer_project_unsuccessful' THEN 'contribution_project_unsuccessful' WHEN 'confirm_backer' THEN 'confirm_contribution' WHEN 'pending_backer_project_unsuccessful' THEN 'pending_contribution_project_unsuccessful' WHEN 'project_owner_backer_confirmed' THEN 'project_owner_contribution_confirmed' WHEN 'backer_canceled_after_confirmed' THEN 'contribution_canceled_after_confirmed' END WHERE template_name IN ('backer_confirmed_after_project_was_closed','backer_project_successful','backer_project_unsuccessful','confirm_backer','pending_backer_project_unsuccessful','project_owner_backer_confirmed','backer_canceled_after_confirmed')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121130341"]]
  [1m[36m (12.6ms)[0m  [1mCOMMIT[0m
Migrating to MigrateUserTotalViewToContributions (20140121171044)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (8.4ms)[0m  [1m DROP VIEW user_totals;
 CREATE OR REPLACE VIEW user_totals AS
 SELECT
 b.user_id as id,
 b.user_id,
 count(DISTINCT(b.project_id)) as total_contributed_projects,
 sum(b.value) AS sum,
 count(*) AS count,
 sum(CASE
 -- I've contributed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0

 -- I've contributed a failed project with credits
 WHEN p.state = 'failed' AND b.credits THEN 0

 -- I've contributed a failed project with money and asked for refund xor I've contributed a failed project with credits
 WHEN p.state = 'failed' AND ((b.state IN('requested_refund', 'refunded') AND NOT b.credits) OR (b.credits AND NOT b.state IN('requested_refund', 'refunded') )) THEN 0

 -- I've contributed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND b.state = 'confirmed' THEN b.value

 -- I've contributed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM
 contributions b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.state in ('confirmed', 'requested_refund', 'refunded')
 GROUP BY b.user_id;
[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121171044"]]
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
Migrating to AddedPublishedAtIntoPosts (20140207160934)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "channel_posts" ADD COLUMN "published_at" timestamp[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140207160934"]]
  [1m[36m (10.5ms)[0m  [1mCOMMIT[0m
Migrating to ChangeToContributionIntoContributionReportsForProjectOwners (20140210233516)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.7ms)[0m  [1mDROP VIEW "contribution_reports_for_project_owners"[0m
  [1m[35m (10.7ms)[0m   CREATE OR REPLACE VIEW contribution_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as contribution_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 b.anonymous,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 contributions b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state = 'confirmed';

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140210233516"]]
  [1m[35m (13.0ms)[0m  COMMIT
Migrating to AddSentToDraftAtToProjects (20140219192513)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "projects" ADD COLUMN "sent_to_draft_at" timestamp
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140219192513"]]
  [1m[35m (13.0ms)[0m  COMMIT
Migrating to AddRejectedAtToProjects (20140219192658)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "projects" ADD COLUMN "rejected_at" timestamp
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140219192658"]]
  [1m[35m (11.6ms)[0m  COMMIT
Migrating to FixMissingRejectedAt (20140310200601)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (1.5ms)[0m  
 UPDATE projects SET rejected_at = updated_at WHERE rejected_at IS NULL AND state = 'rejected';
 
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140310200601"]]
  [1m[35m (13.3ms)[0m  COMMIT
Migrating to FixMissingSentToAnalysisAt (20140310201238)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  
 UPDATE projects SET sent_to_analysis_at = created_at WHERE sent_to_analysis_at IS NULL AND state <> 'draft';
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140310201238"]]
  [1m[35m (3.0ms)[0m  COMMIT
Migrating to CreateProjectsInAnalysisByPeriods (20140319121007)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (9.0ms)[0m  CREATE VIEW "projects_in_analysis_by_periods" AS WITH weeks AS (
 SELECT
 generate_series * 7 AS days
 FROM generate_series(0, 7)
),
current_period AS (
SELECT
 'current_period'::text as series,
 count(*),
 w.days / 7 as week
FROM
 projects p
 RIGHT JOIN weeks w ON p.sent_to_analysis_at::date >= (current_date - w.days - 7) AND p.sent_to_analysis_at < (current_date - w.days)
GROUP BY week
),
previous_period AS (
SELECT
 'previous_period'::text as series,
 count(*),
 w.days / 7 as week
FROM
 projects p
 RIGHT JOIN weeks w ON p.sent_to_analysis_at::date >= (current_date - w.days - 7 - 56) AND p.sent_to_analysis_at < (current_date - w.days - 56)
GROUP BY week
),
last_year AS (
SELECT
 'last_year'::text as series,
 count(*),
 w.days / 7 as week
FROM
 projects p
 RIGHT JOIN weeks w ON p.sent_to_analysis_at::date >= (current_date - w.days - 7 - 365) AND p.sent_to_analysis_at < (current_date - w.days - 365)
GROUP BY week
)
(SELECT * FROM current_period)
UNION ALL
(SELECT * FROM previous_period)
UNION ALL
(SELECT * FROM last_year)
ORDER BY series, week;

  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319121007"]]
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations" ORDER BY version[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Arte' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Arte' LIMIT 1[0m
  [1m[35mSQL (8.7ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Art"], ["name_pt", "Arte"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[36m (19.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Artes plásticas' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.4ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Artes plásticas' LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Visual Arts"], ["name_pt", "Artes plásticas"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[35m (8.2ms)[0m  COMMIT
  [1m[36mCategory Load (1.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Circo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Circo' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Circus"], ["name_pt", "Circo"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Comunidade' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Comunidade' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Community"], ["name_pt", "Comunidade"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[35m (11.3ms)[0m  COMMIT
  [1m[36mCategory Load (1.6ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Humor' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mCategory Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Humor' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Humor"], ["name_pt", "Humor"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Quadrinhos' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.5ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Quadrinhos' LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Comicbooks"], ["name_pt", "Quadrinhos"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[35m (9.4ms)[0m  COMMIT
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Dança' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mCategory Exists (1.5ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Dança' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Dance"], ["name_pt", "Dança"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[36m (8.9ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Design' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.4ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Design' LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Design"], ["name_pt", "Design"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[35m (9.0ms)[0m  COMMIT
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Eventos' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Eventos' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Events"], ["name_pt", "Eventos"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[36m (11.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Moda' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.1ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Moda' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00], ["name_en", "Fashion"], ["name_pt", "Moda"], ["updated_at", Sun, 23 Mar 2014 19:22:51 BRT -03:00]]
  [1m[35m (11.4ms)[0m  COMMIT
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Gastronomia' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Gastronomia' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Gastronomy"], ["name_pt", "Gastronomia"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[36m (11.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Cinema e Vídeo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Cinema e Vídeo' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Film & Video"], ["name_pt", "Cinema e Vídeo"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[35m (11.2ms)[0m  COMMIT
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Jogos' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mCategory Exists (1.4ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Jogos' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Games"], ["name_pt", "Jogos"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Jornalismo' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.4ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Jornalismo' LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Journalism"], ["name_pt", "Jornalismo"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[35m (8.8ms)[0m  COMMIT
  [1m[36mCategory Load (18.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Música' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mCategory Exists (1.0ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Música' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Music"], ["name_pt", "Música"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[36m (15.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Fotografia' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.4ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Fotografia' LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Photography"], ["name_pt", "Fotografia"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[35m (8.5ms)[0m  COMMIT
  [1m[36mCategory Load (1.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Ciência e Tecnologia' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Ciência e Tecnologia' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Science & Technology"], ["name_pt", "Ciência e Tecnologia"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[36m (11.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Teatro' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.4ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Teatro' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Theatre"], ["name_pt", "Teatro"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[35m (9.6ms)[0m  COMMIT
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Esporte' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mCategory Exists (1.4ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Esporte' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Sport"], ["name_pt", "Esporte"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.6ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Web' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.4ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Web' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Web"], ["name_pt", "Web"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[35m (9.3ms)[0m  COMMIT
  [1m[36mCategory Load (1.4ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Carnaval' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mCategory Exists (1.5ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Carnaval' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Carnival"], ["name_pt", "Carnaval"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Arquitetura e Urbanismo' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.2ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Arquitetura e Urbanismo' LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Architecture & Urbanism"], ["name_pt", "Arquitetura e Urbanismo"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[35m (9.7ms)[0m  COMMIT
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Literatura' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mCategory Exists (1.6ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Literatura' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name_en", "Literature"], ["name_pt", "Literatura"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.6ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Mobilidade e Transporte' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.5ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Mobilidade e Transporte' AND "categories"."id" != 1) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Meio Ambiente' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.5ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Meio Ambiente' AND "categories"."id" != 2) LIMIT 1
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Negócios Sociais' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.5ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Negócios Sociais' AND "categories"."id" != 3) LIMIT 1
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Educação' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Educação' AND "categories"."id" != 4) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes de Ficção' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.0ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes de Ficção' AND "categories"."id" != 5) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes Documentários' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.0ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes Documentários' AND "categories"."id" != 6) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes Universitários' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.0ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes Universitários' AND "categories"."id" != 7) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'company_name' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :company_name], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "Catarse"]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'company_logo' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :company_logo], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://catarse.me/assets/catarse_bootstrap/logo_icon_catarse.png"]]
  [1m[36m (4.2ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'host' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :host], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "catarse.me"]]
  [1m[36m (4.3ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'base_url' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :base_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://catarse.me"]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_contact' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :email_contact], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "contato@catarse.me"]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_payments' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :email_payments], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "financeiro@catarse.me"]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.1ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_projects' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :email_projects], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "projetos@catarse.me"]]
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_system' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :email_system], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "system@catarse.me"]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_no_reply' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :email_no_reply], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "no-reply@catarse.me"]]
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'facebook_url' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :facebook_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://facebook.com/catarse.me"]]
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'facebook_app_id' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :facebook_app_id], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "173747042661491"]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.1ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'twitter_url' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :twitter_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://twitter.com/catarse"]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'twitter_username' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :twitter_username], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "catarse"]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'mailchimp_url' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :mailchimp_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://catarse.us5.list-manage.com/subscribe/post?u=ebfcd0d16dbb0001a0bea3639&amp;id=149c39709e"]]
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'catarse_fee' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :catarse_fee], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "0.13"]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.1ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'support_forum' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :support_forum], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://suporte.catarse.me/"]]
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'base_domain' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :base_domain], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "catarse.me"]]
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_secret_gadget' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :uservoice_secret_gadget], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "change_this"]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_key' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :uservoice_key], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "uservoice_key"]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.2ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'faq_url' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :faq_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://suporte.catarse.me/"]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'feedback_url' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :feedback_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://suporte.catarse.me/forums/103171-catarse-ideias-gerais"]]
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.2ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'terms_url' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :terms_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://suporte.catarse.me/knowledgebase/articles/161100-termos-de-uso"]]
  [1m[36m (13.3ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.4ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'privacy_url' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :privacy_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://suporte.catarse.me/knowledgebase/articles/161103-pol%C3%ADtica-de-privacidade"]]
  [1m[36m (18.5ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.3ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'about_channel_url' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :about_channel_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://blog.catarse.me/conheca-os-canais-do-catarse/"]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.1ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'instagram_url' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :instagram_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://instagram.com/catarse_"]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.3ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'blog_url' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :blog_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://blog.catarse.me"]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.6ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'github_url' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :github_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://github.com/catarse"]]
  [1m[36m (12.9ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.3ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'contato_url' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["name", :contato_url], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["value", "http://suporte.catarse.me/"]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
  [1m[35mChannel Reverse Foreign Keys (3.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

[schema_associations] Channel.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] Channel.has_many :users, :class_name=>"User", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35m (3.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Channel.has_many :notifications, :class_name=>"Notification", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
[schema_associations] Channel.has_many :posts, :class_name=>"ChannelPost", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35mChannel Foreign Keys (2.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mChannel Load (1.1ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."name" = 'Channel name' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mChannel Exists (1.0ms)[0m  [1mSELECT 1 AS one FROM "channels" WHERE "channels"."permalink" = 'sample-permalink' LIMIT 1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "channels" ("created_at", "description", "how_it_works_html", "name", "permalink", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00], ["description", "Lorem Ipsum"], ["how_it_works_html", ""], ["name", "Channel name"], ["permalink", "sample-permalink"], ["updated_at", Sun, 23 Mar 2014 19:22:52 BRT -03:00]]
  [1m[36m (13.6ms)[0m  [1mCOMMIT[0m
  [1m[35mOauthProvider Load (1.2ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers" WHERE "oauth_providers"."name" = 'facebook' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "oauth_providers" ("created_at", "key", "name", "path", "secret", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 19:22:53 BRT -03:00], ["key", "your_facebook_app_key"], ["name", "facebook"], ["path", "facebook"], ["secret", "your_facebook_app_secret"], ["updated_at", Sun, 23 Mar 2014 19:22:53 BRT -03:00]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35mOauthProvider Load (0.9ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mConfiguration Load (1.2ms)[0m  [1mSELECT "configurations".* FROM "configurations"[0m
  [1m[36mOauthProvider Load (2.5ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.2ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mConfiguration Load (1.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'secret_token' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (10.0ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:23:23 BRT -03:00], ["name", :secret_token], ["updated_at", Sun, 23 Mar 2014 19:23:23 BRT -03:00], ["value", "1c842aae190d6bd7fe4163949a5e512db137bf8f1b76085e7b71e2f5f0d3e38ea57e6e55127c419e309f6290b9ae452d599dc04ff680b81f047eb0d8fa228beb"]]
  [1m[35m (33.1ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.0ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'secret_key_base' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 19:23:23 BRT -03:00], ["name", :secret_key_base], ["updated_at", Sun, 23 Mar 2014 19:23:23 BRT -03:00], ["value", "1ef1647fa05376a2bf12e08f400123c0db2c87162a0da437d65ea3fc5c23f7478aa25fb393a1093716bffc178d0b3e4540f7d0cfbe9cddd2ca15198320fd9e97"]]
  [1m[35m (22.1ms)[0m  COMMIT
  [1m[36mContribution Reverse Foreign Keys (2.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (5.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (3.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (2.9ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.9ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (3.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (1.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (3.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects


Started GET "/" for 127.0.0.1 at 2014-03-23 15:23:29 -0700
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProjectsController#index as HTML
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 65ms (ActiveRecord: 0.0ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-23 15:23:30 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mProjectsForHome Load (36.1ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (5.2ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.1ms)
  [1m[35mProjectsForHome Load (5.0ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.1ms)
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'blog_url' LIMIT 1[0m
  [1m[35mConfiguration Load (1.3ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'mailchimp_url' LIMIT 1
  Rendered layouts/_newsletter.html.slim (27.3ms)
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'facebook_url' LIMIT 1[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'twitter_username' LIMIT 1
  Rendered projects/index.html.slim within layouts/application (1970.6ms)
  [1m[36mConfiguration Load (1.5ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'company_name' LIMIT 1[0m
Warning. Error encountered while saving cache 6c31033e8f985eed14dfaf2633a0cce6a1e75b43/application.css.sassc: can't dump anonymous class #<Class:0x000000052e0428>

WARNING on line 235 of /home/robert/workspace/catarse/app/assets/stylesheets/resources/contributions/_new.sass:
This selector doesn't have any properties and will not be rendered.

WARNING on line 12 of /home/robert/workspace/catarse/app/assets/stylesheets/miv/_buttons.sass:
This selector doesn't have any properties and will not be rendered.

WARNING on line 15 of /home/robert/workspace/catarse/app/assets/stylesheets/miv/_buttons.sass:
This selector doesn't have any properties and will not be rendered.

  [1m[35mConfiguration Load (1.7ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'facebook_app_id' LIMIT 1
  Rendered layouts/_analytics.html.slim (8.1ms)
  Rendered layouts/_facebook_sdk.html.slim (9.6ms)
  [1m[36mConfiguration Load (1.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'base_domain' LIMIT 1[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'support_forum' LIMIT 1
  Rendered layouts/_header.html.slim (73.8ms)
  [1m[36mConfiguration Load (1.7ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'twitter_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'instagram_url' LIMIT 1
  [1m[36mConfiguration Load (0.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'github_url' LIMIT 1[0m
  [1m[35mConfiguration Load (1.0ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'faq_url' LIMIT 1
  [1m[36mConfiguration Load (1.1ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'feedback_url' LIMIT 1[0m
  [1m[35mConfiguration Load (1.2ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'terms_url' LIMIT 1
  [1m[36mConfiguration Load (1.1ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'privacy_url' LIMIT 1[0m
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered layouts/_facebook_like.html.slim (7.6ms)
  Rendered layouts/_footer.html.slim (222.3ms)
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_key' LIMIT 1
  Rendered layouts/_new_uservoice.html.slim (26.4ms)
Completed 200 OK in 12820ms (Views: 12735.5ms | ActiveRecord: 73.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:43 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:44 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-23 15:23:45 -0700


Started GET "/assets/favicon.ico" for 127.0.0.1 at 2014-03-23 15:23:49 -0700


Started GET "/" for 127.0.0.1 at 2014-03-23 15:24:33 -0700
Processing by ProjectsController#index as HTML
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-23 15:24:33 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[36mProjectsForHome Load (3.6ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (3.8ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.7ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.4ms)
  Rendered projects/index.html.slim within layouts/application (36.3ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered layouts/_header.html.slim (5.1ms)
  Rendered layouts/_newsletter.html.slim (1.0ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (12.8ms)
  Rendered layouts/_new_uservoice.html.slim (0.7ms)
Completed 200 OK in 114ms (Views: 98.9ms | ActiveRecord: 11.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:34 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-23 15:24:35 -0700


Started GET "/pt/login" for 127.0.0.1 at 2014-03-23 15:42:48 -0700
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (16.4ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (12.9ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (124.6ms)
  [1m[35mChannel Reverse Foreign Keys (3.6ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (7.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index fk__channels_subscribers_user_id on channels_subscribers (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

[schema_associations] Channel.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (3.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] Channel.has_many :users, :class_name=>"User", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35m (5.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Channel.has_many :notifications, :class_name=>"Notification", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
[schema_associations] Channel.has_many :posts, :class_name=>"ChannelPost", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35mChannel Foreign Keys (2.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mChannel Load (1.8ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mConfiguration Load (2.3ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'company_logo' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (6.9ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (12.9ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 2209ms (Views: 2064.7ms | ActiveRecord: 80.1ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:51 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:52 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:53 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:53 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:53 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-23 15:42:53 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 15:42:53 -0700


Started GET "/pt/sign_up" for 127.0.0.1 at 2014-03-23 15:43:09 -0700
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (1.4ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.2ms)
  Rendered catarse_bootstrap/devise/registrations/new.html.slim within layouts/catarse_bootstrap (164.7ms)
  [1m[35mChannel Load (1.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.4ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (1.3ms)
  Rendered layouts/_analytics.html.slim (0.2ms)
Completed 200 OK in 220ms (Views: 212.8ms | ActiveRecord: 1.1ms)


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:09 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:09 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:09 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:10 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-23 15:43:11 -0700


Started GET "/pt/login" for 127.0.0.1 at 2014-03-23 19:33:40 -0700
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (1.2ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.2ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (9.7ms)
  [1m[35mChannel Load (0.9ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (1.2ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 50ms (Views: 45.1ms | ActiveRecord: 1.0ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:40 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:33:41 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:33:56 -0700


Started GET "/assets/catarse_bootstrap/feedback-key.png" for 127.0.0.1 at 2014-03-23 19:33:57 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:33:57 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:33:57 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:34:00 -0700


Started GET "/" for 127.0.0.1 at 2014-03-23 19:38:07 -0700
Processing by ProjectsController#index as HTML
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-23 19:38:07 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mProjectsForHome Load (3.0ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (2.7ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.8ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.1ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered projects/index.html.slim within layouts/application (1202.3ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered layouts/_header.html.slim (4.1ms)
  Rendered layouts/_newsletter.html.slim (0.8ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (9.9ms)
  Rendered layouts/_new_uservoice.html.slim (0.4ms)
Completed 200 OK in 1265ms (Views: 1252.8ms | ActiveRecord: 8.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:09 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-23 19:38:10 -0700


Started GET "/pt/sign_up" for 127.0.0.1 at 2014-03-23 19:38:27 -0700
Processing by Devise::RegistrationsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (1.3ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.2ms)
  Rendered catarse_bootstrap/devise/registrations/new.html.slim within layouts/catarse_bootstrap (25.0ms)
  [1m[36mChannel Load (0.9ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (1.0ms)
  Rendered layouts/_analytics.html.slim (0.2ms)
Completed 200 OK in 65ms (Views: 61.3ms | ActiveRecord: 0.9ms)


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:27 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-23 19:38:27 -0700


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-23 19:38:27 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:28 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/pt/login" for 127.0.0.1 at 2014-03-23 19:38:29 -0700
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (1.5ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.2ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (13.1ms)
  [1m[36mChannel Load (0.9ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.4ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (1.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 63ms (Views: 59.0ms | ActiveRecord: 1.0ms)


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:38:29 -0700


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:30 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:38:31 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-23 19:38:59 -0700


Started POST "/pt/sign_up" for 127.0.0.1 at 2014-03-23 19:39:02 -0700
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"beW6vr+lI3WKpUniE03ZfCYa9eq8NqvNzyYHFceihYc=", "user"=>{"name"=>"Robert Rarick", "email"=>"bob@indago.io", "password"=>"[FILTERED]", "newsletter"=>"0"}, "commit"=>"You register", "locale"=>"pt"}
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (2.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'bob@indago.io' LIMIT 1
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Sun, 23 Mar 2014 23:39:03 BRT -03:00], ["email", "bob@indago.io"], ["encrypted_password", "$2a$10$brPjE.JoPoWyzOUpZUS2Ney8Ne9gr8Eobot2xlWNVbHmuumT6ZTze"], ["name", "Robert Rarick"], ["updated_at", Sun, 23 Mar 2014 23:39:03 BRT -03:00]]
  [1m[35mNotification Reverse Foreign Keys (2.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mNotification Foreign Keys (3.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (5.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:notifications
  [1m[36m (3.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :contribution, :class_name=>"Contribution", :foreign_key=>"contribution_id", :inverse_of=>:notifications
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:notifications
  [1m[35m (5.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:notifications
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :channel_post, :class_name=>"ChannelPost", :foreign_key=>"channel_post_id", :inverse_of=>:notifications
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM "notifications" WHERE "notifications"."user_id" = 1 AND "notifications"."template_name" = 'new_user_registration'
  [1m[36mConfiguration Load (1.0ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_contact' LIMIT 1[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "notifications" ("created_at", "locale", "origin_email", "origin_name", "template_name", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["created_at", Sun, 23 Mar 2014 23:39:03 BRT -03:00], ["locale", "pt"], ["origin_email", "contato@catarse.me"], ["origin_name", "Catarse"], ["template_name", :new_user_registration], ["updated_at", Sun, 23 Mar 2014 23:39:03 BRT -03:00], ["user_id", 1]]
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 430ms

Redis::CannotConnectError - Error connecting to Redis on localhost:6379 (ECONNREFUSED):
  redis (3.0.6) lib/redis/client.rb:278:in `rescue in establish_connection'
  redis (3.0.6) lib/redis/client.rb:273:in `establish_connection'
  redis (3.0.6) lib/redis/client.rb:69:in `connect'
  redis (3.0.6) lib/redis/client.rb:292:in `ensure_connected'
  redis (3.0.6) lib/redis/client.rb:179:in `block in process'
  redis (3.0.6) lib/redis/client.rb:258:in `logging'
  redis (3.0.6) lib/redis/client.rb:178:in `process'
  redis (3.0.6) lib/redis/client.rb:149:in `call_pipelined'
  redis (3.0.6) lib/redis/client.rb:121:in `block in call_pipeline'
  redis (3.0.6) lib/redis/client.rb:245:in `with_reconnect'
  redis (3.0.6) lib/redis/client.rb:119:in `call_pipeline'
  redis (3.0.6) lib/redis.rb:2093:in `block in multi'
  redis (3.0.6) lib/redis.rb:36:in `block in synchronize'
  /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'
  redis (3.0.6) lib/redis.rb:36:in `synchronize'
  redis (3.0.6) lib/redis.rb:2085:in `multi'
  sidekiq (2.15.2) lib/sidekiq/client.rb:126:in `block in raw_push'
  connection_pool (1.2.0) lib/connection_pool.rb:55:in `with'
  sidekiq (2.15.2) lib/sidekiq.rb:67:in `redis'
  sidekiq (2.15.2) lib/sidekiq/client.rb:117:in `raw_push'
  sidekiq (2.15.2) lib/sidekiq/client.rb:44:in `push'
  sidekiq (2.15.2) lib/sidekiq/worker.rb:83:in `client_push'
  sidekiq (2.15.2) lib/sidekiq/worker.rb:40:in `perform_async'
  app/models/notification.rb:23:in `deliver'
  app/models/notification.rb:18:in `notify'
  app/models/notification.rb:8:in `notify_once'
  app/observers/user_observer.rb:9:in `after_create'
  rails-observers (0.1.2) lib/rails/observers/active_model/observing.rb:352:in `update'
  rails-observers (0.1.2) lib/rails/observers/activerecord/observer.rb:118:in `block (2 levels) in define_callbacks'
  activesupport (4.0.3) lib/active_support/callbacks.rb:423:in `_run__3080692514596449211__create__callbacks'
  activesupport (4.0.3) lib/active_support/callbacks.rb:80:in `run_callbacks'
  activerecord (4.0.3) lib/active_record/callbacks.rb:306:in `create_record'
  activerecord (4.0.3) lib/active_record/timestamp.rb:57:in `create_record'
  activerecord (4.0.3) lib/active_record/persistence.rb:477:in `create_or_update'
  activerecord (4.0.3) lib/active_record/callbacks.rb:302:in `block in create_or_update'
  activesupport (4.0.3) lib/active_support/callbacks.rb:423:in `_run__3080692514596449211__save__callbacks'
  activesupport (4.0.3) lib/active_support/callbacks.rb:80:in `run_callbacks'
  activerecord (4.0.3) lib/active_record/callbacks.rb:302:in `create_or_update'
  activerecord (4.0.3) lib/active_record/persistence.rb:106:in `save'
  activerecord (4.0.3) lib/active_record/validations.rb:51:in `save'
  activerecord (4.0.3) lib/active_record/attribute_methods/dirty.rb:32:in `save'
  activerecord (4.0.3) lib/active_record/transactions.rb:270:in `block (2 levels) in save'
  activerecord (4.0.3) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
  activerecord (4.0.3) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
  activerecord (4.0.3) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
  activerecord (4.0.3) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
  activerecord (4.0.3) lib/active_record/transactions.rb:209:in `transaction'
  activerecord (4.0.3) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
  activerecord (4.0.3) lib/active_record/transactions.rb:270:in `block in save'
  activerecord (4.0.3) lib/active_record/transactions.rb:281:in `rollback_active_record_state!'
  activerecord (4.0.3) lib/active_record/transactions.rb:269:in `save'
  devise (3.0.4) app/controllers/devise/registrations_controller.rb:15:in `create'
  actionpack (4.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (4.0.3) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.3) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.3) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.3) lib/active_support/callbacks.rb:513:in `_run__950017593311967256__process_action__callbacks'
  activesupport (4.0.3) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.3) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.3) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.3) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.3) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.3) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.3) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.3) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.3) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.3) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.3) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.3) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.3) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.3) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.3) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.3) lib/action_dispatch/routing/mapper.rb:44:in `call'
  actionpack (4.0.3) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.3) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.3) lib/action_dispatch/routing/route_set.rb:680:in `call'
  omniauth (1.1.4) lib/omniauth/strategy.rb:184:in `call!'
  omniauth (1.1.4) lib/omniauth/strategy.rb:164:in `call'
  http_accept_language (2.0.0) lib/http_accept_language/middleware.rb:13:in `call'
  request_store (1.0.5) lib/request_store/middleware.rb:9:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:35:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.3) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.3) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.3) lib/active_support/callbacks.rb:373:in `_run__125261076372611601__call__callbacks'
  activesupport (4.0.3) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.3) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.3) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.3) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.3) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.3) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.3) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.3) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.3) lib/rails/engine.rb:511:in `call'
  railties (4.0.3) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'



Started POST "/__better_errors/70424620/variables" for 127.0.0.1 at 2014-03-23 19:39:03 -0700


Started POST "/__better_errors/70424620/variables" for 127.0.0.1 at 2014-03-23 19:39:37 -0700
  [1m[35mNotification Load (1.5ms)[0m  SELECT "notifications".* FROM "notifications"


Started POST "/__better_errors/70424620/variables" for 127.0.0.1 at 2014-03-23 19:39:44 -0700


Started POST "/__better_errors/70424620/variables" for 127.0.0.1 at 2014-03-23 19:39:45 -0700


Started GET "/auth/facebook" for 127.0.0.1 at 2014-03-23 19:42:31 -0700
  [1m[36mOauthProvider Load (105.9ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.4ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (46.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (37.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (5.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (27.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (3.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (3.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (2.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (1.6ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects


Started GET "/" for 127.0.0.1 at 2014-03-24 07:44:41 -0700
  [1m[36mActiveRecord::SchemaMigration Load (16.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProjectsController#index as HTML
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 63ms (ActiveRecord: 0.0ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 07:44:41 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mProjectsForHome Load (145.5ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.1ms)
  [1m[36mProjectsForHome Load (5.1ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.1ms)
  [1m[35mProjectsForHome Load (4.7ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (24.4ms)
  Rendered projects/index.html.slim within layouts/application (1796.2ms)
  Rendered layouts/_analytics.html.slim (7.6ms)
  Rendered layouts/_facebook_sdk.html.slim (6.4ms)
  Rendered layouts/_header.html.slim (31.3ms)
  Rendered layouts/_newsletter.html.slim (1.1ms)
  Rendered layouts/_facebook_like.html.slim (7.6ms)
  Rendered layouts/_footer.html.slim (49.0ms)
  Rendered layouts/_new_uservoice.html.slim (8.1ms)
Completed 200 OK in 2672ms (Views: 2466.7ms | ActiveRecord: 159.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:45 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 07:44:46 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 07:44:47 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 07:44:47 -0700
  [1m[36mOauthProvider Load (2.1ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.1ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (7.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (4.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (3.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (1.6ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (1.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (2.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (2.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (2.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (1.4ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (2.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mConfiguration Load (23.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_subdomain' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (117.4ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00], ["name", "uservoice_subdomain"], ["updated_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00]]
  [1m[35m (28.1ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  UPDATE "configurations" SET "value" = $1, "updated_at" = $2 WHERE "configurations"."id" = 31  [["value", "dummy_domain.uservoice.com"], ["updated_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.3ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_sso_key' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "configurations" ("created_at", "name", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00], ["name", "uservoice_sso_key"], ["updated_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00]]
  [1m[36m (13.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "configurations" SET "value" = $1, "updated_at" = $2 WHERE "configurations"."id" = 32[0m  [["value", "dummy_uservoice_sso_key"], ["updated_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00]]
  [1m[35m (5.9ms)[0m  COMMIT
  [1m[36mUser Load (14.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Admin' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1[0m
  [1m[35mSQL (77.8ms)[0m  INSERT INTO "users" ("admin", "created_at", "email", "encrypted_password", "name", "nickname", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["admin", true], ["created_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00], ["email", "admin@admin.com"], ["encrypted_password", "$2a$10$14Vmw7mYR.Ty.Sk64uA5h.Q6k0jA7WAet3UEWMuYk1FXCBFyukdha"], ["name", "Admin"], ["nickname", "Admin"], ["updated_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00]]
  [1m[36mNotification Reverse Foreign Keys (2.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mNotification Foreign Keys (2.4ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:notifications
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36m (2.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :contribution, :class_name=>"Contribution", :foreign_key=>"contribution_id", :inverse_of=>:notifications
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:notifications
  [1m[36m (2.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:notifications
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :channel_post, :class_name=>"ChannelPost", :foreign_key=>"channel_post_id", :inverse_of=>:notifications
  [1m[36m (20.8ms)[0m  [1mSELECT COUNT(*) FROM "notifications" WHERE "notifications"."user_id" = 2 AND "notifications"."template_name" = 'new_user_registration'[0m
  [1m[35mSQL (83.9ms)[0m  INSERT INTO "notifications" ("created_at", "locale", "origin_email", "origin_name", "template_name", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["created_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00], ["locale", "pt"], ["origin_email", "contato@catarse.me"], ["origin_name", "Catarse"], ["template_name", :new_user_registration], ["updated_at", Mon, 24 Mar 2014 11:58:04 BRT -03:00], ["user_id", 2]]
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[36mOauthProvider Load (2.3ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (0.8ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (2.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (5.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (1.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (2.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (2.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (4.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (1.9ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (2.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (3.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (2.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (2.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects


Started GET "/" for 127.0.0.1 at 2014-03-24 08:02:06 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProjectsController#index as HTML
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 57ms (ActiveRecord: 0.0ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 08:02:06 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mProjectsForHome Load (11.1ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (4.7ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (3.0ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (5.9ms)
  Rendered projects/index.html.slim within layouts/application (1983.9ms)
  Rendered layouts/_analytics.html.slim (5.4ms)
  Rendered layouts/_facebook_sdk.html.slim (6.0ms)
  Rendered layouts/_header.html.slim (18.3ms)
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (5.1ms)
  Rendered layouts/_footer.html.slim (34.4ms)
  Rendered layouts/_new_uservoice.html.slim (6.4ms)
Completed 200 OK in 2361ms (Views: 2324.9ms | ActiveRecord: 22.2ms)


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:09 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:02:09 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:09 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:09 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:09 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:09 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:10 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 08:02:11 -0700


Started GET "/assets/favicon.ico" for 127.0.0.1 at 2014-03-24 08:02:14 -0700


Started GET "/pt/login" for 127.0.0.1 at 2014-03-24 08:02:15 -0700
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (26.5ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (16.9ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (132.5ms)
  [1m[36mChannel Reverse Foreign Keys (2.5ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (8.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] Channel.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35m (3.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__users_channel_id on users (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_email on users (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_name on users (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_reset_password_token on users (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

[schema_associations] Channel.has_many :users, :class_name=>"User", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (3.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Channel.has_many :notifications, :class_name=>"Notification", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35m (4.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] Channel.has_many :posts, :class_name=>"ChannelPost", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36mChannel Foreign Keys (1.8ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mChannel Load (26.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  Rendered layouts/_facebook_sdk.html.slim (0.6ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (7.9ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (10.6ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 495ms (Views: 330.7ms | ActiveRecord: 106.9ms)


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-24 08:02:15 -0700


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 08:02:15 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:15 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:16 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:02:17 -0700


Started POST "/pt/login" for 127.0.0.1 at 2014-03-24 08:02:49 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ffn7oB7YqQZBxIsEOhokjEBHc7SrX0npSxHHVEgMGuk=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  [1m[35mUser Load (3.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: an empty resource was given to Devise::Strategies::DatabaseAuthenticatable#validate. Please ensure the resource is not nil. (called from service at /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/webrick/httpserver.rb:138)
Completed 401 Unauthorized in 48ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ffn7oB7YqQZBxIsEOhokjEBHc7SrX0npSxHHVEgMGuk=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (1.0ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.2ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (8.6ms)
  [1m[36mChannel Load (0.8ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (1.1ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 173ms (Views: 41.3ms | ActiveRecord: 0.8ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 08:02:49 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-24 08:02:49 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:49 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:49 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:49 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:49 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:49 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 08:02:49 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:50 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:51 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:51 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:51 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:51 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:51 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:02:51 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:02:51 -0700
  [1m[36mOauthProvider Load (2.2ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.1ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (7.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (5.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (3.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.4ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (3.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (2.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_subdomain' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.6ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_sso_key' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Admin' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1[0m
  [1m[35mSQL (12.1ms)[0m  INSERT INTO "users" ("admin", "created_at", "email", "encrypted_password", "name", "nickname", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["admin", true], ["created_at", Mon, 24 Mar 2014 12:04:21 BRT -03:00], ["email", "admin@admin.com"], ["encrypted_password", "$2a$10$35wfJL6XNOiSgT5Ohjbx6u22aZo.rNvbSeD2rD0iI9.G7vqZkcZ92"], ["name", "Admin"], ["nickname", "Admin"], ["updated_at", Mon, 24 Mar 2014 12:04:21 BRT -03:00]]
  [1m[36mNotification Reverse Foreign Keys (1.8ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mNotification Foreign Keys (2.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:notifications
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :contribution, :class_name=>"Contribution", :foreign_key=>"contribution_id", :inverse_of=>:notifications
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:notifications
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:notifications
  [1m[35m (4.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :channel_post, :class_name=>"ChannelPost", :foreign_key=>"channel_post_id", :inverse_of=>:notifications
  [1m[36m (2.0ms)[0m  [1mSELECT COUNT(*) FROM "notifications" WHERE "notifications"."user_id" = 3 AND "notifications"."template_name" = 'new_user_registration'[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "notifications" ("created_at", "locale", "origin_email", "origin_name", "template_name", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["created_at", Mon, 24 Mar 2014 12:04:21 BRT -03:00], ["locale", "pt"], ["origin_email", "contato@catarse.me"], ["origin_name", "Catarse"], ["template_name", :new_user_registration], ["updated_at", Mon, 24 Mar 2014 12:04:21 BRT -03:00], ["user_id", 3]]
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[36mOauthProvider Load (2.2ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.1ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (7.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (3.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.5ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (3.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (1.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (2.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (2.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (2.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (1.6ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (3.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.9ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations" ORDER BY version
  [1m[36mOauthProvider Load (1.8ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.3ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (7.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (5.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.5ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (3.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.9ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (1.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (2.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (1.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (2.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mCategory Load (31.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Arte' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Arte' AND "categories"."id" != 8) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (26.8ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Artes plásticas' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Artes plásticas' AND "categories"."id" != 9) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Circo' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Circo' AND "categories"."id" != 10) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Comunidade' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Comunidade' AND "categories"."id" != 11) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Humor' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Humor' AND "categories"."id" != 12) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Quadrinhos' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.2ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Quadrinhos' AND "categories"."id" != 13) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Dança' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.0ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Dança' AND "categories"."id" != 14) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Design' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Design' AND "categories"."id" != 15) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Eventos' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.1ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Eventos' AND "categories"."id" != 16) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Moda' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.4ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Moda' AND "categories"."id" != 17) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Gastronomia' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Gastronomia' AND "categories"."id" != 18) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Cinema e Vídeo' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Cinema e Vídeo' AND "categories"."id" != 19) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Jogos' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.2ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Jogos' AND "categories"."id" != 20) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Jornalismo' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Jornalismo' AND "categories"."id" != 21) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Música' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Música' AND "categories"."id" != 22) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Fotografia' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Fotografia' AND "categories"."id" != 23) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Ciência e Tecnologia' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Ciência e Tecnologia' AND "categories"."id" != 24) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Teatro' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Teatro' AND "categories"."id" != 25) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Esporte' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.4ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Esporte' AND "categories"."id" != 26) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Web' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.2ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Web' AND "categories"."id" != 27) LIMIT 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Carnaval' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.0ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Carnaval' AND "categories"."id" != 28) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Arquitetura e Urbanismo' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Arquitetura e Urbanismo' AND "categories"."id" != 29) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Literatura' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Literatura' AND "categories"."id" != 30) LIMIT 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Mobilidade e Transporte' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.1ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Mobilidade e Transporte' AND "categories"."id" != 1) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Meio Ambiente' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Meio Ambiente' AND "categories"."id" != 2) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Negócios Sociais' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Negócios Sociais' AND "categories"."id" != 3) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Educação' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Educação' AND "categories"."id" != 4) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes de Ficção' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes de Ficção' AND "categories"."id" != 5) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes Documentários' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes Documentários' AND "categories"."id" != 6) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes Universitários' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes Universitários' AND "categories"."id" != 7) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.4ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'company_name' LIMIT 1
  [1m[36mConfiguration Load (1.1ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'company_logo' LIMIT 1[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'host' LIMIT 1
  [1m[36mConfiguration Load (0.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'base_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_contact' LIMIT 1
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_payments' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_projects' LIMIT 1
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_system' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_no_reply' LIMIT 1
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'facebook_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'facebook_app_id' LIMIT 1
  [1m[36mConfiguration Load (0.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'twitter_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'twitter_username' LIMIT 1
  [1m[36mConfiguration Load (0.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'mailchimp_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'catarse_fee' LIMIT 1
  [1m[36mConfiguration Load (0.7ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'support_forum' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'base_domain' LIMIT 1
  [1m[36mConfiguration Load (0.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_secret_gadget' LIMIT 1[0m
  [1m[35mConfiguration Load (0.9ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_key' LIMIT 1
  [1m[36mConfiguration Load (0.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'faq_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.7ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'feedback_url' LIMIT 1
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'terms_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'privacy_url' LIMIT 1
  [1m[36mConfiguration Load (0.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'about_channel_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'instagram_url' LIMIT 1
  [1m[36mConfiguration Load (0.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'blog_url' LIMIT 1[0m
  [1m[35mConfiguration Load (0.8ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'github_url' LIMIT 1
  [1m[36mConfiguration Load (0.7ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'contato_url' LIMIT 1[0m
  [1m[35mChannel Reverse Foreign Keys (2.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

[schema_associations] Channel.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] Channel.has_many :users, :class_name=>"User", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35m (2.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Channel.has_many :notifications, :class_name=>"Notification", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
[schema_associations] Channel.has_many :posts, :class_name=>"ChannelPost", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35mChannel Foreign Keys (2.2ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mChannel Load (18.8ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."name" = 'Channel name' LIMIT 1[0m
  [1m[35mOauthProvider Load (21.4ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers" WHERE "oauth_providers"."name" = 'facebook' LIMIT 1
  [1m[36mOauthProvider Load (1.0ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mConfiguration Load (1.5ms)[0m  SELECT "configurations".* FROM "configurations"


Started POST "/pt/login" for 127.0.0.1 at 2014-03-24 08:06:41 -0700
  [1m[36mContribution Reverse Foreign Keys (2.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (2.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (1.9ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.9ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (2.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (3.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ffn7oB7YqQZBxIsEOhokjEBHc7SrX0npSxHHVEgMGuk=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: an empty resource was given to Devise::Strategies::DatabaseAuthenticatable#validate. Please ensure the resource is not nil. (called from service at /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/webrick/httpserver.rb:138)
Completed 401 Unauthorized in 12ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ffn7oB7YqQZBxIsEOhokjEBHc7SrX0npSxHHVEgMGuk=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (1.9ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.2ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (10.2ms)
  [1m[35mChannel Reverse Foreign Keys (1.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

[schema_associations] Channel.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] Channel.has_many :users, :class_name=>"User", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Channel.has_many :notifications, :class_name=>"Notification", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
[schema_associations] Channel.has_many :posts, :class_name=>"ChannelPost", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35mChannel Foreign Keys (2.2ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mChannel Load (1.9ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (1.1ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 337ms (Views: 114.3ms | ActiveRecord: 64.8ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 08:06:42 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:42 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:42 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-24 08:06:42 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:42 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:42 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:42 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:42 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:43 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:44 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:44 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:44 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:44 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:44 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:06:44 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:06:44 -0700
  [1m[36mOauthProvider Load (2.1ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.3ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.5ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (8.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (4.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (3.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.9ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (1.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (3.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (2.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (1.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (2.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_subdomain' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.7ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_sso_key' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Admin' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1[0m
  [1m[35mSQL (17.7ms)[0m  INSERT INTO "users" ("admin", "created_at", "email", "encrypted_password", "name", "nickname", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["admin", true], ["created_at", Mon, 24 Mar 2014 12:06:57 BRT -03:00], ["email", "admin@admin.com"], ["encrypted_password", "$2a$10$j3EiBbdkT.BR/V/AOLYH/eEfzCxSHNrWfXHzgHq4SIkbebM4UGyJu"], ["name", "Admin"], ["nickname", "Admin"], ["updated_at", Mon, 24 Mar 2014 12:06:57 BRT -03:00]]
  [1m[36mNotification Reverse Foreign Keys (1.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mNotification Foreign Keys (2.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:notifications
  [1m[35m (4.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :contribution, :class_name=>"Contribution", :foreign_key=>"contribution_id", :inverse_of=>:notifications
  [1m[35m (4.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:notifications
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:notifications
  [1m[35m (4.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :channel_post, :class_name=>"ChannelPost", :foreign_key=>"channel_post_id", :inverse_of=>:notifications
  [1m[36m (2.3ms)[0m  [1mSELECT COUNT(*) FROM "notifications" WHERE "notifications"."user_id" = 4 AND "notifications"."template_name" = 'new_user_registration'[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "notifications" ("created_at", "locale", "origin_email", "origin_name", "template_name", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["created_at", Mon, 24 Mar 2014 12:06:57 BRT -03:00], ["locale", "pt"], ["origin_email", "contato@catarse.me"], ["origin_name", "Catarse"], ["template_name", :new_user_registration], ["updated_at", Mon, 24 Mar 2014 12:06:57 BRT -03:00], ["user_id", 4]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:09:44 -0700
  [1m[36mOauthProvider Load (2.2ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.2ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (2.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (2.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (1.8ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (2.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (1.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (2.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (1.2ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (2.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mConfiguration Load (1.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_subdomain' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (0.7ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_sso_key' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Admin' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1[0m
  [1m[35mSQL (11.1ms)[0m  INSERT INTO "users" ("admin", "created_at", "email", "encrypted_password", "name", "nickname", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["admin", true], ["created_at", Mon, 24 Mar 2014 12:34:10 BRT -03:00], ["email", "admin@admin.com"], ["encrypted_password", "$2a$10$anqSspMpjm8HOmpNELFhL.JUpYhA/NwFnqNYTBuEe5YieQ4B9GDRW"], ["name", "Admin"], ["nickname", "Admin"], ["updated_at", Mon, 24 Mar 2014 12:34:10 BRT -03:00]]
  [1m[36mNotification Reverse Foreign Keys (1.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mNotification Foreign Keys (1.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:notifications
  [1m[35m (2.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36m (2.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (0.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :contribution, :class_name=>"Contribution", :foreign_key=>"contribution_id", :inverse_of=>:notifications
  [1m[35m (2.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (0.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:notifications
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:notifications
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :channel_post, :class_name=>"ChannelPost", :foreign_key=>"channel_post_id", :inverse_of=>:notifications
  [1m[36m (1.8ms)[0m  [1mSELECT COUNT(*) FROM "notifications" WHERE "notifications"."user_id" = 5 AND "notifications"."template_name" = 'new_user_registration'[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "notifications" ("created_at", "locale", "origin_email", "origin_name", "template_name", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["created_at", Mon, 24 Mar 2014 12:34:10 BRT -03:00], ["locale", "pt"], ["origin_email", "contato@catarse.me"], ["origin_name", "Catarse"], ["template_name", :new_user_registration], ["updated_at", Mon, 24 Mar 2014 12:34:10 BRT -03:00], ["user_id", 5]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mOauthProvider Load (2.1ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.2ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (7.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (5.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (3.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (0.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (0.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (0.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (0.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.6ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (2.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mConfiguration Load (1.8ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_subdomain' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mConfiguration Load (1.2ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_sso_key' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Admin' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1[0m
  [1m[35mSQL (19.9ms)[0m  INSERT INTO "users" ("admin", "created_at", "email", "encrypted_password", "name", "nickname", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["admin", true], ["created_at", Mon, 24 Mar 2014 12:46:05 BRT -03:00], ["email", "admin@admin.com"], ["encrypted_password", "$2a$10$BgVVy0LGKBkueUZXOZCONuItIqOA1n/eyQorik74PHnRp5xGq0Eqm"], ["name", "Admin"], ["nickname", "Admin"], ["updated_at", Mon, 24 Mar 2014 12:46:05 BRT -03:00]]
  [1m[36mNotification Reverse Foreign Keys (2.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mNotification Foreign Keys (2.2ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:notifications
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :contribution, :class_name=>"Contribution", :foreign_key=>"contribution_id", :inverse_of=>:notifications
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:notifications
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Notification.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:notifications
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Notification.belongs_to :channel_post, :class_name=>"ChannelPost", :foreign_key=>"channel_post_id", :inverse_of=>:notifications
  [1m[36m (1.6ms)[0m  [1mSELECT COUNT(*) FROM "notifications" WHERE "notifications"."user_id" = 6 AND "notifications"."template_name" = 'new_user_registration'[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "notifications" ("created_at", "locale", "origin_email", "origin_name", "template_name", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["created_at", Mon, 24 Mar 2014 12:46:05 BRT -03:00], ["locale", "pt"], ["origin_email", "contato@catarse.me"], ["origin_name", "Catarse"], ["template_name", :new_user_registration], ["updated_at", Mon, 24 Mar 2014 12:46:05 BRT -03:00], ["user_id", 6]]
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'Funder' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'funder@funder.com' LIMIT 1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "encrypted_password", "name", "nickname", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Mon, 24 Mar 2014 12:46:06 BRT -03:00], ["email", "funder@funder.com"], ["encrypted_password", "$2a$10$RqTLXK8b8qQvutPa9lSWRuli.isgfD1dbZBRQ8aVzKVnsh4D8d9wO"], ["name", "Funder"], ["nickname", "Funder"], ["updated_at", Mon, 24 Mar 2014 12:46:06 BRT -03:00]]
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM "notifications" WHERE "notifications"."user_id" = 7 AND "notifications"."template_name" = 'new_user_registration'
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "notifications" ("created_at", "locale", "origin_email", "origin_name", "template_name", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["created_at", Mon, 24 Mar 2014 12:46:06 BRT -03:00], ["locale", "pt"], ["origin_email", "contato@catarse.me"], ["origin_name", "Catarse"], ["template_name", :new_user_registration], ["updated_at", Mon, 24 Mar 2014 12:46:06 BRT -03:00], ["user_id", 7]]
  [1m[35m (20.6ms)[0m  COMMIT
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Test' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "encrypted_password", "name", "nickname", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["created_at", Mon, 24 Mar 2014 12:46:06 BRT -03:00], ["email", "test@test.com"], ["encrypted_password", "$2a$10$ylb.afixTfQ6mtiiz.zBpuM/HJ0N0zsm7KdTEEBQ/YorUwZwqZ9Vq"], ["name", "Test"], ["nickname", "Test"], ["updated_at", Mon, 24 Mar 2014 12:46:06 BRT -03:00]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "notifications" WHERE "notifications"."user_id" = 8 AND "notifications"."template_name" = 'new_user_registration'[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "notifications" ("created_at", "locale", "origin_email", "origin_name", "template_name", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["created_at", Mon, 24 Mar 2014 12:46:06 BRT -03:00], ["locale", "pt"], ["origin_email", "contato@catarse.me"], ["origin_name", "Catarse"], ["template_name", :new_user_registration], ["updated_at", Mon, 24 Mar 2014 12:46:06 BRT -03:00], ["user_id", 8]]
  [1m[36m (7.3ms)[0m  [1mCOMMIT[0m


Started POST "/pt/login" for 127.0.0.1 at 2014-03-24 08:46:18 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ffn7oB7YqQZBxIsEOhokjEBHc7SrX0npSxHHVEgMGuk=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (19.7ms)[0m  [1mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = 6[0m  [["remember_created_at", Mon, 24 Mar 2014 12:46:18 BRT -03:00], ["updated_at", Mon, 24 Mar 2014 12:46:18 BRT -03:00]]
  [1m[35m (12.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = 6  [["last_sign_in_at", Mon, 24 Mar 2014 12:46:18 BRT -03:00], ["current_sign_in_at", Mon, 24 Mar 2014 12:46:18 BRT -03:00], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", Mon, 24 Mar 2014 12:46:18 BRT -03:00]]
  [1m[36m (11.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/pt
Completed 302 Found in 235ms (ActiveRecord: 49.4ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 08:46:18 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (34.5ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 6]]
  [1m[35mProject Load (2.9ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (10.2ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (3.1ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.8ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.1ms)
  Rendered projects/index.html.slim within layouts/application (2496.7ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  [1m[35mConfiguration Load (1.6ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'base_url' LIMIT 1
  [1m[36mUserTotal Load (4.0ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 6]]
  Rendered layouts/_header.html.slim (361.8ms)
  Rendered layouts/_newsletter.html.slim (1.0ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (11.3ms)
  [1m[35mConfiguration Load (1.1ms)[0m  SELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_subdomain' LIMIT 1
  [1m[36mConfiguration Load (1.1ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_sso_key' LIMIT 1[0m
  Rendered layouts/_new_uservoice.html.slim (37.2ms)
Completed 200 OK in 3078ms (Views: 2923.0ms | ActiveRecord: 77.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:46:21 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:21 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:21 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:21 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:21 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:21 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:22 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:23 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:46:23 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 08:46:23 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 08:46:23 -0700


Started GET "/pt/admin/projects" for 127.0.0.1 at 2014-03-24 08:46:51 -0700
Processing by Admin::ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "projects"[0m
  [1m[35mUserTotal Load (1.2ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 6]]
  Rendered catarse_bootstrap/shared/_header.html.slim (32.4ms)
  [1m[36m (2.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" LEFT OUTER JOIN project_totals ON project_totals.project_id = projects.id WHERE ("projects"."state" NOT IN ('deleted'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" LEFT OUTER JOIN project_totals ON project_totals.project_id = projects.id WHERE ("projects"."state" NOT IN ('deleted'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" LEFT OUTER JOIN project_totals ON project_totals.project_id = projects.id WHERE ("projects"."state" NOT IN ('deleted'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" LEFT OUTER JOIN project_totals ON project_totals.project_id = projects.id WHERE ("projects"."state" NOT IN ('deleted'))
  [1m[36m (2.7ms)[0m  [1mSELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "projects" LEFT OUTER JOIN project_totals ON project_totals.project_id = projects.id WHERE ("projects"."state" NOT IN ('deleted')) LIMIT 25 OFFSET 0) subquery_for_count[0m
  Rendered layouts/_newsletter.html.slim (1.3ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered catarse_bootstrap/shared/_footer.html.slim (39.2ms)
  Rendered catarse_bootstrap/admin/projects/index.html.slim within layouts/catarse_bootstrap (484.4ms)
  [1m[35mChannel Load (0.8ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.2ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 558ms (Views: 526.4ms | ActiveRecord: 9.3ms)


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:51 -0700


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:52 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:46:53 -0700


Started GET "/pt/users/6-admin" for 127.0.0.1 at 2014-03-24 08:47:06 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"6-admin", "locale"=>"pt"}
  [1m[35mUser Load (1.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "6-admin"]]
  [1m[35mAuthorization Reverse Foreign Keys (2.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'authorizations'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mAuthorization Foreign Keys (2.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'authorizations'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index fk__authorizations_user_id on authorizations (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

[schema_associations] Authorization.belongs_to :oauth_provider, :class_name=>"OauthProvider", :foreign_key=>"oauth_provider_id", :inverse_of=>:authorizations
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] Authorization.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:authorizations
  [1m[35mAuthorization Load (16.7ms)[0m  SELECT "authorizations".* FROM "authorizations" INNER JOIN "oauth_providers" ON "oauth_providers"."id" = "authorizations"."oauth_provider_id" WHERE "authorizations"."user_id" = $1 AND (oauth_providers.name = 'facebook') ORDER BY "authorizations"."id" ASC LIMIT 1  [["user_id", 6]]
  [1m[36mUnsubscribe Reverse Foreign Keys (2.5ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'unsubscribes'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mUnsubscribe Foreign Keys (1.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'unsubscribes'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

  [1m[36mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
[schema_associations] Unsubscribe.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:unsubscribes
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Unsubscribe.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:unsubscribes
  [1m[36mUnsubscribe Load (39.6ms)[0m  [1mSELECT "unsubscribes".* FROM "unsubscribes" WHERE "unsubscribes"."user_id" = $1 AND "unsubscribes"."project_id" IS NULL LIMIT 1[0m  [["user_id", 6]]
  [1m[35mProject Load (3.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (id IN (SELECT project_id FROM contributions b WHERE b.state = 'confirmed' AND b.user_id = 6))
  Rendered users/_unsubscribes.html.slim (77.2ms)
  [1m[36mOauthProvider Load (1.2ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers" WHERE "oauth_providers"."name" = 'facebook' LIMIT 1[0m
  [1m[35mAuthorization Load (1.9ms)[0m  SELECT "authorizations".* FROM "authorizations" WHERE "authorizations"."user_id" = $1 AND "authorizations"."oauth_provider_id" = 1  [["user_id", 6]]
  [1m[36mState Load (1.8ms)[0m  [1mSELECT "states".* FROM "states" ORDER BY "states"."name" ASC[0m
  Rendered users/_current_user_fields.html.slim (334.8ms)
  [1m[35mUserTotal Load (3.6ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 6]]
  [1m[36mContribution Load (1.7ms)[0m  [1mSELECT "contributions".* FROM "contributions" WHERE "contributions"."user_id" = $1 AND (contributions.can_refund)[0m  [["user_id", 6]]
  Rendered users/_credits.html.slim (42.6ms)
  Rendered users/show.html.slim within layouts/application (651.0ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.7ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 6]]
  Rendered layouts/_header.html.slim (13.4ms)
  Rendered layouts/_newsletter.html.slim (1.7ms)
  Rendered layouts/_facebook_like.html.slim (0.2ms)
  Rendered layouts/_footer.html.slim (19.8ms)
  Rendered layouts/_new_uservoice.html.slim (8.8ms)
Completed 200 OK in 1055ms (Views: 775.9ms | ActiveRecord: 144.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:08 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/loading.gif" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/gravatar.png" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/assets/catarse/social_icons.png" for 127.0.0.1 at 2014-03-24 08:47:09 -0700


Started GET "/pt/users/6-admin/contributions?page=1" for 127.0.0.1 at 2014-03-24 08:47:09 -0700
Processing by Users::ContributionsController#index as */*
  Parameters: {"page"=>"1", "user_id"=>"6-admin", "locale"=>"pt"}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (1.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "6-admin"]]
  [1m[36mContribution Load (2.2ms)[0m  [1mSELECT "contributions".* FROM "contributions" WHERE "contributions"."user_id" = $1 AND ("contributions"."state" IN ('confirmed','requested_refund','refunded','waiting_confirmation')) ORDER BY created_at DESC, confirmed_at DESC LIMIT 10 OFFSET 0[0m  [["user_id", 6]]
  Rendered users/contributions/index.html.slim (23.2ms)
Completed 200 OK in 85ms (Views: 53.4ms | ActiveRecord: 5.7ms)


Started GET "/" for 127.0.0.1 at 2014-03-24 08:47:44 -0700
Processing by ProjectsController#index as HTML
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 08:47:44 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mProjectsForHome Load (4.1ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.8ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (4.3ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered projects/index.html.slim within layouts/application (30.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered layouts/_header.html.slim (3.6ms)
  Rendered layouts/_newsletter.html.slim (0.8ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (9.0ms)
  Rendered layouts/_new_uservoice.html.slim (0.5ms)
Completed 200 OK in 84ms (Views: 69.1ms | ActiveRecord: 12.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:45 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/favicon.ico" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 08:47:46 -0700


Started GET "/pt/login" for 127.0.0.1 at 2014-03-24 08:47:49 -0700
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (1.1ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.2ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (9.7ms)
  [1m[36mChannel Load (0.9ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.4ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (1.1ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 48ms (Views: 43.6ms | ActiveRecord: 1.0ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:49 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-24 08:47:50 -0700


Started POST "/pt/login" for 127.0.0.1 at 2014-03-24 08:48:14 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"awNlpkRQOaRqejBJyfoDPCXt7NSIgICmFPvd3IGCnHg=", "user"=>{"email"=>"funder@funder.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Fazer login", "locale"=>"pt"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'funder@funder.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = 7[0m  [["remember_created_at", Mon, 24 Mar 2014 12:48:14 BRT -03:00], ["updated_at", Mon, 24 Mar 2014 12:48:14 BRT -03:00]]
  [1m[35m (13.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = 7  [["last_sign_in_at", Mon, 24 Mar 2014 12:48:14 BRT -03:00], ["current_sign_in_at", Mon, 24 Mar 2014 12:48:14 BRT -03:00], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", Mon, 24 Mar 2014 12:48:14 BRT -03:00]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/pt
Completed 302 Found in 186ms (ActiveRecord: 24.2ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 08:48:14 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 7 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (9.0ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 7]]
  [1m[35mProject Load (2.3ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (3.9ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.1ms)
  [1m[35mProjectsForHome Load (3.6ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.1ms)
  [1m[36mProjectsForHome Load (4.8ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.1ms)
  Rendered layouts/_newsletter.html.slim (1.1ms)
  Rendered projects/index.html.slim within layouts/application (34.4ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[35mUserTotal Load (1.4ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 7]]
  Rendered layouts/_header.html.slim (19.8ms)
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (9.3ms)
  Rendered layouts/_new_uservoice.html.slim (2.3ms)
Completed 200 OK in 129ms (Views: 94.1ms | ActiveRecord: 27.1ms)


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:14 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:15 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:16 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:16 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:16 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:16 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:16 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:16 -0700


Started GET "/pt/users/7-funder" for 127.0.0.1 at 2014-03-24 08:48:26 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"7-funder", "locale"=>"pt"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 7 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "7-funder"]]
  [1m[36mAuthorization Load (3.2ms)[0m  [1mSELECT "authorizations".* FROM "authorizations" INNER JOIN "oauth_providers" ON "oauth_providers"."id" = "authorizations"."oauth_provider_id" WHERE "authorizations"."user_id" = $1 AND (oauth_providers.name = 'facebook') ORDER BY "authorizations"."id" ASC LIMIT 1[0m  [["user_id", 7]]
  [1m[35mUnsubscribe Load (2.0ms)[0m  SELECT "unsubscribes".* FROM "unsubscribes" WHERE "unsubscribes"."user_id" = $1 AND "unsubscribes"."project_id" IS NULL LIMIT 1  [["user_id", 7]]
  [1m[36mProject Load (2.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (id IN (SELECT project_id FROM contributions b WHERE b.state = 'confirmed' AND b.user_id = 7))[0m
  Rendered users/_unsubscribes.html.slim (9.2ms)
  [1m[35mOauthProvider Load (0.6ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers" WHERE "oauth_providers"."name" = 'facebook' LIMIT 1
  [1m[36mAuthorization Load (1.0ms)[0m  [1mSELECT "authorizations".* FROM "authorizations" WHERE "authorizations"."user_id" = $1 AND "authorizations"."oauth_provider_id" = 1[0m  [["user_id", 7]]
  Rendered users/_current_user_fields.html.slim (91.0ms)
  [1m[35mUserTotal Load (0.7ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 7]]
  [1m[36mContribution Load (1.4ms)[0m  [1mSELECT "contributions".* FROM "contributions" WHERE "contributions"."user_id" = $1 AND (contributions.can_refund)[0m  [["user_id", 7]]
  Rendered users/_credits.html.slim (5.9ms)
  Rendered users/show.html.slim within layouts/application (123.4ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 7]]
  Rendered layouts/_header.html.slim (7.5ms)
  Rendered layouts/_newsletter.html.slim (1.0ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (12.3ms)
  Rendered layouts/_new_uservoice.html.slim (2.2ms)
Completed 200 OK in 227ms (Views: 190.3ms | ActiveRecord: 20.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:48:26 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:26 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:26 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:26 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:27 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:28 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:28 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:28 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:28 -0700


Started GET "/assets/loading.gif" for 127.0.0.1 at 2014-03-24 08:48:28 -0700


Started GET "/assets/gravatar.png" for 127.0.0.1 at 2014-03-24 08:48:28 -0700


Started GET "/assets/catarse/social_icons.png" for 127.0.0.1 at 2014-03-24 08:48:28 -0700


Started GET "/pt/users/7-funder/contributions?page=1" for 127.0.0.1 at 2014-03-24 08:48:28 -0700
Processing by Users::ContributionsController#index as */*
  Parameters: {"page"=>"1", "user_id"=>"7-funder", "locale"=>"pt"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 7 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "7-funder"]]
  [1m[36mContribution Load (1.9ms)[0m  [1mSELECT "contributions".* FROM "contributions" WHERE "contributions"."user_id" = $1 AND "contributions"."anonymous" = 'f' AND ("contributions"."state" IN ('confirmed')) ORDER BY created_at DESC, confirmed_at DESC LIMIT 10 OFFSET 0[0m  [["user_id", 7]]
  Rendered users/contributions/index.html.slim (4.0ms)
Completed 200 OK in 30ms (Views: 18.1ms | ActiveRecord: 4.8ms)


Started DELETE "/pt/logout" for 127.0.0.1 at 2014-03-24 08:48:55 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"/NKUWMpHlWKlyAi0j19f+LsVmIVno9zumH39RAJ2lrc=", "locale"=>"pt"}
  [1m[35mUser Load (1.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = 6  [["remember_created_at", nil], ["updated_at", Mon, 24 Mar 2014 12:48:55 BRT -03:00]]
  [1m[36m (22.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/pt
Completed 302 Found in 51ms (ActiveRecord: 25.3ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 08:48:55 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mProjectsForHome Load (5.4ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (4.3ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.1ms)
  [1m[35mProjectsForHome Load (3.8ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered projects/index.html.slim within layouts/application (28.3ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered layouts/_header.html.slim (4.5ms)
  Rendered layouts/_newsletter.html.slim (0.7ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (10.9ms)
  Rendered layouts/_new_uservoice.html.slim (0.7ms)
Completed 200 OK in 106ms (Views: 88.8ms | ActiveRecord: 13.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:48:55 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:55 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:55 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:55 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:56 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 08:48:57 -0700


Started GET "/pt/login" for 127.0.0.1 at 2014-03-24 08:48:59 -0700
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (1.5ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.1ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (9.6ms)
  [1m[36mChannel Load (0.9ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (1.7ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 53ms (Views: 49.1ms | ActiveRecord: 1.0ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 08:48:59 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-24 08:48:59 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:48:59 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:00 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:49:01 -0700


Started POST "/pt/login" for 127.0.0.1 at 2014-03-24 08:49:15 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qza3U6ybQfzzUkgRqbNpjTRdr5gvYjDS4olCMJrUnnU=", "user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@test.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = 8[0m  [["remember_created_at", Mon, 24 Mar 2014 12:49:15 BRT -03:00], ["updated_at", Mon, 24 Mar 2014 12:49:15 BRT -03:00]]
  [1m[35m (8.7ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = 8  [["last_sign_in_at", Mon, 24 Mar 2014 12:49:15 BRT -03:00], ["current_sign_in_at", Mon, 24 Mar 2014 12:49:15 BRT -03:00], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", Mon, 24 Mar 2014 12:49:15 BRT -03:00]]
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/pt
Completed 302 Found in 180ms (ActiveRecord: 28.9ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 08:49:15 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (0.9ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 8]]
  [1m[35mProject Load (1.0ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (1.9ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.2ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (2.3ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.3ms)
  Rendered projects/index.html.slim within layouts/application (22.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.5ms)
  [1m[35mUserTotal Load (1.0ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 8]]
  Rendered layouts/_header.html.slim (15.9ms)
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (11.5ms)
  Rendered layouts/_new_uservoice.html.slim (1.8ms)
Completed 200 OK in 113ms (Views: 96.5ms | ActiveRecord: 10.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:15 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 08:49:16 -0700


Started GET "/pt/users/8-test" for 127.0.0.1 at 2014-03-24 08:49:28 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"8-test", "locale"=>"pt"}
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "8-test"]]
  [1m[36mAuthorization Load (0.7ms)[0m  [1mSELECT "authorizations".* FROM "authorizations" INNER JOIN "oauth_providers" ON "oauth_providers"."id" = "authorizations"."oauth_provider_id" WHERE "authorizations"."user_id" = $1 AND (oauth_providers.name = 'facebook') ORDER BY "authorizations"."id" ASC LIMIT 1[0m  [["user_id", 8]]
  [1m[35mUnsubscribe Load (0.6ms)[0m  SELECT "unsubscribes".* FROM "unsubscribes" WHERE "unsubscribes"."user_id" = $1 AND "unsubscribes"."project_id" IS NULL LIMIT 1  [["user_id", 8]]
  [1m[36mProject Load (1.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (id IN (SELECT project_id FROM contributions b WHERE b.state = 'confirmed' AND b.user_id = 8))[0m
  Rendered users/_unsubscribes.html.slim (6.8ms)
  [1m[35mOauthProvider Load (1.3ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers" WHERE "oauth_providers"."name" = 'facebook' LIMIT 1
  [1m[36mAuthorization Load (0.8ms)[0m  [1mSELECT "authorizations".* FROM "authorizations" WHERE "authorizations"."user_id" = $1 AND "authorizations"."oauth_provider_id" = 1[0m  [["user_id", 8]]
  Rendered users/_current_user_fields.html.slim (81.1ms)
  [1m[35mUserTotal Load (0.7ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 8]]
  [1m[36mContribution Load (0.6ms)[0m  [1mSELECT "contributions".* FROM "contributions" WHERE "contributions"."user_id" = $1 AND (contributions.can_refund)[0m  [["user_id", 8]]
  Rendered users/_credits.html.slim (4.8ms)
  Rendered users/show.html.slim within layouts/application (103.9ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.4ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 8]]
  Rendered layouts/_header.html.slim (7.5ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (12.5ms)
  Rendered layouts/_new_uservoice.html.slim (2.1ms)
Completed 200 OK in 184ms (Views: 165.4ms | ActiveRecord: 8.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:49:28 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:28 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:29 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:30 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:30 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:30 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:30 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:30 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:30 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:49:30 -0700


Started GET "/pt/users/8-test/contributions?page=1" for 127.0.0.1 at 2014-03-24 08:49:30 -0700
Processing by Users::ContributionsController#index as */*
  Parameters: {"page"=>"1", "user_id"=>"8-test", "locale"=>"pt"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "8-test"]]
  [1m[36mContribution Load (1.5ms)[0m  [1mSELECT "contributions".* FROM "contributions" WHERE "contributions"."user_id" = $1 AND "contributions"."anonymous" = 'f' AND ("contributions"."state" IN ('confirmed')) ORDER BY created_at DESC, confirmed_at DESC LIMIT 10 OFFSET 0[0m  [["user_id", 8]]
  Rendered users/contributions/index.html.slim (4.7ms)
Completed 200 OK in 25ms (Views: 14.1ms | ActiveRecord: 4.7ms)


Started GET "/pt/pages/how_it_works" for 127.0.0.1 at 2014-03-24 08:49:36 -0700
Processing by HighVoltage::PagesController#show as HTML
  Parameters: {"id"=>"how_it_works", "locale"=>"pt"}
  [1m[35mUser Load (1.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUserTotal Load (1.0ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 8]]
  Rendered catarse_bootstrap/shared/_header.html.slim (8.5ms)
  Rendered layouts/_newsletter.html.slim (1.1ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered catarse_bootstrap/shared/_footer.html.slim (11.2ms)
  Rendered catarse_bootstrap/pages/how_it_works.html.slim within layouts/catarse_bootstrap (45.6ms)
  [1m[35mChannel Load (1.2ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.3ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 99ms (Views: 90.6ms | ActiveRecord: 3.8ms)


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:36 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:49:37 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:49:38 -0700


Started GET "/pt/projects/new" for 127.0.0.1 at 2014-03-24 08:50:14 -0700
Processing by ProjectsController#new as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mReward Reverse Foreign Keys (2.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'rewards'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mReward Foreign Keys (1.9ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'rewards'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Reward.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:rewards
  [1m[35mCategory Load (1.8ms)[0m  SELECT "categories".* FROM "categories" ORDER BY name_pt ASC
  Rendered projects/new.html.slim within layouts/application (100.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  [1m[36mUserTotal Load (1.1ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 8]]
  Rendered layouts/_header.html.slim (9.7ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (11.5ms)
  Rendered layouts/_new_uservoice.html.slim (2.2ms)
Completed 200 OK in 365ms (Views: 175.0ms | ActiveRecord: 36.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:15 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/catarse/icon_new.png" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/catarse/box_alert.png" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/assets/catarse/button_send.png" for 127.0.0.1 at 2014-03-24 08:50:16 -0700


Started GET "/pt/" for 127.0.0.1 at 2014-03-24 09:00:04 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (1.5ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 8]]
  [1m[35mProject Load (2.1ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (5.0ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.1ms)
  [1m[35mProjectsForHome Load (3.8ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.7ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.1ms)
  Rendered layouts/_newsletter.html.slim (1.0ms)
  Rendered projects/index.html.slim within layouts/application (5090.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[35mUserTotal Load (0.7ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 8]]
  Rendered layouts/_header.html.slim (7.5ms)
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (10.4ms)
  Rendered layouts/_new_uservoice.html.slim (1.6ms)
Completed 200 OK in 5162ms (Views: 5136.5ms | ActiveRecord: 18.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:09 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 09:00:10 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 09:00:23 -0700


Started GET "/pt/" for 127.0.0.1 at 2014-03-24 09:00:24 -0700
Processing by ProjectsController#index as */*
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mProject Load (0.9ms)[0m  SELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1  [["user_id", 8]]
  [1m[36mProject Load (1.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3[0m
  [1m[35mProjectsForHome Load (2.4ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (2.2ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.9ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered projects/index.html.slim within layouts/application (26.1ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[36mUserTotal Load (1.0ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 8]]
  Rendered layouts/_header.html.slim (7.7ms)
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (9.5ms)
  Rendered layouts/_new_uservoice.html.slim (1.6ms)
Completed 200 OK in 98ms (Views: 80.3ms | ActiveRecord: 11.7ms)


Started GET "/pt/" for 127.0.0.1 at 2014-03-24 09:00:27 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (0.9ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 8]]
  [1m[35mProject Load (1.2ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (2.6ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.2ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (2.4ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (0.7ms)
  Rendered projects/index.html.slim within layouts/application (22.4ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[35mUserTotal Load (0.7ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 8]]
  Rendered layouts/_header.html.slim (7.3ms)
  Rendered layouts/_newsletter.html.slim (0.8ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (9.4ms)
  Rendered layouts/_new_uservoice.html.slim (1.9ms)
Completed 200 OK in 91ms (Views: 72.9ms | ActiveRecord: 11.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:27 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 09:00:28 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 09:00:29 -0700


Started GET "/pt/" for 127.0.0.1 at 2014-03-24 09:00:29 -0700
Processing by ProjectsController#index as */*
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mProject Load (1.3ms)[0m  SELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1  [["user_id", 8]]
  [1m[36mProject Load (1.6ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3[0m
  [1m[35mProjectsForHome Load (3.6ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.1ms)
  [1m[36mProjectsForHome Load (2.7ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (3.8ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.5ms)
  Rendered projects/index.html.slim within layouts/application (33.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[36mUserTotal Load (0.9ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 8]]
  Rendered layouts/_header.html.slim (15.4ms)
  Rendered layouts/_newsletter.html.slim (0.6ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (9.3ms)
  Rendered layouts/_new_uservoice.html.slim (1.9ms)
Completed 200 OK in 115ms (Views: 91.7ms | ActiveRecord: 15.6ms)


Started GET "/assets/favicon.ico" for 127.0.0.1 at 2014-03-24 09:00:32 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 09:08:11 -0700


Started GET "/pt/blank.gif" for 127.0.0.1 at 2014-03-24 09:08:11 -0700
Processing by ProjectsController#show as GIF
  Parameters: {"permalink"=>"blank", "locale"=>"pt"}
  [1m[35mUser Load (1.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (17.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" NOT IN ('deleted')) AND (lower(permalink) = lower('blank')) ORDER BY "projects"."id" ASC LIMIT 1[0m
  Rendered text template (0.1ms)
Completed 404 Not Found in 48ms (Views: 22.4ms | ActiveRecord: 18.7ms)


Started GET "/pt/blank.gif" for 127.0.0.1 at 2014-03-24 09:08:12 -0700
Processing by ProjectsController#show as GIF
  Parameters: {"permalink"=>"blank", "locale"=>"pt"}
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (1.4ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" NOT IN ('deleted')) AND (lower(permalink) = lower('blank')) ORDER BY "projects"."id" ASC LIMIT 1[0m
  Rendered text template (0.1ms)
Completed 404 Not Found in 9ms (Views: 0.7ms | ActiveRecord: 2.5ms)


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 09:08:12 -0700


Started GET "/pt/blank.gif" for 127.0.0.1 at 2014-03-24 09:08:13 -0700
Processing by ProjectsController#show as GIF
  Parameters: {"permalink"=>"blank", "locale"=>"pt"}
  [1m[35mUser Load (6.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (1.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" NOT IN ('deleted')) AND (lower(permalink) = lower('blank')) ORDER BY "projects"."id" ASC LIMIT 1[0m
  Rendered text template (0.0ms)
Completed 404 Not Found in 14ms (Views: 0.7ms | ActiveRecord: 7.8ms)


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 09:08:13 -0700


Started GET "/pt/blank.gif" for 127.0.0.1 at 2014-03-24 09:08:20 -0700
Processing by ProjectsController#show as GIF
  Parameters: {"permalink"=>"blank", "locale"=>"pt"}
  [1m[35mUser Load (1.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (1.6ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" NOT IN ('deleted')) AND (lower(permalink) = lower('blank')) ORDER BY "projects"."id" ASC LIMIT 1[0m
  Rendered text template (0.1ms)
Completed 404 Not Found in 11ms (Views: 0.8ms | ActiveRecord: 3.5ms)


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 09:08:20 -0700


Started GET "/pt/blank.gif" for 127.0.0.1 at 2014-03-24 09:08:21 -0700
Processing by ProjectsController#show as GIF
  Parameters: {"permalink"=>"blank", "locale"=>"pt"}
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (1.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" NOT IN ('deleted')) AND (lower(permalink) = lower('blank')) ORDER BY "projects"."id" ASC LIMIT 1[0m
  Rendered text template (0.0ms)
Completed 404 Not Found in 10ms (Views: 0.7ms | ActiveRecord: 2.3ms)


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 09:08:22 -0700


Started GET "/pt/blank.gif" for 127.0.0.1 at 2014-03-24 09:08:22 -0700
Processing by ProjectsController#show as GIF
  Parameters: {"permalink"=>"blank", "locale"=>"pt"}
  [1m[35mUser Load (1.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (1.5ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" NOT IN ('deleted')) AND (lower(permalink) = lower('blank')) ORDER BY "projects"."id" ASC LIMIT 1[0m
  Rendered text template (0.1ms)
Completed 404 Not Found in 12ms (Views: 0.9ms | ActiveRecord: 3.2ms)
  [1m[36mOauthProvider Load (2.2ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.0ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.8ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (5.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (4.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (2.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (2.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (2.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (2.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (3.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (2.4ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects


Started GET "/" for 127.0.0.1 at 2014-03-24 10:55:45 -0700
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProjectsController#index as HTML
  [1m[35mUser Load (3.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 132ms (ActiveRecord: 8.3ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 10:55:45 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mProject Load (21.2ms)[0m  SELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1  [["user_id", 8]]
  [1m[36mProject Load (3.6ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3[0m
  [1m[35mProjectsForHome Load (9.5ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.9ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.1ms)
  [1m[35mProjectsForHome Load (4.3ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.1ms)
  Rendered layouts/_newsletter.html.slim (6.4ms)
  Rendered projects/index.html.slim within layouts/application (1329.9ms)
  Rendered layouts/_analytics.html.slim (6.5ms)
  Rendered layouts/_facebook_sdk.html.slim (7.4ms)
  [1m[36mUserTotal Load (4.1ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 8]]
  [1m[35mChannel Reverse Foreign Keys (3.8ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (7.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

[schema_associations] Channel.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (7.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] Channel.has_many :users, :class_name=>"User", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35m (3.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Channel.has_many :notifications, :class_name=>"Notification", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (5.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (3.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
[schema_associations] Channel.has_many :posts, :class_name=>"ChannelPost", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35mChannel Foreign Keys (1.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  Rendered layouts/_header.html.slim (457.3ms)
  Rendered layouts/_newsletter.html.slim (1.0ms)
  Rendered layouts/_facebook_like.html.slim (7.0ms)
  Rendered layouts/_footer.html.slim (40.4ms)
  Rendered layouts/_new_uservoice.html.slim (9.5ms)
Completed 200 OK in 2429ms (Views: 2220.2ms | ActiveRecord: 125.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:48 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 10:55:49 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 10:55:50 -0700


Started GET "/pt" for 127.0.0.1 at 2014-03-24 10:55:51 -0700
Processing by ProjectsController#index as */*
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mProject Load (1.1ms)[0m  SELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1  [["user_id", 8]]
  [1m[36mProject Load (1.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3[0m
  [1m[35mProjectsForHome Load (3.1ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (2.2ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (3.0ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.7ms)
  Rendered projects/index.html.slim within layouts/application (30.8ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[36mUserTotal Load (1.0ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 8]]
  Rendered layouts/_header.html.slim (9.8ms)
  Rendered layouts/_newsletter.html.slim (1.0ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (11.3ms)
  Rendered layouts/_new_uservoice.html.slim (2.1ms)
Completed 200 OK in 130ms (Views: 110.1ms | ActiveRecord: 12.8ms)


Started DELETE "/pt/logout" for 127.0.0.1 at 2014-03-24 10:55:58 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"BZ1xPBpIntIkulpHrBHzBQaDi6ygdvQVD/11wk/D9qU=", "locale"=>"pt"}
  [1m[35mUser Load (1.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 8 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  UPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = 8  [["remember_created_at", nil], ["updated_at", Mon, 24 Mar 2014 14:55:58 BRT -03:00]]
  [1m[36m (19.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/pt
Completed 302 Found in 81ms (ActiveRecord: 24.3ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 10:55:59 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mProjectsForHome Load (3.0ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.1ms)
  [1m[36mProjectsForHome Load (2.7ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.7ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered projects/index.html.slim within layouts/application (24.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered layouts/_header.html.slim (4.6ms)
  Rendered layouts/_newsletter.html.slim (0.8ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (10.3ms)
  Rendered layouts/_new_uservoice.html.slim (0.5ms)
Completed 200 OK in 103ms (Views: 74.5ms | ActiveRecord: 8.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 10:55:59 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 10:56:00 -0700


Started GET "/pt/pages/how_it_works" for 127.0.0.1 at 2014-03-24 10:56:24 -0700
Processing by HighVoltage::PagesController#show as HTML
  Parameters: {"id"=>"how_it_works", "locale"=>"pt"}
  Rendered catarse_bootstrap/shared/_header.html.slim (20.6ms)
  Rendered layouts/_newsletter.html.slim (2.3ms)
  Rendered layouts/_facebook_like.html.slim (0.2ms)
  Rendered catarse_bootstrap/shared/_footer.html.slim (42.1ms)
  Rendered catarse_bootstrap/pages/how_it_works.html.slim within layouts/catarse_bootstrap (80.5ms)
  [1m[36mChannel Load (2.0ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.5ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (6.6ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 205ms (Views: 195.2ms | ActiveRecord: 7.4ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:25 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 10:56:26 -0700


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 10:56:33 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 10:56:33 -0700


Started GET "/pt/pages/how_it_works" for 127.0.0.1 at 2014-03-24 10:56:33 -0700
Processing by HighVoltage::PagesController#show as */*
  Parameters: {"id"=>"how_it_works", "locale"=>"pt"}
  Rendered catarse_bootstrap/shared/_header.html.slim (25.9ms)
  Rendered layouts/_newsletter.html.slim (6.0ms)
  Rendered layouts/_facebook_like.html.slim (6.4ms)
  Rendered catarse_bootstrap/shared/_footer.html.slim (64.9ms)
  Rendered catarse_bootstrap/pages/how_it_works.html.slim within layouts/catarse_bootstrap (123.2ms)
  [1m[36mChannel Load (1.1ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (7.8ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (4.6ms)
  Rendered layouts/_analytics.html.slim (6.4ms)
Completed 200 OK in 214ms (Views: 211.8ms | ActiveRecord: 1.2ms)


Started GET "/pt/" for 127.0.0.1 at 2014-03-24 11:07:21 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[36mProjectsForHome Load (2.7ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.6ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.1ms)
  [1m[36mProjectsForHome Load (3.2ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.1ms)
  Rendered layouts/_newsletter.html.slim (1.3ms)
  Rendered projects/index.html.slim within layouts/application (1561.9ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered layouts/_header.html.slim (4.1ms)
  Rendered layouts/_newsletter.html.slim (1.4ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (10.0ms)
  Rendered layouts/_new_uservoice.html.slim (0.6ms)
Completed 200 OK in 1618ms (Views: 1606.5ms | ActiveRecord: 8.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:23 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 11:07:24 -0700


Started GET "/pt/login" for 127.0.0.1 at 2014-03-24 11:07:30 -0700
Processing by Devise::SessionsController#new as HTML
  Parameters: {"locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (27.1ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (16.2ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (125.5ms)
  [1m[35mChannel Load (1.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (11.5ms)
  Rendered layouts/_analytics.html.slim (0.2ms)
Completed 200 OK in 181ms (Views: 176.7ms | ActiveRecord: 1.0ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:31 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 11:07:32 -0700


Started POST "/pt/login" for 127.0.0.1 at 2014-03-24 11:07:38 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Rd3i38FM1RWckpu/C4MS91EsqTU5EB8Il4EvA1rCRhk=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  [1m[35mUser Load (2.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' ORDER BY "users"."id" ASC LIMIT 1
Completed 401 Unauthorized in 189ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Rd3i38FM1RWckpu/C4MS91EsqTU5EB8Il4EvA1rCRhk=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  Rendered catarse_bootstrap/devise/shared/_header.html.slim (0.8ms)
  Rendered catarse_bootstrap/devise/shared/_alert.html.slim (0.2ms)
  Rendered catarse_bootstrap/devise/sessions/new.html.slim within layouts/catarse_bootstrap (8.3ms)
  [1m[36mChannel Load (0.8ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.3ms)
  Rendered catarse_bootstrap/layouts/_login_feedback_support.html.slim (0.8ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 163ms (Views: 40.1ms | ActiveRecord: 0.9ms)


Started GET "/assets/catarse_bootstrap/logo_icon_catarse.png" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:39 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 11:07:40 -0700


Started POST "/pt/login" for 127.0.0.1 at 2014-03-24 11:07:49 -0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Rd3i38FM1RWckpu/C4MS91EsqTU5EB8Il4EvA1rCRhk=", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log", "locale"=>"pt"}
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (2.6ms)[0m  [1mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = 6[0m  [["remember_created_at", Mon, 24 Mar 2014 15:07:49 BRT -03:00], ["updated_at", Mon, 24 Mar 2014 15:07:49 BRT -03:00]]
  [1m[35m (7.8ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = 6  [["current_sign_in_at", Mon, 24 Mar 2014 15:07:49 BRT -03:00], ["sign_in_count", 2], ["updated_at", Mon, 24 Mar 2014 15:07:49 BRT -03:00]]
  [1m[36m (31.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/pt/
Completed 302 Found in 221ms (ActiveRecord: 46.5ms)


Started GET "/pt/" for 127.0.0.1 at 2014-03-24 11:07:49 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (0.8ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 6]]
  [1m[35mProject Load (1.0ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (2.0ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.1ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (2.4ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered projects/index.html.slim within layouts/application (22.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  [1m[35mUserTotal Load (0.6ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 6]]
  Rendered layouts/_header.html.slim (11.8ms)
  Rendered layouts/_newsletter.html.slim (1.1ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (12.0ms)
  Rendered layouts/_new_uservoice.html.slim (2.3ms)
Completed 200 OK in 110ms (Views: 93.5ms | ActiveRecord: 9.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:50 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 11:07:51 -0700


Started GET "/pt/admin/contributions" for 127.0.0.1 at 2014-03-24 11:08:24 -0700
Processing by Admin::ContributionsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUserTotal Load (1.0ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 6]]
  Rendered catarse_bootstrap/shared/_header.html.slim (11.5ms)
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "contributions" WHERE ("contributions"."state" NOT IN ('deleted'))[0m
  [1m[35m (1.5ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "contributions" WHERE ("contributions"."state" NOT IN ('deleted')) LIMIT 25 OFFSET 0) subquery_for_count
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered catarse_bootstrap/shared/_footer.html.slim (14.1ms)
  Rendered catarse_bootstrap/admin/contributions/index.html.slim within layouts/catarse_bootstrap (298.1ms)
  [1m[36mChannel Load (1.2ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.3ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 361ms (Views: 335.9ms | ActiveRecord: 5.7ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 11:08:24 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:24 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:24 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:25 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 11:08:26 -0700


Started GET "/pt/explore" for 127.0.0.1 at 2014-03-24 11:08:37 -0700
Processing by ExploreController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/robert/workspace/catarse/app/controllers/explore_controller.rb:5)
  [1m[35mCategory Load (2.6ms)[0m  SELECT "categories".* FROM "categories" WHERE (exists(select true from projects p where p.category_id = categories.id and p.state not in('draft', 'rejected'))) ORDER BY "categories"."name_pt" ASC
  Rendered explore/index.html.slim within layouts/application (38.6ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[36mUserTotal Load (1.0ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 6]]
  Rendered layouts/_header.html.slim (9.6ms)
  Rendered layouts/_newsletter.html.slim (1.2ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (10.9ms)
  Rendered layouts/_new_uservoice.html.slim (2.7ms)
Completed 200 OK in 135ms (Views: 111.7ms | ActiveRecord: 5.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:37 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/loading.gif" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 11:08:38 -0700


Started GET "/pt/explore" for 127.0.0.1 at 2014-03-24 12:14:18 -0700
Processing by ExploreController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/robert/workspace/catarse/app/controllers/explore_controller.rb:5)
  [1m[36mCategory Load (1.5ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE (exists(select true from projects p where p.category_id = categories.id and p.state not in('draft', 'rejected'))) ORDER BY "categories"."name_pt" ASC[0m
  Rendered explore/index.html.slim within layouts/application (2.0ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[35mUserTotal Load (0.7ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 6]]
  Rendered layouts/_header.html.slim (10.8ms)
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (0.2ms)
  Rendered layouts/_footer.html.slim (12.6ms)
  Rendered layouts/_new_uservoice.html.slim (2.2ms)
Completed 200 OK in 85ms (Views: 76.8ms | ActiveRecord: 3.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:19 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/loading.gif" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 12:14:20 -0700


Started GET "/pt/projects?recommended=true&not_expired=true&page=1" for 127.0.0.1 at 2014-03-24 12:14:20 -0700
Processing by ProjectsController#index as */*
  Parameters: {"recommended"=>"true", "not_expired"=>"true", "page"=>"1", "locale"=>"pt"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mProject Load (2.8ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."recommended" = 't' AND (projects.expires_at >= current_timestamp) AND ("projects"."state" NOT IN ('draft','rejected','deleted','in_analysis')) ORDER BY 
 CASE projects.state
 WHEN 'online' THEN 1
 WHEN 'waiting_funds' THEN 2
 WHEN 'successful' THEN 3
 WHEN 'failed' THEN 4
 END ASC, projects.online_date DESC, projects.created_at DESC LIMIT 6 OFFSET 0
  Rendered projects/_project.html.slim (0.0ms)
Completed 200 OK in 100ms (Views: 86.1ms | ActiveRecord: 7.0ms)


Started GET "/assets/loading.gif" for 127.0.0.1 at 2014-03-24 12:14:49 -0700


Started GET "/assets/loading.gif" for 127.0.0.1 at 2014-03-24 12:14:49 -0700


Started GET "/assets/loading.gif" for 127.0.0.1 at 2014-03-24 12:14:50 -0700


Started GET "/assets/loading.gif" for 127.0.0.1 at 2014-03-24 12:14:52 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 12:24:11 -0700


Started GET "/pt/explore" for 127.0.0.1 at 2014-03-24 12:24:12 -0700
Processing by ExploreController#index as */*
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from index at /home/robert/workspace/catarse/app/controllers/explore_controller.rb:5)
  [1m[35mCategory Load (1.6ms)[0m  SELECT "categories".* FROM "categories" WHERE (exists(select true from projects p where p.category_id = categories.id and p.state not in('draft', 'rejected'))) ORDER BY "categories"."name_pt" ASC
  Rendered explore/index.html.slim within layouts/application (23.1ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[36mUserTotal Load (1.1ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 6]]
  Rendered layouts/_header.html.slim (26.1ms)
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (46.6ms)
  Rendered layouts/_new_uservoice.html.slim (7.8ms)
Completed 200 OK in 209ms (Views: 200.8ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2014-03-24 12:25:28 -0700
Processing by ProjectsController#index as HTML
  [1m[35mUser Load (1.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 7 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = 7  [["current_sign_in_at", Mon, 24 Mar 2014 16:25:28 BRT -03:00], ["sign_in_count", 2], ["updated_at", Mon, 24 Mar 2014 16:25:28 BRT -03:00]]
  [1m[36m (17.1ms)[0m  [1mCOMMIT[0m
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 36ms (ActiveRecord: 21.2ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 12:25:28 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 7 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (1.0ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 7]]
  [1m[35mProject Load (1.4ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (2.8ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.6ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.9ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.3ms)
  Rendered projects/index.html.slim within layouts/application (1586.5ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[35mUserTotal Load (1.0ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 7]]
  Rendered layouts/_header.html.slim (8.2ms)
  Rendered layouts/_newsletter.html.slim (0.8ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (9.0ms)
  Rendered layouts/_new_uservoice.html.slim (1.6ms)
Completed 200 OK in 1658ms (Views: 1638.1ms | ActiveRecord: 14.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:30 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 12:25:31 -0700


Started GET "/pt/pages/how_it_works" for 127.0.0.1 at 2014-03-24 13:49:22 -0700
Processing by HighVoltage::PagesController#show as HTML
  Parameters: {"id"=>"how_it_works", "locale"=>"pt"}
  [1m[36mUser Load (17.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 7 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUserTotal Load (1.5ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 7]]
  Rendered catarse_bootstrap/shared/_header.html.slim (33.2ms)
  Rendered layouts/_newsletter.html.slim (1.4ms)
  Rendered layouts/_facebook_like.html.slim (0.2ms)
  Rendered catarse_bootstrap/shared/_footer.html.slim (35.6ms)
  Rendered catarse_bootstrap/pages/how_it_works.html.slim within layouts/catarse_bootstrap (106.8ms)
  [1m[36mChannel Load (24.2ms)[0m  [1mSELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."permalink" = '' LIMIT 1
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  Rendered catarse_bootstrap/layouts/_uservoice.html.slim (0.2ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
Completed 200 OK in 210ms (Views: 162.7ms | ActiveRecord: 43.0ms)


Started GET "/assets/catarse.css?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/animate.min.css" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:23 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 13:49:24 -0700


Started DELETE "/pt/logout" for 127.0.0.1 at 2014-03-24 13:49:40 -0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"S8Kfccx3k7N3VnlpGSrR7AzbUEY70H+AP4r878VgJBg=", "locale"=>"pt"}
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 7 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "remember_created_at" = $1, "updated_at" = $2 WHERE "users"."id" = 7[0m  [["remember_created_at", nil], ["updated_at", Mon, 24 Mar 2014 17:49:40 BRT -03:00]]
  [1m[35m (10.9ms)[0m  COMMIT
Redirected to http://localhost:3000/pt
Completed 302 Found in 36ms (ActiveRecord: 14.6ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-24 13:49:40 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[36mProjectsForHome Load (3.9ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (3.9ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.6ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.9ms)
  Rendered projects/index.html.slim within layouts/application (1306.2ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  Rendered layouts/_header.html.slim (7.6ms)
  Rendered layouts/_newsletter.html.slim (1.5ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (12.1ms)
  Rendered layouts/_new_uservoice.html.slim (0.6ms)
Completed 200 OK in 1413ms (Views: 1398.6ms | ActiveRecord: 11.4ms)


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:41 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:41 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:41 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:41 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:41 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 13:49:41 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:42 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:43 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:43 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 13:49:43 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 13:49:43 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 13:49:43 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 13:49:43 -0700


Started GET "/pt/" for 127.0.0.1 at 2014-03-24 14:03:42 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (1.2ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 6]]
  [1m[35mProject Load (1.2ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (2.5ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.5ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.1ms)
  [1m[36mProjectsForHome Load (3.4ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.4ms)
  Rendered projects/index.html.slim within layouts/application (1585.4ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.2ms)
  [1m[35mUserTotal Load (1.0ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 6]]
  Rendered layouts/_header.html.slim (12.0ms)
  Rendered layouts/_newsletter.html.slim (1.1ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (13.9ms)
  Rendered layouts/_new_uservoice.html.slim (2.5ms)
Completed 200 OK in 1677ms (Views: 1655.8ms | ActiveRecord: 13.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 14:03:44 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:44 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:44 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:44 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:44 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:44 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:44 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:45 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-24 14:03:46 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-24 14:04:18 -0700


Started GET "/pt/" for 127.0.0.1 at 2014-03-24 14:04:18 -0700
Processing by ProjectsController#index as */*
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mProject Load (0.8ms)[0m  SELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1  [["user_id", 6]]
  [1m[36mProject Load (1.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3[0m
  [1m[35mProjectsForHome Load (2.4ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (2.4ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (2.4ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (1.1ms)
  Rendered projects/index.html.slim within layouts/application (26.8ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.3ms)
  [1m[36mUserTotal Load (0.9ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 6]]
  Rendered layouts/_header.html.slim (12.2ms)
  Rendered layouts/_newsletter.html.slim (0.9ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (11.4ms)
  Rendered layouts/_new_uservoice.html.slim (2.0ms)
Completed 200 OK in 115ms (Views: 97.9ms | ActiveRecord: 11.1ms)


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-24 14:04:42 -0700


Started GET "/pt/blank.gif" for 127.0.0.1 at 2014-03-24 14:04:42 -0700
Processing by ProjectsController#show as GIF
  Parameters: {"permalink"=>"blank", "locale"=>"pt"}
  [1m[35mUser Load (1.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (40.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" NOT IN ('deleted')) AND (lower(permalink) = lower('blank')) ORDER BY "projects"."id" ASC LIMIT 1[0m
  Rendered text template (0.1ms)
Completed 404 Not Found in 92ms (Views: 43.6ms | ActiveRecord: 41.6ms)
  [1m[36mOauthProvider Load (196.1ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.3ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (63.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (37.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17480
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (1.9ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (35.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17856
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17966
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18160

[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
  [1m[35mColumns for index index_users_on_name on users (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17389
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (3.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (5.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17455
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_rewards_on_project_id on rewards (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17552
[0m
[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17590

[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (3.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17595

[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17338
[0m
[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35mProject Foreign Keys (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_name on projects (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_user_id on projects (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

  [1m[36mColumns for index index_projects_on_permalink on projects (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 17358

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects


Started GET "/" for 127.0.0.1 at 2014-03-25 09:42:50 -0700
  [1m[36mActiveRecord::SchemaMigration Load (16.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProjectsController#index as HTML
  [1m[35mUser Load (123.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (35.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = 6  [["last_sign_in_at", Mon, 24 Mar 2014 15:07:49 BRT -03:00], ["current_sign_in_at", Tue, 25 Mar 2014 13:42:51 BRT -03:00], ["sign_in_count", 3], ["updated_at", Tue, 25 Mar 2014 13:42:51 BRT -03:00]]
  [1m[36m (20.0ms)[0m  [1mCOMMIT[0m
Redirected to /pt
Filter chain halted as :set_locale rendered or redirected
Completed 302 Found in 418ms (ActiveRecord: 187.1ms)


Started GET "/pt" for 127.0.0.1 at 2014-03-25 09:42:51 -0700
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mUser Load (1.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mProject Load (211.1ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1[0m  [["user_id", 6]]
  [1m[35mProject Load (2.5ms)[0m  SELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3
  [1m[36mProjectsForHome Load (30.6ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.1ms)
  [1m[35mProjectsForHome Load (4.4ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.7ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (36.1ms)
  Rendered projects/index.html.slim within layouts/application (2877.3ms)
  Rendered layouts/_analytics.html.slim (10.8ms)
  Rendered layouts/_facebook_sdk.html.slim (9.1ms)
  [1m[35mUserTotal Load (3.9ms)[0m  SELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1  [["user_id", 6]]
  Rendered layouts/_header.html.slim (644.1ms)
  Rendered layouts/_newsletter.html.slim (1.6ms)
  Rendered layouts/_facebook_like.html.slim (9.0ms)
  Rendered layouts/_footer.html.slim (110.1ms)
  Rendered layouts/_new_uservoice.html.slim (91.4ms)
Completed 200 OK in 4935ms (Views: 4518.4ms | ActiveRecord: 265.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-25 09:42:56 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:56 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:56 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:56 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:56 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:57 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-25 09:42:58 -0700


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-25 09:43:00 -0700


Started GET "/pt" for 127.0.0.1 at 2014-03-25 09:43:01 -0700
Processing by ProjectsController#index as */*
  Parameters: {"locale"=>"pt"}
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mProject Load (1.3ms)[0m  SELECT "projects".* FROM "projects" INNER JOIN "recommendations" ON "projects"."id" = "recommendations"."project_id" WHERE "recommendations"."user_id" = $1  [["user_id", 6]]
  [1m[36mProject Load (1.7ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ("projects"."state" IN ('online')) AND (EXISTS(SELECT true FROM users u WHERE u.id = projects.user_id AND lower(u.address_state) = lower(NULL))) ORDER BY random() LIMIT 3[0m
  [1m[35mProjectsForHome Load (3.4ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.1ms)
  [1m[36mProjectsForHome Load (4.2ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (3.6ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.1ms)
  Rendered layouts/_newsletter.html.slim (2.2ms)
  Rendered projects/index.html.slim within layouts/application (41.0ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.4ms)
  [1m[36mUserTotal Load (1.0ms)[0m  [1mSELECT "user_totals".* FROM "user_totals" WHERE "user_totals"."user_id" = $1 ORDER BY "user_totals"."id" ASC LIMIT 1[0m  [["user_id", 6]]
  Rendered layouts/_header.html.slim (18.0ms)
  Rendered layouts/_newsletter.html.slim (1.1ms)
  Rendered layouts/_facebook_like.html.slim (0.1ms)
  Rendered layouts/_footer.html.slim (18.5ms)
  Rendered layouts/_new_uservoice.html.slim (2.6ms)
Completed 200 OK in 162ms (Views: 134.3ms | ActiveRecord: 17.0ms)


Started GET "/assets/favicon.ico" for 127.0.0.1 at 2014-03-25 09:43:05 -0700


Started GET "/assets/favicon.ico" for 127.0.0.1 at 2014-03-25 09:43:12 -0700


Started GET "/assets/favicon.ico" for 127.0.0.1 at 2014-03-25 09:43:19 -0700
  [1m[36mOauthProvider Load (3.8ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
PG::UndefinedTable: ERROR:  relation "oauth_providers" does not exist
LINE 1: SELECT "oauth_providers".* FROM "oauth_providers"
                                        ^
: SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[35mContribution Reverse Foreign Keys (3.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mContribution Foreign Keys (1.5ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mUser Reverse Foreign Keys (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mUser Foreign Keys (1.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mProject Reverse Foreign Keys (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mProject Foreign Keys (1.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (15.1ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (66.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to InitialSchema (20121226120921)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (4327.5ms)[0m  --
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: pg_trgm; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pg_trgm WITH SCHEMA public;


--
-- Name: EXTENSION pg_trgm; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION pg_trgm IS 'text similarity measurement and index searching based on trigrams';


--
-- Name: unaccent; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS unaccent WITH SCHEMA public;


--
-- Name: EXTENSION unaccent; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION unaccent IS 'text search dictionary that removes accents';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: active_admin_comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE active_admin_comments (
 id integer NOT NULL,
 resource_id integer NOT NULL,
 resource_type character varying(255) NOT NULL,
 author_id integer,
 author_type character varying(255),
 body text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 namespace character varying(255)
);


--
-- Name: admin_notes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE admin_notes_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: admin_notes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE admin_notes_id_seq OWNED BY active_admin_comments.id;


--
-- Name: institutional_videos; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE institutional_videos (
 id integer NOT NULL,
 title character varying(255),
 description text,
 video_url character varying(255),
 visible boolean,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: advert_videos_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE advert_videos_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: advert_videos_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE advert_videos_id_seq OWNED BY institutional_videos.id;


--
-- Name: backers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE backers (
 id integer NOT NULL,
 project_id integer NOT NULL,
 user_id integer NOT NULL,
 reward_id integer,
 value numeric NOT NULL,
 confirmed boolean DEFAULT false NOT NULL,
 confirmed_at timestamp without time zone,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 anonymous boolean DEFAULT false,
 key text,
 requested_refund boolean DEFAULT false,
 refunded boolean DEFAULT false,
 credits boolean DEFAULT false,
 notified_finish boolean DEFAULT false,
 payment_method text,
 payment_token text,
 payment_id character varying(255),
 payer_name text,
 payer_email text,
 payer_document text,
 address_street text,
 address_number text,
 address_complement text,
 address_neighbourhood text,
 address_zip_code text,
 address_city text,
 address_state text,
 address_phone_number text,
 payment_choice text,
 payment_service_fee numeric,
 CONSTRAINT backers_value_positive CHECK ((value >= (0)::numeric))
);


--
-- Name: categories; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE categories (
 id integer NOT NULL,
 name text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT categories_name_not_blank CHECK ((length(btrim(name)) > 0))
);


--
-- Name: projects; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects (
 id integer NOT NULL,
 name text NOT NULL,
 user_id integer NOT NULL,
 category_id integer NOT NULL,
 goal numeric NOT NULL,
 expires_at timestamp without time zone NOT NULL,
 about text NOT NULL,
 headline text NOT NULL,
 video_url text NOT NULL,
 image_url text,
 short_url text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 can_finish boolean DEFAULT false,
 finished boolean DEFAULT false,
 about_html text,
 visible boolean DEFAULT false,
 rejected boolean DEFAULT false,
 recommended boolean DEFAULT false,
 home_page_comment text,
 successful boolean DEFAULT false,
 permalink character varying(255),
 video_thumbnail text,
 state character varying(255),
 online_days integer DEFAULT 0,
 CONSTRAINT projects_about_not_blank CHECK ((length(btrim(about)) > 0)),
 CONSTRAINT projects_headline_length_within CHECK (((length(headline) >= 1) AND (length(headline) <= 140))),
 CONSTRAINT projects_headline_not_blank CHECK ((length(btrim(headline)) > 0)),
 CONSTRAINT projects_video_url_not_blank CHECK ((length(btrim(video_url)) > 0))
);


--
-- Name: backers_by_category; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_category AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, c.name AS category, sum(b.value) AS total_backed, count(DISTINCT b.user_id) AS total_backers
 FROM backers b
 JOIN projects p ON p.id = b.project_id
 JOIN categories c ON c.id = p.category_id
 WHERE b.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text), c.name
 ORDER BY to_char(p.expires_at, 'yyyy'::text), c.name;

--
-- Name: backers_by_payment_choice; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_payment_choice AS 
 SELECT to_char(p.expires_at, 'yyyy-mm'::text) AS month, backers.payment_method, backers.payment_choice, sum(backers.value) AS total_backed, sum(backers.value) / bbm.total_month_backed AS payment_choice_ratio, sum(
 CASE
 WHEN backers.refunded THEN backers.value
 ELSE NULL::numeric
 END) AS total_refunded, sum(
 CASE
 WHEN backers.refunded THEN backers.value
 ELSE NULL::numeric
 END) / bbm.total_month_backed AS refunded_ratio
 FROM projects p
 JOIN backers ON backers.project_id = p.id
 JOIN ( SELECT to_char(b2.created_at, 'yyyy-mm'::text) AS b2month, sum(b2.value) AS total_month_backed
 FROM backers b2
 WHERE b2.confirmed
 GROUP BY to_char(b2.created_at, 'yyyy-mm'::text)) bbm ON bbm.b2month = to_char(backers.created_at, 'yyyy-mm'::text)
 WHERE backers.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy-mm'::text), bbm.total_month_backed, backers.payment_method, backers.payment_choice
 ORDER BY to_char(p.expires_at, 'yyyy-mm'::text), backers.payment_method, backers.payment_choice;

--
-- Name: backers_by_project; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_project AS 
 SELECT backers.project_id, sum(backers.value) AS total_backed, max(backers.value) AS max_backed, count(DISTINCT backers.user_id) AS total_backers
 FROM backers
 WHERE backers.confirmed
 GROUP BY backers.project_id;

--
-- Name: users; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE users (
 id integer NOT NULL,
 primary_user_id integer,
 provider text NOT NULL,
 uid text NOT NULL,
 email text,
 name text,
 nickname text,
 bio text,
 image_url text,
 newsletter boolean DEFAULT false,
 project_updates boolean DEFAULT false,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 admin boolean DEFAULT false,
 full_name text,
 address_street text,
 address_number text,
 address_complement text,
 address_neighbourhood text,
 address_city text,
 address_state text,
 address_zip_code text,
 phone_number text,
 credits numeric DEFAULT 0,
 locale text DEFAULT 'pt'::text NOT NULL,
 cpf text,
 encrypted_password character varying(128) DEFAULT ''::character varying NOT NULL,
 reset_password_token character varying(255),
 reset_password_sent_at timestamp without time zone,
 remember_created_at timestamp without time zone,
 sign_in_count integer DEFAULT 0,
 current_sign_in_at timestamp without time zone,
 last_sign_in_at timestamp without time zone,
 current_sign_in_ip character varying(255),
 last_sign_in_ip character varying(255),
 twitter character varying(255),
 facebook_link character varying(255),
 other_link character varying(255),
 uploaded_image text,
 CONSTRAINT users_bio_length_within CHECK (((length(bio) >= 0) AND (length(bio) <= 140))),
 CONSTRAINT users_provider_not_blank CHECK ((length(btrim(provider)) > 0)),
 CONSTRAINT users_uid_not_blank CHECK ((length(btrim(uid)) > 0))
);


--
-- Name: backers_by_state; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_state AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, NULLIF(u.address_state, ''::text) AS state, sum(b.value) AS total_backed, count(DISTINCT b.user_id) AS total_backers
 FROM backers b
 JOIN projects p ON b.project_id = p.id
 JOIN users u ON u.id = b.user_id
 WHERE b.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text), NULLIF(u.address_state, ''::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text), NULLIF(u.address_state, ''::text);

--
-- Name: backers_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW backers_by_year AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, sum(backers.value) AS total_backed, count(DISTINCT backers.user_id) AS total_backers, count(DISTINCT 
 CASE
 WHEN backers.reward_id IS NULL THEN backers.user_id
 ELSE NULL::integer
 END) AS total_backers_without_reward, count(DISTINCT 
 CASE
 WHEN backers.reward_id IS NULL THEN backers.user_id
 ELSE NULL::integer
 END)::numeric / count(DISTINCT backers.user_id)::numeric AS backers_without_reward_ratio, max(backers.value) AS maximum_back
 FROM backers
 JOIN projects p ON backers.project_id = p.id
 WHERE backers.confirmed
 GROUP BY to_char(p.expires_at, 'yyyy'::text);

--
-- Name: backers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE backers_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: backers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE backers_id_seq OWNED BY backers.id;


--
-- Name: categories_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE categories_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: categories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE categories_id_seq OWNED BY categories.id;


--
-- Name: comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE comments (
 id integer NOT NULL,
 title text,
 comment text NOT NULL,
 comment_html text,
 commentable_id integer NOT NULL,
 commentable_type character varying(255) NOT NULL,
 user_id integer NOT NULL,
 project_update boolean DEFAULT false,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT comments_comment_not_blank CHECK ((length(btrim(comment)) > 0))
);


--
-- Name: comments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE comments_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: comments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE comments_id_seq OWNED BY comments.id;


--
-- Name: configurations; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE configurations (
 id integer NOT NULL,
 name text NOT NULL,
 value text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT configurations_name_not_blank CHECK ((length(btrim(name)) > 0))
);


--
-- Name: configurations_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE configurations_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: configurations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE configurations_id_seq OWNED BY configurations.id;


--
-- Name: curated_pages; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE curated_pages (
 id integer NOT NULL,
 name character varying(255),
 description text,
 analytics_id character varying(255),
 logo character varying(255),
 video_url character varying(255),
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 permalink character varying(255),
 visible boolean DEFAULT false,
 site_url character varying(255)
);


--
-- Name: curated_pages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE curated_pages_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: curated_pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE curated_pages_id_seq OWNED BY curated_pages.id;


--
-- Name: notification_types; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE notification_types (
 id integer NOT NULL,
 name text NOT NULL,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: notification_types_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE notification_types_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: notification_types_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE notification_types_id_seq OWNED BY notification_types.id;


--
-- Name: notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE notifications (
 id integer NOT NULL,
 user_id integer NOT NULL,
 project_id integer,
 dismissed boolean DEFAULT false NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 notification_type_id integer NOT NULL,
 backer_id integer,
 update_id integer
);


--
-- Name: notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE notifications_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE notifications_id_seq OWNED BY notifications.id;


--
-- Name: oauth_providers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE oauth_providers (
 id integer NOT NULL,
 name text NOT NULL,
 key text NOT NULL,
 secret text NOT NULL,
 scope text,
 "order" integer,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 strategy text,
 path text,
 CONSTRAINT oauth_providers_key_not_blank CHECK ((length(btrim(key)) > 0)),
 CONSTRAINT oauth_providers_name_not_blank CHECK ((length(btrim(name)) > 0)),
 CONSTRAINT oauth_providers_secret_not_blank CHECK ((length(btrim(secret)) > 0))
);


--
-- Name: oauth_providers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE oauth_providers_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: oauth_providers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE oauth_providers_id_seq OWNED BY oauth_providers.id;


--
-- Name: payment_logs; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_logs (
 id integer NOT NULL,
 backer_id integer,
 status integer,
 amount double precision,
 payment_status integer,
 moip_id integer,
 payment_method integer,
 payment_type character varying(255),
 consumer_email character varying(255),
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: payment_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_logs_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: payment_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_logs_id_seq OWNED BY payment_logs.id;


--
-- Name: payment_notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_notifications (
 id integer NOT NULL,
 backer_id integer NOT NULL,
 extra_data text,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: payment_notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_notifications_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: payment_notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_notifications_id_seq OWNED BY payment_notifications.id;


--
-- Name: paypal_payments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE paypal_payments (
 data text,
 hora text,
 fusohorario text,
 nome text,
 tipo text,
 status text,
 moeda text,
 valorbruto text,
 tarifa text,
 liquido text,
 doe_mail text,
 parae_mail text,
 iddatransacao text,
 statusdoequivalente text,
 statusdoendereco text,
 titulodoitem text,
 iddoitem text,
 valordoenvioemanuseio text,
 valordoseguro text,
 impostosobrevendas text,
 opcao1nome text,
 opcao1valor text,
 opcao2nome text,
 opcao2valor text,
 sitedoleilao text,
 iddocomprador text,
 urldoitem text,
 datadetermino text,
 iddaescritura text,
 iddafatura text,
 "idtxn_dereferência" text,
 numerodafatura text,
 numeropersonalizado text,
 iddorecibo text,
 saldo text,
 enderecolinha1 text,
 enderecolinha2_distrito_bairro text,
 cidade text,
 "estado_regiao_território_prefeitura_republica" text,
 cep text,
 pais text,
 numerodotelefoneparacontato text,
 extra text
);


--
-- Name: paypal_pending; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW paypal_pending AS
 SELECT string_agg((b.id)::text, ','::text) AS string_agg FROM (backers b JOIN paypal_payments p ON ((lower(p.doe_mail) = b.payer_email))) WHERE ((((b.payment_method = 'PayPal'::text) AND (p.status = 'Concluído'::text)) AND (NOT b.confirmed)) AND (to_number(p.valorbruto, '9,99'::text) = b.value));


--
-- Name: project_totals; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW project_totals AS
 SELECT backers.project_id, sum(backers.value) AS pledged, count(*) AS total_backers FROM backers WHERE (backers.confirmed = true) GROUP BY backers.project_id;


--
-- Name: projects_by_category; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_category AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, c.name AS category, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects
 FROM projects p
 JOIN categories c ON c.id = p.category_id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text), c.name
 ORDER BY to_char(p.expires_at, 'yyyy'::text), c.name;

--
-- Name: projects_by_state; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_state AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, NULLIF(btrim(u.address_state), ''::text) AS uf, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects
 FROM projects p
 JOIN users u ON u.id = p.user_id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text), NULLIF(btrim(u.address_state), ''::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text), NULLIF(btrim(u.address_state), ''::text);

--
-- Name: total_backed_ranges; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE total_backed_ranges (
 name text NOT NULL,
 lower numeric,
 upper numeric
);


--
-- Name: projects_by_total_backed_ranges; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_total_backed_ranges AS 
 SELECT tbr.lower, tbr.upper, count(*) AS count, count(*)::numeric / (( SELECT count(*) AS count
 FROM backers_by_project))::numeric AS ratio
 FROM backers_by_project bp
 JOIN total_backed_ranges tbr ON bp.total_backed >= tbr.lower AND bp.total_backed <= tbr.upper
 GROUP BY tbr.lower, tbr.upper
 ORDER BY tbr.lower;

--
-- Name: projects_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW projects_by_year AS 
 SELECT to_char(p.expires_at, 'yyyy'::text) AS year, count(*) AS total_projects, count(NULLIF(p.successful, false)) AS successful_projects, sum(
 CASE
 WHEN p.successful THEN b.total_backed
 ELSE NULL::numeric
 END) AS successful_total_backed, max(b.total_backed) AS max_total_backed, max(b.max_backed) AS max_backed, max(b.total_backers) AS max_total_backers
 FROM projects p
 LEFT JOIN backers_by_project b ON b.project_id = p.id
 WHERE p.finished
 GROUP BY to_char(p.expires_at, 'yyyy'::text)
 ORDER BY to_char(p.expires_at, 'yyyy'::text);


--
-- Name: projects_curated_pages; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects_curated_pages (
 id integer NOT NULL,
 project_id integer,
 curated_page_id integer,
 description text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 description_html text
);


--
-- Name: projects_curated_pages_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE projects_curated_pages_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: projects_curated_pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE projects_curated_pages_id_seq OWNED BY projects_curated_pages.id;


--
-- Name: projects_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE projects_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: projects_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE projects_id_seq OWNED BY projects.id;


--
-- Name: projects_managers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE projects_managers (
 user_id integer,
 project_id integer
);


--
-- Name: recurring_backers_by_year; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW recurring_backers_by_year AS 
 SELECT bby.year, trb.total_recurring_backed, bby.total_backed, trb.total_recurring_backed / bby.total_backed AS recurring_backed_ratio, trb.total_recurring_backers, bby.total_backers, trb.total_recurring_backers / bby.total_backers::numeric AS recurring_backers_ratio
 FROM ( SELECT rb.year, sum(rb.total_recurring_backed) AS total_recurring_backed, sum(rb.total_recurring_backers) AS total_recurring_backers
 FROM ( SELECT to_char(backers.created_at, 'yyyy'::text) AS year, sum(backers.value) AS total_recurring_backed, count(DISTINCT backers.user_id) AS total_recurring_backers
 FROM backers
 WHERE backers.confirmed
 GROUP BY to_char(backers.created_at, 'yyyy'::text), backers.user_id
 HAVING count(*) > 1) rb
 GROUP BY rb.year) trb
 JOIN backers_by_year bby USING (year);

--
-- Name: reward_ranges; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE reward_ranges (
 name text NOT NULL,
 lower numeric,
 upper numeric
);


--
-- Name: rewards; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE rewards (
 id integer NOT NULL,
 project_id integer NOT NULL,
 minimum_value numeric NOT NULL,
 maximum_backers integer,
 description text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT rewards_maximum_backers_positive CHECK ((maximum_backers >= 0)),
 CONSTRAINT rewards_minimum_value_positive CHECK ((minimum_value >= (0)::numeric))
);


--
-- Name: rewards_by_range; Type: VIEW; Schema: public; Owner: -
--

CREATE OR REPLACE VIEW rewards_by_range AS 
 SELECT rr.name AS range, count(*) AS count, count(*)::numeric / (( SELECT count(*) AS count
 FROM backers
 WHERE backers.confirmed AND backers.reward_id IS NOT NULL))::numeric AS ratio
 FROM reward_ranges rr
 JOIN rewards r ON r.minimum_value >= rr.lower AND r.minimum_value <= rr.upper
 JOIN backers b ON b.reward_id = r.id
 WHERE b.confirmed
 GROUP BY rr.name, rr.lower
 ORDER BY rr.lower;


--
-- Name: rewards_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE rewards_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: rewards_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE rewards_id_seq OWNED BY rewards.id;

--
-- Name: states; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE states (
 id integer NOT NULL,
 name character varying(255) NOT NULL,
 acronym character varying(255) NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone,
 CONSTRAINT states_acronym_not_blank CHECK ((length(btrim((acronym)::text)) > 0)),
 CONSTRAINT states_name_not_blank CHECK ((length(btrim((name)::text)) > 0))
);


--
-- Name: states_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE states_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: states_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE states_id_seq OWNED BY states.id;


--
-- Name: static_contents; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE static_contents (
 id integer NOT NULL,
 title character varying(255),
 body text,
 body_html text,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: static_contents_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE static_contents_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: static_contents_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE static_contents_id_seq OWNED BY static_contents.id;


--
-- Name: statistics; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW statistics AS
 SELECT (SELECT count(*) AS count FROM users WHERE (users.primary_user_id IS NULL)) AS total_users, backers_totals.total_backs, backers_totals.total_backers, backers_totals.total_backed, projects_totals.total_projects, projects_totals.total_projects_success, projects_totals.total_projects_online FROM (SELECT count(*) AS total_backs, count(DISTINCT backers.user_id) AS total_backers, sum(backers.value) AS total_backed FROM backers WHERE backers.confirmed) backers_totals, (SELECT count(*) AS total_projects, count(CASE WHEN projects.successful THEN 1 ELSE NULL::integer END) AS total_projects_success, count(CASE WHEN ((projects.finished = false) AND (projects.expires_at >= now())) THEN 1 ELSE NULL::integer END) AS total_projects_online FROM projects WHERE projects.visible) projects_totals;


--
-- Name: unsubscribes; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE unsubscribes (
 id integer NOT NULL,
 user_id integer NOT NULL,
 notification_type_id integer NOT NULL,
 project_id integer,
 created_at timestamp without time zone NOT NULL,
 updated_at timestamp without time zone NOT NULL
);


--
-- Name: unsubscribes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE unsubscribes_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: unsubscribes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE unsubscribes_id_seq OWNED BY unsubscribes.id;


--
-- Name: updates; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE updates (
 id integer NOT NULL,
 user_id integer NOT NULL,
 project_id integer NOT NULL,
 title text,
 comment text NOT NULL,
 comment_html text NOT NULL,
 created_at timestamp without time zone,
 updated_at timestamp without time zone
);


--
-- Name: updates_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE updates_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: updates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE updates_id_seq OWNED BY updates.id;


--
-- Name: user_totals; Type: VIEW; Schema: public; Owner: -
--

CREATE VIEW user_totals AS
 SELECT b.user_id AS id, b.user_id, sum(b.value) AS sum, count(*) AS count, sum(CASE WHEN (((NOT p.finished) OR p.successful) AND (NOT b.credits)) THEN (0)::numeric WHEN ((p.finished AND (NOT p.successful)) AND ((b.requested_refund AND (NOT b.credits)) OR (b.credits AND (NOT b.requested_refund)))) THEN (0)::numeric WHEN (((p.finished AND (NOT p.successful)) AND (NOT b.credits)) AND (NOT b.requested_refund)) THEN b.value ELSE (b.value * ((-1))::numeric) END) AS credits FROM (backers b JOIN projects p ON ((b.project_id = p.id))) WHERE (b.confirmed = true) GROUP BY b.user_id;


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE users_id_seq
 START WITH 1
 INCREMENT BY 1
 NO MINVALUE
 NO MAXVALUE
 CACHE 1;


--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY active_admin_comments ALTER COLUMN id SET DEFAULT nextval('admin_notes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers ALTER COLUMN id SET DEFAULT nextval('backers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY categories ALTER COLUMN id SET DEFAULT nextval('categories_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY comments ALTER COLUMN id SET DEFAULT nextval('comments_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY configurations ALTER COLUMN id SET DEFAULT nextval('configurations_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY curated_pages ALTER COLUMN id SET DEFAULT nextval('curated_pages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY institutional_videos ALTER COLUMN id SET DEFAULT nextval('advert_videos_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY notification_types ALTER COLUMN id SET DEFAULT nextval('notification_types_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications ALTER COLUMN id SET DEFAULT nextval('notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY oauth_providers ALTER COLUMN id SET DEFAULT nextval('oauth_providers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_logs ALTER COLUMN id SET DEFAULT nextval('payment_logs_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_notifications ALTER COLUMN id SET DEFAULT nextval('payment_notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects ALTER COLUMN id SET DEFAULT nextval('projects_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects_curated_pages ALTER COLUMN id SET DEFAULT nextval('projects_curated_pages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY rewards ALTER COLUMN id SET DEFAULT nextval('rewards_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY states ALTER COLUMN id SET DEFAULT nextval('states_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY static_contents ALTER COLUMN id SET DEFAULT nextval('static_contents_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes ALTER COLUMN id SET DEFAULT nextval('unsubscribes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates ALTER COLUMN id SET DEFAULT nextval('updates_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- Name: admin_notes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY active_admin_comments
 ADD CONSTRAINT admin_notes_pkey PRIMARY KEY (id);


--
-- Name: advert_videos_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY institutional_videos
 ADD CONSTRAINT advert_videos_pkey PRIMARY KEY (id);


--
-- Name: backers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_pkey PRIMARY KEY (id);


--
-- Name: categories_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY categories
 ADD CONSTRAINT categories_name_unique UNIQUE (name);


--
-- Name: categories_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY categories
 ADD CONSTRAINT categories_pkey PRIMARY KEY (id);


--
-- Name: comments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY comments
 ADD CONSTRAINT comments_pkey PRIMARY KEY (id);


--
-- Name: configurations_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY configurations
 ADD CONSTRAINT configurations_pkey PRIMARY KEY (id);


--
-- Name: curated_pages_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY curated_pages
 ADD CONSTRAINT curated_pages_pkey PRIMARY KEY (id);


--
-- Name: notification_types_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY notification_types
 ADD CONSTRAINT notification_types_pkey PRIMARY KEY (id);


--
-- Name: notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_pkey PRIMARY KEY (id);


--
-- Name: oauth_providers_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY oauth_providers
 ADD CONSTRAINT oauth_providers_name_unique UNIQUE (name);


--
-- Name: oauth_providers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY oauth_providers
 ADD CONSTRAINT oauth_providers_pkey PRIMARY KEY (id);


--
-- Name: payment_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_logs
 ADD CONSTRAINT payment_logs_pkey PRIMARY KEY (id);


--
-- Name: payment_notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_notifications
 ADD CONSTRAINT payment_notifications_pkey PRIMARY KEY (id);


--
-- Name: projects_curated_pages_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY projects_curated_pages
 ADD CONSTRAINT projects_curated_pages_pkey PRIMARY KEY (id);


--
-- Name: projects_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_pkey PRIMARY KEY (id);


--
-- Name: reward_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY reward_ranges
 ADD CONSTRAINT reward_ranges_pkey PRIMARY KEY (name);


--
-- Name: rewards_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY rewards
 ADD CONSTRAINT rewards_pkey PRIMARY KEY (id);


--
-- Name: states_acronym_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_acronym_unique UNIQUE (acronym);


--
-- Name: states_name_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_name_unique UNIQUE (name);


--
-- Name: states_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY states
 ADD CONSTRAINT states_pkey PRIMARY KEY (id);


--
-- Name: static_contents_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY static_contents
 ADD CONSTRAINT static_contents_pkey PRIMARY KEY (id);


--
-- Name: total_backed_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY total_backed_ranges
 ADD CONSTRAINT total_backed_ranges_pkey PRIMARY KEY (name);


--
-- Name: unsubscribes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_pkey PRIMARY KEY (id);


--
-- Name: updates_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_pkey PRIMARY KEY (id);


--
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: users_provider_uid_unique; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_provider_uid_unique UNIQUE (provider, uid);


--
-- Name: index_active_admin_comments_on_author_type_and_author_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_active_admin_comments_on_author_type_and_author_id ON active_admin_comments USING btree (author_type, author_id);


--
-- Name: index_active_admin_comments_on_namespace; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_active_admin_comments_on_namespace ON active_admin_comments USING btree (namespace);


--
-- Name: index_backers_on_confirmed; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_confirmed ON backers USING btree (confirmed);


--
-- Name: index_backers_on_key; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_key ON backers USING btree (key);


--
-- Name: index_backers_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_project_id ON backers USING btree (project_id);


--
-- Name: index_backers_on_reward_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_reward_id ON backers USING btree (reward_id);


--
-- Name: index_backers_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_backers_on_user_id ON backers USING btree (user_id);


--
-- Name: index_categories_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_categories_on_name ON categories USING btree (name);


--
-- Name: index_comments_on_commentable_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_commentable_id ON comments USING btree (commentable_id);


--
-- Name: index_comments_on_commentable_type; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_commentable_type ON comments USING btree (commentable_type);


--
-- Name: index_comments_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_comments_on_user_id ON comments USING btree (user_id);


--
-- Name: index_confirmed_backers_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_confirmed_backers_on_project_id ON backers USING btree (project_id) WHERE confirmed;


--
-- Name: index_curated_pages_on_permalink; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_curated_pages_on_permalink ON curated_pages USING btree (permalink);


--
-- Name: index_notification_types_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_notification_types_on_name ON notification_types USING btree (name);


--
-- Name: index_notifications_on_update_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_notifications_on_update_id ON notifications USING btree (update_id);


--
-- Name: index_projects_on_category_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_category_id ON projects USING btree (category_id);


--
-- Name: index_projects_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_name ON projects USING btree (name);


--
-- Name: index_projects_on_permalink; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_projects_on_permalink ON projects USING btree (permalink);


--
-- Name: index_projects_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_projects_on_user_id ON projects USING btree (user_id);


--
-- Name: index_rewards_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_rewards_on_project_id ON rewards USING btree (project_id);


--
-- Name: index_unsubscribes_on_notification_type_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_notification_type_id ON unsubscribes USING btree (notification_type_id);


--
-- Name: index_unsubscribes_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_project_id ON unsubscribes USING btree (project_id);


--
-- Name: index_unsubscribes_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_unsubscribes_on_user_id ON unsubscribes USING btree (user_id);


--
-- Name: index_updates_on_project_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_updates_on_project_id ON updates USING btree (project_id);


--
-- Name: index_users_on_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_email ON users USING btree (email);


--
-- Name: index_users_on_name; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_name ON users USING btree (name);


--
-- Name: index_users_on_primary_user_id_and_provider; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_primary_user_id_and_provider ON users USING btree (primary_user_id, provider);


--
-- Name: index_users_on_reset_password_token; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_users_on_reset_password_token ON users USING btree (reset_password_token);


--
-- Name: index_users_on_uid; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_uid ON users USING btree (uid);


--
-- Name: users_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX users_email ON users USING btree (email) WHERE (provider = 'devise'::text);


--
-- Name: backers_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: backers_reward_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_reward_id_reference FOREIGN KEY (reward_id) REFERENCES rewards(id);


--
-- Name: backers_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY backers
 ADD CONSTRAINT backers_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: comments_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY comments
 ADD CONSTRAINT comments_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: notifications_backer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_backer_id_fk FOREIGN KEY (backer_id) REFERENCES backers(id);


--
-- Name: notifications_notification_type_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_notification_type_id_fk FOREIGN KEY (notification_type_id) REFERENCES notification_types(id);


--
-- Name: notifications_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: notifications_update_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_update_id_fk FOREIGN KEY (update_id) REFERENCES updates(id);


--
-- Name: notifications_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY notifications
 ADD CONSTRAINT notifications_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: payment_notifications_backer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_notifications
 ADD CONSTRAINT payment_notifications_backer_id_fk FOREIGN KEY (backer_id) REFERENCES backers(id);


--
-- Name: projects_category_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_category_id_reference FOREIGN KEY (category_id) REFERENCES categories(id);


--
-- Name: projects_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY projects
 ADD CONSTRAINT projects_user_id_reference FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: rewards_project_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY rewards
 ADD CONSTRAINT rewards_project_id_reference FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: unsubscribes_notification_type_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_notification_type_id_fk FOREIGN KEY (notification_type_id) REFERENCES notification_types(id);


--
-- Name: unsubscribes_project_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_project_id_fk FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: unsubscribes_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY unsubscribes
 ADD CONSTRAINT unsubscribes_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: updates_project_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_project_id_fk FOREIGN KEY (project_id) REFERENCES projects(id);


--
-- Name: updates_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY updates
 ADD CONSTRAINT updates_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: users_primary_user_id_reference; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY users
 ADD CONSTRAINT users_primary_user_id_reference FOREIGN KEY (primary_user_id) REFERENCES users(id);

--
-- PostgreSQL database dump complete
--

  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20121226120921"]]
  [1m[35m (16.7ms)[0m  COMMIT
Migrating to UserTotalsBackToStateMachine (20121227012003)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (6.6ms)[0m   CREATE OR REPLACE VIEW user_totals AS
 SELECT
 b.user_id as id,
 b.user_id,
 sum(b.value) AS sum,
 count(*) AS count,
 sum(CASE
 -- I've backed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0
 -- I've backed a failed project with money and asked for refund xor I've backed a failed project with credits
 WHEN p.state = 'failed' AND ((b.requested_refund AND NOT b.credits) OR (b.credits AND NOT b.requested_refund)) THEN 0
 -- I've backed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND NOT b.requested_refund THEN b.value
 -- I've backed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM
 backers b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.confirmed = true
 GROUP BY b.user_id;

  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20121227012003"]]
  [1m[35m (4.2ms)[0m  COMMIT
Migrating to StatisticsBackToStateMachine (20121227012324)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.1ms)[0m   CREATE OR REPLACE VIEW statistics AS
 SELECT
 (SELECT count(*) FROM users WHERE primary_user_id IS NULL) AS total_users,
 total_backs,
 total_backers,
 total_backed,
 total_projects,
 total_projects_success,
 total_projects_online
 FROM
 (
 SELECT count(*) AS total_backs, 
 count(DISTINCT user_id) AS total_backers, 
 sum(value) AS total_backed 
 FROM backers WHERE confirmed
 ) AS backers_totals,

 (
 SELECT 
 count(*) AS total_projects, 
 count(CASE WHEN state = 'successful' THEN 1 ELSE NULL END) AS total_projects_success, 
 count(CASE WHEN state = 'online' THEN 1 ELSE NULL END) AS total_projects_online 
 FROM projects WHERE state NOT IN ('draft', 'rejected')
 ) AS projects_totals

  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20121227012324"]]
  [1m[35m (10.9ms)[0m  COMMIT
Migrating to AddOnlineDateToProjects (20121230111351)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "projects" ADD COLUMN "online_date" timestamp
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20121230111351"]]
  [1m[35m (12.3ms)[0m  COMMIT
Migrating to UpdateProjectsToStateMachineAgain (20130102180139)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (2.3ms)[0m  
 UPDATE projects 
 SET finished = true
 WHERE 
 finished = false AND visible = true AND expires_at <= current_timestamp - '5 days'::interval;
 
  [1m[36m (0.9ms)[0m  [1m
 UPDATE projects p
 SET state = (
 CASE
 WHEN p.finished = true AND p.successful = true THEN 'successful'
 WHEN p.finished = true AND p.successful = false THEN 'failed'
 WHEN p.finished = false AND p.visible = true THEN 'online'
 WHEN coalesce(p.visible, false) = false THEN 'draft'
 END
 );
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130102180139"]]
  [1m[36m (11.7ms)[0m  [1mCOMMIT[0m
Migrating to AddMoipLoginToUsers (20130104005632)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "users" ADD COLUMN "moip_login" character varying(255)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130104005632"]]
  [1m[36m (13.2ms)[0m  [1mCOMMIT[0m
Migrating to AddHowKnowAndMoreLinksToProjects (20130104104501)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "how_know" text[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "projects" ADD COLUMN "more_links" text
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130104104501"]]
  [1m[35m (10.3ms)[0m  COMMIT
Migrating to AddFirstBackersToProjects (20130105123546)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "projects" ADD COLUMN "first_backers" text
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130105123546"]]
  [1m[35m (13.5ms)[0m  COMMIT
Migrating to AddUploadedImageToProjects (20130110191750)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "projects" ADD COLUMN "uploaded_image" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130110191750"]]
  [1m[35m (12.4ms)[0m  COMMIT
Migrating to AlterProjectsDropVideoUrlConstraint (20130117205659)
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  
 ALTER TABLE projects ALTER video_url DROP NOT NULL;
 ALTER TABLE projects DROP CONSTRAINT projects_video_url_not_blank;
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130117205659"]]
  [1m[35m (11.6ms)[0m  COMMIT
Migrating to FixStatisticsView (20130118193907)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (5.9ms)[0m   CREATE OR REPLACE VIEW statistics AS
 SELECT ( SELECT count(*) AS count
 FROM users
 WHERE users.primary_user_id IS NULL) AS total_users, backers_totals.total_backs, backers_totals.total_backers, backers_totals.total_backed, projects_totals.total_projects, projects_totals.total_projects_success, projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, count(DISTINCT backers.user_id) AS total_backers, sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.confirmed) backers_totals, ( SELECT count(*) AS total_projects, count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, count(
 CASE
 WHEN projects.state IN ('online', 'successful') AND projects.expires_at >= current_timestamp THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying, 'rejected'::character varying]::text[])) projects_totals;

  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130118193907"]]
  [1m[35m (30.3ms)[0m  COMMIT
Migrating to CreateBackerReports (20130121162447)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (10.9ms)[0m  CREATE VIEW "backer_reports" AS 
 SELECT 
 b.project_id,
 u.name, 
 b.value,
 r.minimum_value,
 r.description,
 b.payment_method,
 b.payment_choice,
 b.payment_service_fee,
 b.key,
 b.created_at::date,
 b.confirmed_at::date,
 u.email,
 b.payer_email,
 b.payer_name,
 u.cpf,
 u.address_street,
 u.address_complement,
 u.address_number,
 u.address_neighbourhood,
 u.address_city,
 u.address_state,
 u.address_zip_code,
 b.requested_refund,
 b.refunded
 FROM 
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130121162447"]]
  [1m[35m (40.8ms)[0m  COMMIT
Migrating to FixProjectsStates (20130121204224)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.4ms)[0m  
 UPDATE projects SET state = 'waiting_funds' WHERE state IN ('successful', 'online') AND current_timestamp BETWEEN expires_at and expires_at + '4 day'::interval;
 UPDATE projects SET state = 'online' WHERE state = 'successful' AND current_timestamp < expires_at;
 
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130121204224"]]
  [1m[35m (48.4ms)[0m  COMMIT
Migrating to FixStatistcsAgain (20130121212325)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (4.4ms)[0m   CREATE OR REPLACE VIEW statistics AS
 SELECT ( SELECT count(*) AS count
 FROM users
 WHERE users.primary_user_id IS NULL) AS total_users, backers_totals.total_backs, backers_totals.total_backers, backers_totals.total_backed, projects_totals.total_projects, projects_totals.total_projects_success, projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, count(DISTINCT backers.user_id) AS total_backers, sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.confirmed) backers_totals, ( SELECT count(*) AS total_projects, count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, count(
 CASE
 WHEN projects.state = 'online' THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying, 'rejected'::character varying]::text[])) projects_totals;

  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130121212325"]]
  [1m[35m (16.2ms)[0m  COMMIT
Migrating to AddCpfToBackerReport (20130131121553)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (2.9ms)[0m  DROP VIEW "backer_reports"
  [1m[36m (9.0ms)[0m  [1mCREATE VIEW "backer_reports" AS 
 SELECT 
 b.project_id,
 u.name, 
 b.value,
 r.minimum_value,
 r.description,
 b.payment_method,
 b.payment_choice,
 b.payment_service_fee,
 b.key,
 b.created_at::date,
 b.confirmed_at::date,
 u.email,
 b.payer_email,
 b.payer_name,
 coalesce(b.payer_document, u.cpf) as cpf,
 u.address_street,
 u.address_complement,
 u.address_number,
 u.address_neighbourhood,
 u.address_city,
 u.address_state,
 u.address_zip_code,
 b.requested_refund,
 b.refunded
 FROM 
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130131121553"]]
  [1m[36m (14.3ms)[0m  [1mCOMMIT[0m
Migrating to RemoveCuratedPages (20130201200604)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (3.8ms)[0m  [1mDROP TABLE "curated_pages"[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130201200604"]]
  [1m[36m (15.8ms)[0m  [1mCOMMIT[0m
Migrating to RemoveProjectsManagers (20130201202648)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mDROP TABLE "projects_managers"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130201202648"]]
  [1m[36m (10.9ms)[0m  [1mCOMMIT[0m
Migrating to RemoveActiveAdminComments (20130201202829)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (3.6ms)[0m  [1mDROP TABLE "active_admin_comments"[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130201202829"]]
  [1m[36m (15.2ms)[0m  [1mCOMMIT[0m
Migrating to RemoveInstitutionalVideos (20130201205659)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (2.1ms)[0m  [1mDROP TABLE "institutional_videos"[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130201205659"]]
  [1m[36m (11.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateBackerReportsForProjectOwner (20130204192704)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (8.6ms)[0m  [1mCREATE VIEW "backer_reports_for_project_owners" AS 
 SELECT
 b.project_id,
 r.id as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130204192704"]]
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
Migrating to RemoveCreditsFromUsers (20130205143533)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "users" DROP "credits"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130205143533"]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Migrating to FixViewBackerReportsForProjectOwner (20130206121758)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (8.3ms)[0m  [1m
 CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130206121758"]]
  [1m[36m (6.9ms)[0m  [1mCOMMIT[0m
Migrating to AddNameEnToCategories (20130211174609)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "categories" ADD COLUMN "name_en" character varying(255)[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130211174609"]]
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
Migrating to RenameNameToNamePt (20130212145115)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "categories" RENAME COLUMN "name" TO "name_pt"[0m
  [1m[35m (8.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'categories'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index categories_name_unique on categories (2.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18324
[0m
  [1m[35mColumns for index index_categories_on_name on categories (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18324

  [1m[36m (0.6ms)[0m  [1mALTER INDEX "index_categories_on_name" RENAME TO "index_categories_on_name_pt"[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130212145115"]]
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
Migrating to ChangePermalinkToNotNull (20130213184141)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (2.9ms)[0m  [1m UPDATE projects SET permalink = regexp_replace(unaccent(lower(trim(name))), '[^\w]|[ªº]', '-', 'gi') 
 WHERE NULLIF(trim(permalink), '') is NULL AND (SELECT count(*) < 2 FROM projects p2 
 WHERE regexp_replace(unaccent(lower(trim(p2.name))), '[^\w]|[ªº]', '-', 'gi') = regexp_replace(unaccent(lower(trim(projects.name))), '[^\w]|[ªº]', '-', 'gi'));
 UPDATE projects SET permalink = projects.id::text || '-' || regexp_replace(unaccent(lower(trim(name))), '[^\w]|[ªº]', '-', 'gi') WHERE NULLIF(trim(permalink), '') is NULL;
[0m
  [1m[35m (53.3ms)[0m  ALTER TABLE "projects" ALTER COLUMN "permalink" TYPE text
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "projects" ALTER "permalink" SET NOT NULL[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130213184141"]]
  [1m[36m (11.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateUsersOauthProviders (20130218201312)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (2.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users_oauth_providers'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (2.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users_oauth_providers'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (97.3ms)[0m  [1mCREATE TABLE "users_oauth_providers" ("id" serial primary key, "oauth_provider_id" integer NOT NULL, "user_id" integer NOT NULL, "uid" text NOT NULL, "created_at" timestamp, "updated_at" timestamp, CONSTRAINT fk_users_oauth_providers_oauth_provider_id FOREIGN KEY ("oauth_provider_id") REFERENCES "oauth_providers" ("id"), CONSTRAINT fk_users_oauth_providers_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id")) [0m
  [1m[35m (52.0ms)[0m  CREATE INDEX "fk__users_oauth_providers_oauth_provider_id" ON "users_oauth_providers" ("oauth_provider_id")
  [1m[36m (44.7ms)[0m  [1mCREATE INDEX "fk__users_oauth_providers_user_id" ON "users_oauth_providers" ("user_id")[0m
  [1m[35m (44.4ms)[0m  CREATE UNIQUE INDEX "index_users_oauth_providers_on_uid_and_oauth_provider_id" ON "users_oauth_providers" ("uid", "oauth_provider_id")
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130218201312"]]
  [1m[35m (19.5ms)[0m  COMMIT
Migrating to MigrateUserDataToUsersOathProviders (20130218201751)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (4.5ms)[0m   INSERT INTO users_oauth_providers (oauth_provider_id, user_id, uid, created_at, updated_at)
 SELECT (SELECT id FROM oauth_providers op WHERE op.path = users.provider), id, uid, now(), now() FROM users 
 WHERE EXISTS (SELECT true FROM oauth_providers op WHERE op.path = users.provider);

  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130218201751"]]
  [1m[35m (9.9ms)[0m  COMMIT
Migrating to RenameUsersOathProviders (20130221171018)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (5.1ms)[0m  DROP TABLE "users_oauth_providers"
  [1m[36m (1.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'authorizations'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (1.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'authorizations'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (97.9ms)[0m  [1mCREATE TABLE "authorizations" ("id" serial primary key, "oauth_provider_id" integer NOT NULL, "user_id" integer NOT NULL, "uid" text NOT NULL, "created_at" timestamp, "updated_at" timestamp, CONSTRAINT fk_authorizations_oauth_provider_id FOREIGN KEY ("oauth_provider_id") REFERENCES "oauth_providers" ("id"), CONSTRAINT fk_authorizations_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id")) [0m
  [1m[35m (30.6ms)[0m  CREATE INDEX "fk__authorizations_oauth_provider_id" ON "authorizations" ("oauth_provider_id")
  [1m[36m (33.6ms)[0m  [1mCREATE INDEX "fk__authorizations_user_id" ON "authorizations" ("user_id")[0m
  [1m[35m (55.6ms)[0m  CREATE UNIQUE INDEX "index_authorizations_on_uid_and_oauth_provider_id" ON "authorizations" ("uid", "oauth_provider_id")
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221171018"]]
  [1m[35m (24.7ms)[0m  COMMIT
Migrating to PopulateAuthorizations (20130221172840)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (2.4ms)[0m   INSERT INTO authorizations (oauth_provider_id, user_id, uid, created_at, updated_at)
 SELECT (SELECT id FROM oauth_providers op WHERE op.path = users.provider), id, uid, now(), now() FROM users 
 WHERE EXISTS (SELECT true FROM oauth_providers op WHERE op.path = users.provider);

  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221172840"]]
  [1m[35m (4.1ms)[0m  COMMIT
Migrating to RemoveStaticContents (20130221175717)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (3.0ms)[0m  DROP TABLE "static_contents"
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221175717"]]
  [1m[35m (16.8ms)[0m  COMMIT
Migrating to UpdateOauthProviderNameToLower (20130221184144)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  UPDATE oauth_providers SET name = lower(name);
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221184144"]]
  [1m[35m (8.9ms)[0m  COMMIT
Migrating to RecreateStatisticsWithNewUsers (20130221185532)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (4.2ms)[0m   CREATE OR REPLACE VIEW statistics AS
 SELECT (SELECT count(*) AS count
 FROM users) AS total_users, 
 backers_totals.total_backs, backers_totals.total_backers, 
 backers_totals.total_backed, projects_totals.total_projects, 
 projects_totals.total_projects_success, 
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, 
 count(DISTINCT backers.user_id) AS total_backers, 
 sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.confirmed) backers_totals, 
 ( SELECT count(*) AS total_projects, 
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, 
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;

  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221185532"]]
  [1m[35m (10.0ms)[0m  COMMIT
Migrating to RemoveSecondaryUsers (20130221201732)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.7ms)[0m  
 UPDATE users SET email = 
 (SELECT email FROM users su WHERE su.primary_user_id = users.id AND email IS NOT NULL LIMIT 1) 
 WHERE 
 email IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND email IS NOT NULL) > 0
  [1m[36m (1.5ms)[0m  [1m
 UPDATE users SET name = 
 (SELECT name FROM users su WHERE su.primary_user_id = users.id AND name IS NOT NULL LIMIT 1) 
 WHERE 
 name IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND name IS NOT NULL) > 0[0m
  [1m[35m (1.4ms)[0m  
 UPDATE users SET nickname = 
 (SELECT nickname FROM users su WHERE su.primary_user_id = users.id AND nickname IS NOT NULL LIMIT 1) 
 WHERE 
 nickname IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND nickname IS NOT NULL) > 0
  [1m[36m (1.4ms)[0m  [1m
 UPDATE users SET bio = 
 (SELECT bio FROM users su WHERE su.primary_user_id = users.id AND bio IS NOT NULL LIMIT 1) 
 WHERE 
 bio IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND bio IS NOT NULL) > 0[0m
  [1m[35m (1.2ms)[0m  
 UPDATE users SET image_url = 
 (SELECT image_url FROM users su WHERE su.primary_user_id = users.id AND image_url IS NOT NULL LIMIT 1) 
 WHERE 
 image_url IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND image_url IS NOT NULL) > 0
  [1m[36m (1.4ms)[0m  [1m
 UPDATE users SET newsletter = 
 (SELECT newsletter FROM users su WHERE su.primary_user_id = users.id AND newsletter IS NOT NULL LIMIT 1) 
 WHERE 
 newsletter IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND newsletter IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET project_updates = 
 (SELECT project_updates FROM users su WHERE su.primary_user_id = users.id AND project_updates IS NOT NULL LIMIT 1) 
 WHERE 
 project_updates IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND project_updates IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET full_name = 
 (SELECT full_name FROM users su WHERE su.primary_user_id = users.id AND full_name IS NOT NULL LIMIT 1) 
 WHERE 
 full_name IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND full_name IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET address_street = 
 (SELECT address_street FROM users su WHERE su.primary_user_id = users.id AND address_street IS NOT NULL LIMIT 1) 
 WHERE 
 address_street IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_street IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET address_number = 
 (SELECT address_number FROM users su WHERE su.primary_user_id = users.id AND address_number IS NOT NULL LIMIT 1) 
 WHERE 
 address_number IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_number IS NOT NULL) > 0[0m
  [1m[35m (1.6ms)[0m  
 UPDATE users SET address_complement = 
 (SELECT address_complement FROM users su WHERE su.primary_user_id = users.id AND address_complement IS NOT NULL LIMIT 1) 
 WHERE 
 address_complement IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_complement IS NOT NULL) > 0
  [1m[36m (1.6ms)[0m  [1m
 UPDATE users SET address_neighbourhood = 
 (SELECT address_neighbourhood FROM users su WHERE su.primary_user_id = users.id AND address_neighbourhood IS NOT NULL LIMIT 1) 
 WHERE 
 address_neighbourhood IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_neighbourhood IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET address_city = 
 (SELECT address_city FROM users su WHERE su.primary_user_id = users.id AND address_city IS NOT NULL LIMIT 1) 
 WHERE 
 address_city IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_city IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET address_state = 
 (SELECT address_state FROM users su WHERE su.primary_user_id = users.id AND address_state IS NOT NULL LIMIT 1) 
 WHERE 
 address_state IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_state IS NOT NULL) > 0[0m
  [1m[35m (1.2ms)[0m  
 UPDATE users SET address_zip_code = 
 (SELECT address_zip_code FROM users su WHERE su.primary_user_id = users.id AND address_zip_code IS NOT NULL LIMIT 1) 
 WHERE 
 address_zip_code IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND address_zip_code IS NOT NULL) > 0
  [1m[36m (1.4ms)[0m  [1m
 UPDATE users SET phone_number = 
 (SELECT phone_number FROM users su WHERE su.primary_user_id = users.id AND phone_number IS NOT NULL LIMIT 1) 
 WHERE 
 phone_number IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND phone_number IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET locale = 
 (SELECT locale FROM users su WHERE su.primary_user_id = users.id AND locale IS NOT NULL LIMIT 1) 
 WHERE 
 locale IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND locale IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET cpf = 
 (SELECT cpf FROM users su WHERE su.primary_user_id = users.id AND cpf IS NOT NULL LIMIT 1) 
 WHERE 
 cpf IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND cpf IS NOT NULL) > 0[0m
  [1m[35m (1.3ms)[0m  
 UPDATE users SET twitter = 
 (SELECT twitter FROM users su WHERE su.primary_user_id = users.id AND twitter IS NOT NULL LIMIT 1) 
 WHERE 
 twitter IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND twitter IS NOT NULL) > 0
  [1m[36m (1.3ms)[0m  [1m
 UPDATE users SET facebook_link = 
 (SELECT facebook_link FROM users su WHERE su.primary_user_id = users.id AND facebook_link IS NOT NULL LIMIT 1) 
 WHERE 
 facebook_link IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND facebook_link IS NOT NULL) > 0[0m
  [1m[35m (1.5ms)[0m  
 UPDATE users SET other_link = 
 (SELECT other_link FROM users su WHERE su.primary_user_id = users.id AND other_link IS NOT NULL LIMIT 1) 
 WHERE 
 other_link IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND other_link IS NOT NULL) > 0
  [1m[36m (1.2ms)[0m  [1m
 UPDATE users SET uploaded_image = 
 (SELECT uploaded_image FROM users su WHERE su.primary_user_id = users.id AND uploaded_image IS NOT NULL LIMIT 1) 
 WHERE 
 uploaded_image IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND uploaded_image IS NOT NULL) > 0[0m
  [1m[35m (1.4ms)[0m  
 UPDATE users SET moip_login = 
 (SELECT moip_login FROM users su WHERE su.primary_user_id = users.id AND moip_login IS NOT NULL LIMIT 1) 
 WHERE 
 moip_login IS NULL AND primary_user_id IS NULL
 AND (SELECT count(*) FROM users su WHERE su.primary_user_id = users.id AND moip_login IS NOT NULL) > 0
  [1m[36m (93.2ms)[0m  [1m
 DROP INDEX index_authorizations_on_uid_and_oauth_provider_id;
 INSERT INTO authorizations (oauth_provider_id, user_id, uid, created_at, updated_at)
 SELECT DISTINCT a.oauth_provider_id, su.primary_user_id, a.uid, current_timestamp, current_timestamp
 FROM authorizations a JOIN users su ON a.user_id = su.id
 WHERE su.primary_user_id IS NOT NULL 
 AND NOT EXISTS (
 SELECT true 
 FROM authorizations a2 
 WHERE a2.user_id = su.primary_user_id AND a2.oauth_provider_id = a.oauth_provider_id);
 DELETE FROM authorizations WHERE user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL);
 CREATE UNIQUE INDEX index_authorizations_on_uid_and_oauth_provider_id ON authorizations (uid, oauth_provider_id);
 [0m
  [1m[35m (3.0ms)[0m  
 UPDATE backers SET user_id = (SELECT primary_user_id FROM users WHERE id = backers.user_id)
 WHERE backers.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 
  [1m[36m (2.4ms)[0m  [1m
 UPDATE notifications SET user_id = (SELECT primary_user_id FROM users WHERE id = notifications.user_id)
 WHERE notifications.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 [0m
  [1m[35m (2.3ms)[0m  
 UPDATE projects SET user_id = (SELECT primary_user_id FROM users WHERE id = projects.user_id)
 WHERE projects.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 
  [1m[36m (2.3ms)[0m  [1m
 UPDATE unsubscribes SET user_id = (SELECT primary_user_id FROM users WHERE id = unsubscribes.user_id)
 WHERE unsubscribes.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 [0m
  [1m[35m (2.2ms)[0m  
 UPDATE updates SET user_id = (SELECT primary_user_id FROM users WHERE id = updates.user_id)
 WHERE updates.user_id IN (SELECT id FROM users WHERE primary_user_id IS NOT NULL)
 
  [1m[36m (5.5ms)[0m  [1mDROP TABLE comments;[0m
  [1m[35m (1.5ms)[0m  DELETE FROM users WHERE primary_user_id IS NOT NULL
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130221201732"]]
  [1m[35m (28.2ms)[0m  COMMIT
Migrating to AddStateInscriptionToUser (20130222163633)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "users" ADD COLUMN "state_inscription" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130222163633"]]
  [1m[35m (4.5ms)[0m  COMMIT
Migrating to UpdateUserEmailsFromBackers (20130225135512)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  
 UPDATE users 
 SET 
 email = (SELECT b.payer_email FROM backers b WHERE b.user_id = users.id AND b.payer_email IS NOT NULL LIMIT 1) 
 WHERE 
 email IS NULL 
 AND id IN (SELECT user_id FROM backers WHERE payer_email IS NOT NULL);
 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130225135512"]]
  [1m[35m (12.9ms)[0m  COMMIT
Migrating to AlterUserDropProviderUidConstraints (20130225141802)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  
 ALTER TABLE users ALTER provider DROP NOT NULL;
 ALTER TABLE users ALTER uid DROP NOT NULL;
 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130225141802"]]
  [1m[35m (3.8ms)[0m  COMMIT
Migrating to AddUniqueIndexToConfiguration (20130228141234)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (55.6ms)[0m  CREATE UNIQUE INDEX "index_configurations_on_name" ON "configurations" ("name")
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130228141234"]]
  [1m[35m (14.3ms)[0m  COMMIT
Migrating to CreateChannelProfiles (20130304193806)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (111.5ms)[0m  CREATE TABLE "channel_profiles" ("id" serial primary key, "name" character varying(255) NOT NULL, "description" character varying(255), "permalink" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (62.9ms)[0m  [1mCREATE UNIQUE INDEX "index_channel_profiles_on_permalink" ON "channel_profiles" ("permalink")[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130304193806"]]
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateVersions (20130307074614)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (114.1ms)[0m  [1mCREATE TABLE "versions" ("id" serial primary key, "item_type" character varying(255) NOT NULL, "item_id" integer NOT NULL, "event" character varying(255) NOT NULL, "whodunnit" character varying(255), "object" text, "created_at" timestamp) [0m
  [1m[35m (43.5ms)[0m  CREATE INDEX "index_versions_on_item_type_and_item_id" ON "versions" ("item_type", "item_id")
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130307074614"]]
  [1m[35m (10.2ms)[0m  COMMIT
Migrating to AddReindexVersionsToRewards (20130307090153)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "rewards" ADD COLUMN "reindex_versions" timestamp
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130307090153"]]
  [1m[35m (3.1ms)[0m  COMMIT
Migrating to AddUserNameOnBackerReportForProjectOwner (20130308200907)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (3.2ms)[0m  DROP VIEW "backer_reports_for_project_owners"
  [1m[36m (9.3ms)[0m  [1m
 CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130308200907"]]
  [1m[36m (13.0ms)[0m  [1mCOMMIT[0m
Migrating to DropUidAndProviderConstraintOnUsers (20130311191444)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1m
 ALTER TABLE users DROP CONSTRAINT users_provider_uid_unique;
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130311191444"]]
  [1m[36m (5.2ms)[0m  [1mCOMMIT[0m
Migrating to RemoveUnnecessaryUserIndexes (20130311192846)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.6ms)[0m  [1m
 DROP INDEX IF EXISTS users_email;
 DROP INDEX IF EXISTS index_users_on_primary_user_id_and_provider;
 DROP INDEX IF EXISTS index_users_on_uid;
 ALTER TABLE users DROP CONSTRAINT IF EXISTS users_provider_not_blank;
 ALTER TABLE users DROP CONSTRAINT IF EXISTS users_uid_not_blank;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130311192846"]]
  [1m[36m (13.7ms)[0m  [1mCOMMIT[0m
Migrating to FixDuplicateEmails (20130312001021)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (11.8ms)[0m  [1m
 CREATE TEMP TABLE target AS SELECT min(id) id, email FROM users WHERE trim(email) <> '' GROUP BY email HAVING count(*) > 1;
 CREATE TEMP TABLE source AS SELECT id, email FROM users WHERE email IN (SELECT email FROM target) AND id NOT IN (SELECT id FROM target);
 UPDATE backers SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = backers.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE authorizations SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = authorizations.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE notifications SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = notifications.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE projects SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = projects.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE unsubscribes SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = unsubscribes.user_id)
 WHERE user_id IN (SELECT id FROM source);
 UPDATE updates SET user_id = (SELECT t.id FROM target t JOIN source s ON s.email = t.email WHERE s.id = updates.user_id)
 WHERE user_id IN (SELECT id FROM source);
 DELETE FROM users WHERE id IN (SELECT id FROM source);
 DROP TABLE source;
 DROP TABLE target;
 [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130312001021"]]
  [1m[36m (14.2ms)[0m  [1mCOMMIT[0m
Migrating to RenameChannelsProfilesToChannels (20130313032607)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "channel_profiles" RENAME TO "channels"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "channel_profiles_id_seq" RENAME TO "channels_id_seq"
  [1m[36m (3.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_channel_profiles_on_permalink on channels (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18856

  [1m[36m (0.7ms)[0m  [1mALTER INDEX "index_channel_profiles_on_permalink" RENAME TO "index_channels_on_permalink"[0m
  [1m[35m (3.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_channels_on_permalink on channels (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18856
[0m
  [1m[35m (1.4ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130313032607"]]
  [1m[35m (13.7ms)[0m  COMMIT
Migrating to CreateChannelsProjects (20130313034356)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (1.6ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (1.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (47.7ms)[0m  CREATE TABLE "channels_projects" ("id" serial primary key, "channel_id" integer, "project_id" integer, CONSTRAINT fk_channels_projects_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id"), CONSTRAINT fk_channels_projects_project_id FOREIGN KEY ("project_id") REFERENCES "projects" ("id")) 
  [1m[36m (63.8ms)[0m  [1mCREATE UNIQUE INDEX "index_channels_projects_on_channel_id_and_project_id" ON "channels_projects" ("channel_id", "project_id")[0m
  [1m[35m (44.5ms)[0m  CREATE INDEX "index_channels_projects_on_project_id" ON "channels_projects" ("project_id")
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130313034356"]]
  [1m[35m (9.6ms)[0m  COMMIT
Migrating to CreateChannelsTrustees (20130319131919)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_trustees'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (1.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_trustees'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (59.3ms)[0m  CREATE TABLE "channels_trustees" ("id" serial primary key, "user_id" integer, "channel_id" integer, CONSTRAINT fk_channels_trustees_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id"), CONSTRAINT fk_channels_trustees_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id")) 
  [1m[36m (66.0ms)[0m  [1mCREATE UNIQUE INDEX "index_channels_trustees_on_user_id_and_channel_id" ON "channels_trustees" ("user_id", "channel_id")[0m
  [1m[35m (53.7ms)[0m  CREATE INDEX "index_channels_trustees_on_channel_id" ON "channels_trustees" ("channel_id")
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130319131919"]]
  [1m[35m (18.8ms)[0m  COMMIT
Migrating to AddTwitterAndFacebookAndEmailToChannels (20130410181958)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "channels" ADD COLUMN "twitter" character varying(255)
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "channels" ADD COLUMN "facebook" character varying(255)[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "channels" ADD COLUMN "email" character varying(255)
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130410181958"]]
  [1m[35m (9.0ms)[0m  COMMIT
Migrating to AddImageToChannels (20130410190247)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "channels" ADD COLUMN "image" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130410190247"]]
  [1m[35m (11.9ms)[0m  COMMIT
Migrating to AddWebsiteToChannels (20130410191240)
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "channels" ADD COLUMN "website" character varying(255)
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130410191240"]]
  [1m[35m (12.4ms)[0m  COMMIT
Migrating to CreateChannelsSubscribers (20130411193016)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_subscribers'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (1.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels_subscribers'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (49.0ms)[0m  CREATE TABLE "channels_subscribers" ("id" serial primary key, "user_id" integer NOT NULL, "channel_id" integer NOT NULL, CONSTRAINT fk_channels_subscribers_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id"), CONSTRAINT fk_channels_subscribers_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id")) 
  [1m[36m (54.0ms)[0m  [1mCREATE INDEX "fk__channels_subscribers_user_id" ON "channels_subscribers" ("user_id")[0m
  [1m[35m (55.6ms)[0m  CREATE INDEX "fk__channels_subscribers_channel_id" ON "channels_subscribers" ("channel_id")
  [1m[36m (55.2ms)[0m  [1mCREATE UNIQUE INDEX "index_channels_subscribers_on_user_id_and_channel_id" ON "channels_subscribers" ("user_id", "channel_id")[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130411193016"]]
  [1m[36m (16.5ms)[0m  [1mCOMMIT[0m
Migrating to AddStateToBackers (20130419184530)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "backers" ADD COLUMN "state" character varying(255)[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130419184530"]]
  [1m[36m (13.6ms)[0m  [1mCOMMIT[0m
Migrating to AddNotificationTypeDraftChannel (20130422071805)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1m
 INSERT INTO notification_types (name, created_at, updated_at) VALUES ('new_draft_project_channel', now(), now())
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130422071805"]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Migrating to AddNotificationTypeProjectReceivedChannel (20130422072051)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1m
 INSERT INTO notification_types (name, created_at, updated_at) VALUES ('project_received_channel', now(), now())
 [0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130422072051"]]
  [1m[36m (13.4ms)[0m  [1mCOMMIT[0m
Migrating to UpdateUserTotalToBackerStateMachine (20130423162359)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (5.5ms)[0m  [1m CREATE OR REPLACE VIEW user_totals AS 
 SELECT 
 b.user_id as id,
 b.user_id, 
 sum(b.value) AS sum, 
 count(*) AS count,
 sum(CASE 
 -- I've backed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0 
 -- I've backed a failed project with credits
 WHEN p.state = 'failed' AND b.credits THEN 0
 -- I've backed a failed project with money and asked for refund xor I've backed a failed project with credits
 WHEN p.state = 'failed' AND ((b.state='requested_refund' AND NOT b.credits) OR (b.credits AND NOT b.state='requested_refund')) THEN 0 
 -- I've backed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND b.state = 'confirmed' THEN b.value 
 -- I've backed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM 
 backers b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.state = 'confirmed'
 GROUP BY b.user_id;
[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130423162359"]]
  [1m[36m (9.5ms)[0m  [1mCOMMIT[0m
Migrating to AddBackerStateMachineIntoStatistics (20130424173128)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (4.9ms)[0m  [1m CREATE OR REPLACE VIEW statistics AS
 SELECT (SELECT count(*) AS count
 FROM users) AS total_users, 
 backers_totals.total_backs, backers_totals.total_backers, 
 backers_totals.total_backed, projects_totals.total_projects, 
 projects_totals.total_projects_success, 
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, 
 count(DISTINCT backers.user_id) AS total_backers,
 sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.state <> ALL(ARRAY['pending'::character varying::text, 'canceled'::character varying::text])) backers_totals, 
 ( SELECT count(*) AS total_projects, 
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, 
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;
[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130424173128"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
Migrating to AddRowOrderToRewards (20130426204503)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "rewards" ADD COLUMN "row_order" integer[0m
  [1m[35m (0.7ms)[0m  UPDATE rewards SET row_order = rewards.minimum_value;
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130426204503"]]
  [1m[35m (3.1ms)[0m  COMMIT
Migrating to RenameCategories (20130429142823)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.7ms)[0m  
 UPDATE categories SET name_pt = 'Gastronomia', name_en = 'Gastronomy' WHERE name_pt = 'Comida';
 UPDATE categories SET name_pt = 'Ciência e Tecnologia', name_en = 'Science & Technology' WHERE name_pt = 'Tecnologia';
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130429142823"]]
  [1m[35m (2.7ms)[0m  COMMIT
Migrating to AddNewCategories (20130429144749)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (3.1ms)[0m  
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Mobilidade e Transporte', 'Mobility & Transportation', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Meio Ambiente', 'Environment', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Negócios Sociais', 'Social Business', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Educação', 'Education', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Filmes de Ficção', 'Fiction Films', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Filmes Documentários', 'Documentary Films', now(), now());
 INSERT INTO categories (name_pt, name_en, created_at, updated_at) VALUES ('Filmes Universitários', 'Experimental Films', now(), now());
 
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130429144749"]]
  [1m[35m (10.0ms)[0m  COMMIT
Migrating to MoveProjectsToArtAndRemoveOldCategories (20130429153115)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  
 UPDATE projects SET category_id = (SELECT id FROM categories WHERE name_pt = 'Arte') WHERE category_id = (SELECT id FROM categories WHERE name_pt = 'Feito à mão');
 UPDATE projects SET category_id = (SELECT id FROM categories WHERE name_pt = 'Arte') WHERE category_id = (SELECT id FROM categories WHERE name_pt = 'Graffiti');
 DELETE FROM categories WHERE name_pt = 'Feito à mão';
 DELETE FROM categories WHERE name_pt = 'Graffiti';
 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130429153115"]]
  [1m[35m (2.7ms)[0m  COMMIT
Migrating to AddLayoutToNotificationType (20130430203333)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (227.2ms)[0m  ALTER TABLE "notification_types" ADD COLUMN "layout" text DEFAULT 'email' NOT NULL
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130430203333"]]
  [1m[35m (35.2ms)[0m  COMMIT
Migrating to AddAnonymousToReportsToProjectOwner (20130502175814)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  DROP VIEW "backer_reports_for_project_owners"
  [1m[36m (9.5ms)[0m  [1m
 CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code,
 b.anonymous
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.confirmed;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130502175814"]]
  [1m[36m (47.8ms)[0m  [1mCOMMIT[0m
Migrating to UpdateBackersStateMachine (20130505013655)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.4ms)[0m  [1m update backers b
 set state= 
 (
 case 
 -- when backer is via user credit
 when b.confirmed and b.credits then 'confirmed' 
 -- when backer is confirmed and user not requested refund and not is refunded and credits too
 when b.confirmed and not b.requested_refund and not b.refunded and not b.credits then 'confirmed'
 -- when backer is confirmed and user requested refund but is not refunded yet and not credits
 when b.confirmed and b.requested_refund and not b.refunded and not b.credits then 'requested_refund'
 -- when backer is refunded and not credits
 when b.confirmed and b.refunded and not b.credits then 'refunded'
 -- when backer is not confirmed but user already pass into payment gateway
 when not b.confirmed and b.payment_token is not null and ( 
 case 
 when lower(b.payment_choice) = 'debitobancario' then
 date(current_timestamp) <= date(b.created_at + interval '1 days')
 when lower(b.payment_choice) = 'cartaodecredito' then
 date(current_timestamp) <= date(b.created_at + interval '1 days')
 else
 date(current_timestamp) <= date(b.created_at + interval '5 days')
 end
 ) then 'waiting_confirmation'
 else 'pending'
 end 
 )
[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130505013655"]]
  [1m[36m (20.3ms)[0m  [1mCOMMIT[0m
Migrating to UpdateBackerReportsToProjectOwnerViewToBackerStateMachine (20130506191243)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.7ms)[0m  [1mDROP VIEW "backer_reports_for_project_owners"[0m
  [1m[35m (8.9ms)[0m   CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state = 'confirmed'; 

  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130506191243"]]
  [1m[35m (14.2ms)[0m  COMMIT
Migrating to UpdateBackerReportsToBackerStateMachine (20130506191508)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.8ms)[0m  DROP VIEW "backer_reports"
  [1m[36m (8.8ms)[0m  [1mCREATE VIEW "backer_reports" AS SELECT 
 b.project_id,
 u.name, 
 b.value,
 r.minimum_value,
 r.description,
 b.payment_method,
 b.payment_choice,
 b.payment_service_fee,
 b.key,
 b.created_at::date,
 b.confirmed_at::date,
 u.email,
 b.payer_email,
 b.payer_name,
 coalesce(b.payer_document, u.cpf) as cpf,
 u.address_street,
 u.address_complement,
 u.address_number,
 u.address_neighbourhood,
 u.address_city,
 u.address_state,
 u.address_zip_code,
 b.state
 FROM 
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state = 'confirmed';
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130506191508"]]
  [1m[36m (4.8ms)[0m  [1mCOMMIT[0m
Migrating to AddWaitingConfirmationOnStatisticsView (20130514132519)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (4.5ms)[0m  [1m CREATE OR REPLACE VIEW statistics AS
 SELECT (SELECT count(*) AS count
 FROM users) AS total_users, 
 backers_totals.total_backs, backers_totals.total_backers, 
 backers_totals.total_backed, projects_totals.total_projects, 
 projects_totals.total_projects_success, 
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, 
 count(DISTINCT backers.user_id) AS total_backers,
 sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.state <> ALL(ARRAY['waiting_confirmation'::character varying::text, 'pending'::character varying::text, 'canceled'::character varying::text])) backers_totals, 
 ( SELECT count(*) AS total_projects, 
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, 
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130514132519"]]
  [1m[36m (10.6ms)[0m  [1mCOMMIT[0m
Migrating to DropViews (20130514185010)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (13.7ms)[0m  [1m
DROP VIEW IF EXISTS backers_by_category;
DROP VIEW IF EXISTS backers_by_payment_choice;
DROP VIEW IF EXISTS backers_by_project CASCADE;
DROP VIEW IF EXISTS projects_by_total_backed_ranges;
DROP VIEW IF EXISTS projects_by_year;
DROP VIEW IF EXISTS projects_by_category;
DROP VIEW IF EXISTS projects_by_state;
DROP VIEW IF EXISTS backers_by_state;
DROP VIEW IF EXISTS backers_by_year CASCADE;
DROP VIEW IF EXISTS paypal_pending;
DROP VIEW IF EXISTS project_totals;
DROP VIEW IF EXISTS recurring_backers_by_year;
DROP VIEW IF EXISTS rewards_by_range;
 [0m
  [1m[35m (3.0ms)[0m  CREATE VIEW "project_totals" AS SELECT backers.project_id, sum(backers.value) AS pledged, 
 count(*) AS total_backers
 FROM backers
 WHERE backers.state = 'confirmed'
 GROUP BY backers.project_id;
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130514185010"]]
  [1m[35m (9.6ms)[0m  COMMIT
Migrating to FixProjectOwnerView (20130514185116)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (2.8ms)[0m  DROP VIEW "backer_reports_for_project_owners"
  [1m[36m (7.1ms)[0m  [1m CREATE OR REPLACE VIEW backer_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as back_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code,
 b.anonymous
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state = 'confirmed';
[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130514185116"]]
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
Migrating to RemoveBooleanFieldsFromProjects (20130514185926)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (4.9ms)[0m  [1m
 ALTER TABLE projects DROP IF EXISTS can_finish;
 ALTER TABLE projects DROP IF EXISTS finished;
 ALTER TABLE projects DROP IF EXISTS visible;
 ALTER TABLE projects DROP IF EXISTS rejected;
 ALTER TABLE projects DROP IF EXISTS successful;[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130514185926"]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
Migrating to RemoveBooleanFieldsFromBackers (20130515192404)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (3.5ms)[0m  [1m
 ALTER TABLE backers DROP IF EXISTS confirmed;
 ALTER TABLE backers DROP IF EXISTS requested_refund;
 ALTER TABLE backers DROP IF EXISTS refunded;[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130515192404"]]
  [1m[36m (12.4ms)[0m  [1mCOMMIT[0m
Migrating to FixProjectTotalToUseRefundedAndRequestedRefundToo (20130523144013)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (2.6ms)[0m  [1m CREATE OR REPLACE VIEW project_totals AS
 SELECT backers.project_id, sum(backers.value) AS pledged, count(*) AS total_backers
 FROM backers
 WHERE (backers.state ~* '(confirmed|refunded|requested_refund)')
 GROUP BY backers.project_id;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130523144013"]]
  [1m[36m (10.3ms)[0m  [1mCOMMIT[0m
Migrating to FixProjectTotalAgainSomeRegexError (20130523173609)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.7ms)[0m  [1m CREATE OR REPLACE VIEW project_totals AS
 SELECT backers.project_id, sum(backers.value) AS pledged, count(*) AS total_backers
 FROM backers
 WHERE (backers.state ~* '(confirmed|refunded|requested_refund)$')
 GROUP BY backers.project_id;
[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130523173609"]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Migrating to AddVideoEmbedUrlToProjects (20130527204639)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "video_embed_url" character varying(255)[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130527204639"]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Migrating to UpdateBackersThatAreInRefundedWhenProjectIsOnline (20130529171845)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1m UPDATE backers
 SET state = 'refunded_and_canceled'
 WHERE state = 'refunded_when_project_is_not_finished'
[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130529171845"]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexToPaymentNotificationOnBackerId (20130604171730)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (44.4ms)[0m  [1mCREATE INDEX "index_payment_notifications_on_backer_id" ON "payment_notifications" ("backer_id")[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130604171730"]]
  [1m[36m (14.5ms)[0m  [1mCOMMIT[0m
Migrating to UpdateOnlineDateForLegacyProjects (20130604172253)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.4ms)[0m  [1m UPDATE projects
 SET online_days = 60, online_date = (expires_at - interval '60 days')
 WHERE online_days = 0 AND online_date IS NULL;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130604172253"]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Migrating to RemoveExpiresAtFromViews (20130604175953)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (4.6ms)[0m  [1mCREATE or replace VIEW financial_reports AS
 SELECT p.name, u.moip_login, p.goal, p.online_date + (p.online_days::text||' days')::interval as expires_at, p.state FROM (projects p JOIN users u ON ((u.id = p.user_id)));[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130604175953"]]
  [1m[36m (11.3ms)[0m  [1mCOMMIT[0m
Migrating to RemoveExpiresAtFromProjects (20130604180503)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1m
 ALTER TABLE projects DROP IF EXISTS expires_at;
 [0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130604180503"]]
  [1m[36m (13.5ms)[0m  [1mCOMMIT[0m
Migrating to RemoveImageUrlFromProjects (20130607222330)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1mALTER TABLE projects DROP IF EXISTS image_url;[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130607222330"]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateProjectsChartView (20130617175402)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (9.7ms)[0m  [1mCREATE VIEW "projects_by_periods" AS WITH weeks AS (
 SELECT 
 generate_series * 7 AS days
 FROM generate_series(0, 7)
), 
current_period AS (
SELECT 
 'current_period'::text as series, 
 count(*),
 w.days / 7 as week
FROM 
 projects p 
 RIGHT JOIN weeks w ON p.created_at::date >= (current_date - w.days - 7) AND p.created_at < (current_date - w.days)
GROUP BY week
),
previous_period AS (
SELECT 
 'previous_period'::text as series, 
 count(*),
 w.days / 7 as week
FROM 
 projects p 
 RIGHT JOIN weeks w ON p.created_at::date >= (current_date - w.days - 7 - 56) AND p.created_at < (current_date - w.days - 56)
GROUP BY week
),
last_year AS (
SELECT 
 'last_year'::text as series, 
 count(*),
 w.days / 7 as week
FROM 
 projects p 
 RIGHT JOIN weeks w ON p.created_at::date >= (current_date - w.days - 7 - 365) AND p.created_at < (current_date - w.days - 365)
GROUP BY week
)
(SELECT * FROM current_period)
UNION ALL
(SELECT * FROM previous_period)
UNION ALL
(SELECT * FROM last_year)
ORDER BY series, week;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130617175402"]]
  [1m[36m (5.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateBackersByPeriodView (20130618175432)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (9.7ms)[0m  [1mCREATE VIEW "backers_by_periods" AS WITH weeks AS (
 SELECT 
 generate_series * 7 AS days
 FROM generate_series(0, 7)
), 
current_period AS (
SELECT 
 'current_period'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7) AND b.confirmed_at < (current_date - w.days)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation')
GROUP BY week
),
previous_period AS (
SELECT 
 'previous_period'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7 - 56) AND b.confirmed_at < (current_date - w.days - 56)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation')
GROUP BY week
),
last_year AS (
SELECT 
 'last_year'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7 - 365) AND b.confirmed_at < (current_date - w.days - 365)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation')
GROUP BY week
)
(SELECT * FROM current_period)
UNION ALL
(SELECT * FROM previous_period)
UNION ALL
(SELECT * FROM last_year)
ORDER BY series, week;
[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130618175432"]]
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
Migrating to AddExpiresAtFunction (20130626122439)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1m
 CREATE FUNCTION expires_at(projects) RETURNS timestamp AS $$
 SELECT (($1.online_date + ($1.online_days || ' days')::interval)::date::text || ' 23:59:59')::timestamp
 $$ LANGUAGE SQL;
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130626122439"]]
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
Migrating to DropPaymentLogs (20130626124055)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (3.0ms)[0m  [1mDROP TABLE IF EXISTS payment_logs[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130626124055"]]
  [1m[36m (15.2ms)[0m  [1mCOMMIT[0m
Migrating to UpdateBackersByPeriodViewWithDeletedBackerState (20130702192659)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (2.7ms)[0m  [1mDROP VIEW "backers_by_periods"[0m
  [1m[35m (7.3ms)[0m  CREATE VIEW "backers_by_periods" AS WITH weeks AS (
 SELECT 
 generate_series * 7 AS days
 FROM generate_series(0, 7)
), 
current_period AS (
SELECT 
 'current_period'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7) AND b.confirmed_at < (current_date - w.days)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation', 'deleted')
GROUP BY week
),
previous_period AS (
SELECT 
 'previous_period'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7 - 56) AND b.confirmed_at < (current_date - w.days - 56)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation', 'deleted')
GROUP BY week
),
last_year AS (
SELECT 
 'last_year'::text as series, 
 sum(b.value),
 w.days / 7 as week
FROM 
 backers b 
 RIGHT JOIN weeks w ON b.confirmed_at::date >= (current_date - w.days - 7 - 365) AND b.confirmed_at < (current_date - w.days - 365)
WHERE
 state NOT IN ('pending', 'canceled', 'waiting_confirmation', 'deleted')
GROUP BY week
)
(SELECT * FROM current_period)
UNION ALL
(SELECT * FROM previous_period)
UNION ALL
(SELECT * FROM last_year)
ORDER BY series, week;

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130702192659"]]
  [1m[35m (11.3ms)[0m  COMMIT
Migrating to AddExclusiveToUpdates (20130703171547)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (139.2ms)[0m  ALTER TABLE "updates" ADD COLUMN "exclusive" boolean DEFAULT 'f'
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130703171547"]]
  [1m[35m (15.6ms)[0m  COMMIT
Migrating to ReplaceExpiresAtToIncludeTimezone (20130705131825)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (1.6ms)[0m  
 DROP FUNCTION expires_at(projects);
 CREATE OR REPLACE FUNCTION expires_at(projects) RETURNS timestamptz AS $$
 SELECT (($1.online_date + ($1.online_days || ' days')::interval)::date::text || ' 23:59:59')::timestamp AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo')
 $$ LANGUAGE SQL;
 
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130705131825"]]
  [1m[35m (7.3ms)[0m  COMMIT
Migrating to AlterStatisticsViewAddDeletedBackerState (20130705184845)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (4.5ms)[0m   CREATE OR REPLACE VIEW statistics AS 
 SELECT ( SELECT count(*) AS count
 FROM users) AS total_users, 
 backers_totals.total_backs, backers_totals.total_backers, 
 backers_totals.total_backed, projects_totals.total_projects, 
 projects_totals.total_projects_success, 
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_backs, 
 count(DISTINCT backers.user_id) AS total_backers, 
 sum(backers.value) AS total_backed
 FROM backers
 WHERE backers.state::text <> ALL (ARRAY['waiting_confirmation'::character varying::text, 'pending'::character varying::text, 'canceled'::character varying::text, 'deleted'])) backers_totals, 
 ( SELECT count(*) AS total_projects, 
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success, 
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;

  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130705184845"]]
  [1m[35m (10.6ms)[0m  COMMIT
Migrating to AddDaysToDeliveryIntoRewards (20130710122804)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "rewards" ADD COLUMN "days_to_delivery" integer
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130710122804"]]
  [1m[35m (2.9ms)[0m  COMMIT
Migrating to RemoveLegacyColumnsFromUsers (20130722222945)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "users" DROP "uid"
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "users" DROP "primary_user_id"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "users" DROP "provider"
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130722222945"]]
  [1m[35m (10.3ms)[0m  COMMIT
Migrating to AddTotalPaymentsServiceFeeIntoProjectTotals (20130730232043)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (3.9ms)[0m   DROP VIEW project_totals;
 CREATE OR REPLACE VIEW project_totals AS
 SELECT
 backers.project_id,
 sum(backers.value) AS pledged,
 sum(backers.payment_service_fee) AS total_payment_service_fee,
 count(*) AS total_backers
 FROM backers
 WHERE (backers.state in ('confirmed', 'refunded', 'requested_refund'))
 GROUP BY backers.project_id;

  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130730232043"]]
  [1m[35m (10.8ms)[0m  COMMIT
Migrating to AddTotalBackedProjectsToUserTotal (20130805230126)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (7.6ms)[0m   DROP VIEW user_totals;
 CREATE OR REPLACE VIEW user_totals AS 
 SELECT 
 b.user_id as id,
 b.user_id, 
 count(DISTINCT(b.project_id)) as total_backed_projects,
 sum(b.value) AS sum, 
 count(*) AS count,
 sum(CASE 
 -- I've backed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0 
 -- I've backed a failed project with credits
 WHEN p.state = 'failed' AND b.credits THEN 0
 -- I've backed a failed project with money and asked for refund xor I've backed a failed project with credits
 WHEN p.state = 'failed' AND ((b.state='requested_refund' AND NOT b.credits) OR (b.credits AND NOT b.state='requested_refund')) THEN 0 
 -- I've backed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND b.state = 'confirmed' THEN b.value 
 -- I've backed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM 
 backers b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.state in ('confirmed', 'requested_refund', 'refunded')
 GROUP BY b.user_id;

  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130805230126"]]
  [1m[35m (7.4ms)[0m  COMMIT
Migrating to ShowRefundedOnBackersReport (20130812191450)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  DROP VIEW "backer_reports"
  [1m[36m (9.6ms)[0m  [1mCREATE VIEW "backer_reports" AS SELECT
 b.project_id,
 u.name,
 b.value,
 r.minimum_value,
 r.description,
 b.payment_method,
 b.payment_choice,
 b.payment_service_fee,
 b.key,
 b.created_at::date,
 b.confirmed_at::date,
 u.email,
 b.payer_email,
 b.payer_name,
 coalesce(b.payer_document, u.cpf) as cpf,
 u.address_street,
 u.address_complement,
 u.address_number,
 u.address_neighbourhood,
 u.address_city,
 u.address_state,
 u.address_zip_code,
 b.state
 FROM
 backers b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state IN ('confirmed', 'refunded', 'requested_refund');
[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130812191450"]]
  [1m[36m (55.7ms)[0m  [1mCOMMIT[0m
Migrating to AlterTimestampToIncludeTimezone (20130814174329)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (527.1ms)[0m  [1m
 DROP FUNCTION if exists expires_at(projects);
 drop VIEW if exists financial_reports ;
 ALTER TABLE projects ALTER COLUMN online_date set data type timestamp with time zone;
 CREATE OR REPLACE FUNCTION expires_at(projects) RETURNS timestamptz AS $$
 SELECT (($1.online_date AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo') + ($1.online_days || ' days')::interval)::date::text || ' 23:59:59')::timestamptz
 $$ LANGUAGE SQL;
 CREATE or replace VIEW financial_reports AS
 SELECT p.name, u.moip_login, p.goal, ((p.online_date + (p.online_days||' days')::interval)::date::text || ' 23:59:59') as expires_at, p.state FROM (projects p JOIN users u ON ((u.id = p.user_id)));
 [0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130814174329"]]
  [1m[36m (17.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateRecommendationsView (20130815161926)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (15.9ms)[0m  [1m
 CREATE OR REPLACE VIEW recommendations AS
 SELECT * FROM ((
 SELECT
 b.user_id,
 recommendations.id AS project_id,
 count(distinct recommenders.user_id) AS count
 FROM
 backers b
 JOIN projects p ON p.id = b.project_id
 JOIN backers backers_same_projects ON p.id = backers_same_projects.project_id
 JOIN backers recommenders ON recommenders.user_id = backers_same_projects.user_id
 JOIN projects recommendations ON recommendations.id = recommenders.project_id
 WHERE
 b.state = 'confirmed'
 AND backers_same_projects.state = 'confirmed'
 AND recommenders.state = 'confirmed'
 AND b.user_id <> backers_same_projects.user_id
 AND recommendations.id <> b.project_id
 AND recommendations.state = 'online'
 and NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = b.user_id
 AND b2.project_id = recommendations.id
 )
 GROUP BY 
 b.user_id, recommendations.id
 )
 UNION
 (
 SELECT 
 b.user_id,
 recommendations.id AS project_id,
 0 AS count
 FROM
 backers b
 JOIN projects p ON b.project_id = p.id
 JOIN projects recommendations ON recommendations.category_id = p.category_id
 WHERE
 b.state = 'confirmed'
 ))
 recommendations
 where 
 NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = recommendations.user_id
 AND b2.project_id = recommendations.project_id
 )
 ORDER BY count DESC
 [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130815161926"]]
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
Migrating to AddProjectsHomeView (20130818015857)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (14.7ms)[0m  [1m CREATE OR REPLACE VIEW projects_for_home AS
 with recommended_projects as (
 select 'recommended'::text as origin, recommends.* from projects recommends
 where recommends.recommended and recommends.state = 'online' order by random() limit 3
 ),
 recents_projects as (
 select 'recents'::text as origin, recents.* from projects recents
 where recents.state = 'online'
 and ((current_timestamp - recents.online_date) <= '5 days'::interval)
 and recents.id not in(
 select recommends.id from recommended_projects recommends
 )
 order by random() limit 3
 ),
 expiring_projects as (
 select 'expiring'::text as origin, expiring.* from projects expiring
 where expiring.state = 'online'
 and ((expiring.expires_at) <= ((current_timestamp) + interval '2 weeks'))
 and expiring.id not in(
 (select recommends.id from recommended_projects recommends)
 union (select recents.id from recents_projects recents)
 )
 order by random() limit 3
 )

 (select * from recommended_projects) union (select * from recents_projects) union (select * from expiring_projects)

[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130818015857"]]
  [1m[36m (34.1ms)[0m  [1mCOMMIT[0m
Migrating to FixCreditsIntoUserTotalsView (20130822215532)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (5.6ms)[0m  [1m DROP VIEW user_totals;
 CREATE OR REPLACE VIEW user_totals AS
 SELECT
 b.user_id as id,
 b.user_id,
 count(DISTINCT(b.project_id)) as total_backed_projects,
 sum(b.value) AS sum,
 count(*) AS count,
 sum(CASE
 -- I've backed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0

 -- I've backed a failed project with credits
 WHEN p.state = 'failed' AND b.credits THEN 0

 -- I've backed a failed project with money and asked for refund xor I've backed a failed project with credits
 WHEN p.state = 'failed' AND ((b.state IN('requested_refund', 'refunded') AND NOT b.credits) OR (b.credits AND NOT b.state IN('requested_refund', 'refunded') )) THEN 0

 -- I've backed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND b.state = 'confirmed' THEN b.value

 -- I've backed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM
 backers b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.state in ('confirmed', 'requested_refund', 'refunded')
 GROUP BY b.user_id;
[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130822215532"]]
  [1m[36m (9.7ms)[0m  [1mCOMMIT[0m
Migrating to RevertExpiresAt (20130827210414)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1m
 CREATE OR REPLACE FUNCTION expires_at(projects) RETURNS timestamptz AS $$
 SELECT (((($1.online_date AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo') + ($1.online_days || ' days')::interval) )::date::text || ' 23:59:59-03')::timestamptz )
 $$ LANGUAGE SQL;
 [0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130827210414"]]
  [1m[36m (13.3ms)[0m  [1mCOMMIT[0m
Migrating to UseExpiresAtInView (20130828160026)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (6.0ms)[0m  [1m
 DROP VIEW if exists financial_reports ;
 CREATE or replace VIEW financial_reports AS
 SELECT p.name, u.moip_login, p.goal, p.expires_at, p.state FROM (projects p JOIN users u ON ((u.id = p.user_id)));[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130828160026"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
Migrating to UseTimezoneInsteadOfHardcoded3 (20130829180232)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1m
 CREATE OR REPLACE FUNCTION expires_at(projects) RETURNS timestamptz AS $$
 SELECT ((((($1.online_date AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo') + ($1.online_days || ' days')::interval) )::date::text || ' 23:59:59')::timestamp AT TIME ZONE coalesce((SELECT value FROM configurations WHERE name = 'timezone'), 'America/Sao_Paulo'))::timestamptz ) 
 $$ LANGUAGE SQL;
 [0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20130829180232"]]
  [1m[36m (12.9ms)[0m  [1mCOMMIT[0m
Migrating to AddSessionsTable (20130905153553)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (1.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'sessions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (117.7ms)[0m  CREATE TABLE "sessions" ("id" serial primary key, "session_id" character varying(255) NOT NULL, "data" text, "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (43.8ms)[0m  [1mCREATE INDEX "index_sessions_on_session_id" ON "sessions" ("session_id")[0m
  [1m[35m (66.7ms)[0m  CREATE INDEX "index_sessions_on_updated_at" ON "sessions" ("updated_at")
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130905153553"]]
  [1m[35m (6.3ms)[0m  COMMIT
Migrating to CreateSubscriberReports (20130911180657)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (3.7ms)[0m  CREATE VIEW "subscriber_reports" AS SELECT u.id, cs.channel_id, u.name, u.email
 FROM users u JOIN channels_subscribers cs ON cs.user_id = u.id
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130911180657"]]
  [1m[35m (11.0ms)[0m  COMMIT
Migrating to FixProjectStateInRecommendationsView (20130918191809)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (14.3ms)[0m  
 CREATE OR REPLACE VIEW recommendations AS
 SELECT * FROM ((
 SELECT
 b.user_id,
 recommendations.id AS project_id,
 count(distinct recommenders.user_id) AS count
 FROM
 backers b
 JOIN projects p ON p.id = b.project_id
 JOIN backers backers_same_projects ON p.id = backers_same_projects.project_id
 JOIN backers recommenders ON recommenders.user_id = backers_same_projects.user_id
 JOIN projects recommendations ON recommendations.id = recommenders.project_id
 WHERE
 b.state = 'confirmed'
 AND backers_same_projects.state = 'confirmed'
 AND recommenders.state = 'confirmed'
 AND b.user_id <> backers_same_projects.user_id
 AND recommendations.id <> b.project_id
 AND recommendations.state = 'online'
 and NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = b.user_id
 AND b2.project_id = recommendations.id
 )
 GROUP BY 
 b.user_id, recommendations.id
 )
 UNION
 (
 SELECT 
 b.user_id,
 recommendations.id AS project_id,
 0 AS count
 FROM
 backers b
 JOIN projects p ON b.project_id = p.id
 JOIN projects recommendations ON recommendations.category_id = p.category_id
 WHERE
 b.state = 'confirmed'
 AND recommendations.state = 'online'
 ))
 recommendations
 where 
 NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = recommendations.user_id
 AND b2.project_id = recommendations.project_id
 )
 ORDER BY count DESC
 
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130918191809"]]
  [1m[35m (10.5ms)[0m  COMMIT
Migrating to AddVideoUrlToChannels (20130926185207)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "channels" ADD COLUMN "video_url" character varying(255)
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20130926185207"]]
  [1m[35m (10.5ms)[0m  COMMIT
Migrating to AddHowItWorksToChannels (20131008190648)
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "channels" ADD COLUMN "how_it_works" text
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131008190648"]]
  [1m[35m (10.1ms)[0m  COMMIT
Migrating to AddChannelIdToUser (20131010193936)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "users" ADD COLUMN "channel_id" integer
  [1m[36m (1.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
  [1m[35mColumns for index index_users_on_name on users (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
  [1m[35m (52.0ms)[0m  CREATE INDEX "fk__users_channel_id" ON "users" ("channel_id")
  [1m[36m (3.6ms)[0m  [1mALTER TABLE "users" ADD CONSTRAINT fk_users_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id")[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010193936"]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
Migrating to UpdateUsersChannelId (20131010194006)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (2.4ms)[0m  [1mUPDATE users SET channel_id = (SELECT channel_id FROM channels_trustees ct WHERE ct.user_id = users.id) WHERE id IN (SELECT user_id FROM channels_trustees)[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010194006"]]
  [1m[36m (11.5ms)[0m  [1mCOMMIT[0m
Migrating to DropChannelsTrustees (20131010194345)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (4.7ms)[0m  [1mDROP TABLE "channels_trustees"[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010194345"]]
  [1m[36m (13.9ms)[0m  [1mCOMMIT[0m
Migrating to DropProjectsCuratedPages (20131010194500)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (2.5ms)[0m  [1mDROP TABLE "projects_curated_pages"[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010194500"]]
  [1m[36m (10.6ms)[0m  [1mCOMMIT[0m
Migrating to DropRewardRanges (20131010194521)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1mDROP TABLE "reward_ranges"[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131010194521"]]
  [1m[36m (16.2ms)[0m  [1mCOMMIT[0m
Migrating to FixDuplicatedEntriesInRecommendations (20131014201229)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (15.7ms)[0m  [1m
 CREATE OR REPLACE VIEW recommendations AS
 SELECT user_id, project_id, sum(count)::bigint as count FROM ((
 SELECT
 b.user_id,
 recommendations.id AS project_id,
 count(distinct recommenders.user_id) AS count
 FROM
 backers b
 JOIN projects p ON p.id = b.project_id
 JOIN backers backers_same_projects ON p.id = backers_same_projects.project_id
 JOIN backers recommenders ON recommenders.user_id = backers_same_projects.user_id
 JOIN projects recommendations ON recommendations.id = recommenders.project_id
 WHERE
 b.state = 'confirmed'
 AND backers_same_projects.state = 'confirmed'
 AND recommenders.state = 'confirmed'
 AND b.user_id <> backers_same_projects.user_id
 AND recommendations.id <> b.project_id
 AND recommendations.state = 'online'
 and NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = b.user_id
 AND b2.project_id = recommendations.id
 )
 GROUP BY 
 b.user_id, recommendations.id
 )
 UNION
 (
 SELECT 
 b.user_id,
 recommendations.id AS project_id,
 0 AS count
 FROM
 backers b
 JOIN projects p ON b.project_id = p.id
 JOIN projects recommendations ON recommendations.category_id = p.category_id
 WHERE
 b.state = 'confirmed'
 AND recommendations.state = 'online'
 ))
 recommendations
 where 
 NOT EXISTS (
 SELECT true
 FROM backers b2
 WHERE 
 b2.state = 'confirmed'
 AND b2.user_id = recommendations.user_id
 AND b2.project_id = recommendations.project_id
 )
 GROUP BY user_id, project_id
 ORDER BY count DESC
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131014201229"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
Migrating to RemoveSessionsTable (20131016193346)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1mDROP TABLE "sessions"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131016193346"]]
  [1m[36m (18.4ms)[0m  [1mCOMMIT[0m
Migrating to AddHowItWorksHtmlToChannels (20131016214955)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "channels" ADD COLUMN "how_it_works_html" text[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131016214955"]]
  [1m[36m (7.6ms)[0m  [1mCOMMIT[0m
Migrating to ChangeVarcharToTextInChannels (20131016231130)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (55.4ms)[0m  [1m
 ALTER TABLE channels ALTER name TYPE text;
 ALTER TABLE channels ALTER description TYPE text;
 ALTER TABLE channels ALTER description SET NOT NULL;
 ALTER TABLE channels ALTER permalink TYPE text;
 ALTER TABLE channels ALTER permalink SET NOT NULL;
 ALTER TABLE channels ALTER twitter TYPE text;
 ALTER TABLE channels ALTER facebook TYPE text;
 ALTER TABLE channels ALTER email TYPE text;
 ALTER TABLE channels ALTER image TYPE text;
 ALTER TABLE channels ALTER website TYPE text;
 ALTER TABLE channels ALTER video_url TYPE text;
 [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131016231130"]]
  [1m[36m (17.1ms)[0m  [1mCOMMIT[0m
Migrating to AddReferalLinkIntoProjects (20131018170211)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "referal_link" text[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131018170211"]]
  [1m[36m (11.9ms)[0m  [1mCOMMIT[0m
Migrating to AddTermsUrlToChannels (20131020215932)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mALTER TABLE "channels" ADD COLUMN "terms_url" character varying(255)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131020215932"]]
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
Migrating to AddProgressToProjectTotals (20131021190108)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (6.2ms)[0m  [1m DROP VIEW project_totals;
 CREATE OR REPLACE VIEW project_totals AS
 SELECT
 backers.project_id,
 sum(backers.value) AS pledged,
 (sum(backers.value)/projects.goal)*100 as progress,
 sum(backers.payment_service_fee) AS total_payment_service_fee,
 count(*) AS total_backers
 FROM backers
 JOIN projects ON backers.project_id = projects.id
 WHERE (backers.state in ('confirmed', 'refunded', 'requested_refund'))
 GROUP BY backers.project_id, projects.goal;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131021190108"]]
  [1m[36m (10.0ms)[0m  [1mCOMMIT[0m
Migrating to AddProjectFinancialsView (20131022154220)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (11.9ms)[0m  [1m
 create or replace view project_financials as
 with catarse_fee_percentage as (
 select
 c.value::numeric as total,
 (1 - c.value::numeric) as complement
 from configurations c
 where c.name = 'catarse_fee'
 ), catarse_base_url as (
 select c.value from configurations c where c.name = 'base_url'
 )

 select
 p.id as project_id,
 p.name as name,
 u.moip_login as moip,
 p.goal as goal,
 pt.pledged as reached,
 pt.total_payment_service_fee as moip_tax,
 cp.total * pt.pledged as catarse_fee,
 pt.pledged * cp.complement as repass_value,
 to_char(p.expires_at, 'dd/mm/yyyy') as expires_at,
 catarse_base_url.value||'/admin/reports/backer_reports.csv?project_id='||p.id as backer_report,
 p.state as state
 from projects p
 join users u on u.id = p.user_id
 join project_totals pt on pt.project_id = p.id
 cross join catarse_fee_percentage cp
 cross join catarse_base_url
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131022154220"]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
Migrating to AddFunctionCanCancelToBackers (20131023031539)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.1ms)[0m  [1m
 create function can_cancel(backers) returns boolean as $$
 select
 $1.state = 'waiting_confirmation' and
 (
 ((
 select count(1) as total_of_days
 from generate_series($1.created_at::date, current_date, '1 day') day
 WHERE extract(dow from day) not in (0,1)
 ) > 4)
 OR
 (
 lower($1.payment_choice) = lower('DebitoBancario')
 AND
 (
 select count(1) as total_of_days
 from generate_series($1.created_at::date, current_date, '1 day') day
 WHERE extract(dow from day) not in (0,1)
 ) > 1)
 )
 $$ language sql
 [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131023031539"]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
Migrating to AddCanRefundFunctionToBackers (20131023032325)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1m
 create function can_refund(backers) returns boolean as $$
 select
 $1.state IN('confirmed', 'requested_refund', 'refunded') AND
 NOT $1.credits AND
 EXISTS(
 SELECT true
 FROM projects p
 WHERE p.id = $1.project_id and p.state = 'failed'
 )
 $$ language sql
 [0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131023032325"]]
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
Migrating to AddOriginEmailToNotifications (20131107143439)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (53.9ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "origin_email" text[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131107143439"]]
  [1m[36m (14.7ms)[0m  [1mCOMMIT[0m
Migrating to AddOriginNameToNotifications (20131107143512)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "origin_name" text[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131107143512"]]
  [1m[36m (33.6ms)[0m  [1mCOMMIT[0m
Migrating to AddTemplateNameToNotifications (20131107143537)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "template_name" text[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131107143537"]]
  [1m[36m (44.6ms)[0m  [1mCOMMIT[0m
Migrating to AddLocaleToNotifications (20131107143832)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "locale" text[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131107143832"]]
  [1m[36m (27.2ms)[0m  [1mCOMMIT[0m
Migrating to SetNotificationDefaultsAndNotNull (20131107145351)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (2.2ms)[0m  [1m
 UPDATE notifications SET origin_name = (SELECT value FROM configurations c WHERE c.name = 'company_name');
 ALTER TABLE notifications ALTER origin_name SET NOT NULL;
 [0m
  [1m[35m (1.7ms)[0m  
 UPDATE notifications SET origin_email = (SELECT value FROM configurations c WHERE c.name = 'email_contact');
 ALTER TABLE notifications ALTER origin_email SET NOT NULL;
 
  [1m[36m (2.1ms)[0m  [1m
 UPDATE notifications SET template_name = (SELECT name FROM notification_types nt WHERE nt.id = notifications.notification_type_id);
 ALTER TABLE notifications ALTER template_name SET NOT NULL;
 [0m
  [1m[35m (2.0ms)[0m  
 UPDATE notifications SET locale = (SELECT locale FROM users u WHERE u.id = notifications.user_id);
 ALTER TABLE notifications ALTER locale SET NOT NULL;
 
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131107145351"]]
  [1m[35m (3.9ms)[0m  COMMIT
Migrating to RemoveNotificationTypes (20131107161918)
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35m (3.0ms)[0m  ALTER TABLE "unsubscribes" DROP "notification_type_id"
  [1m[36m (2.3ms)[0m  [1mALTER TABLE "notifications" DROP "notification_type_id"[0m
  [1m[35m (3.6ms)[0m  DROP TABLE "notification_types"
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131107161918"]]
  [1m[35m (9.7ms)[0m  COMMIT
Migrating to AddReferalLinkOnBackers (20131112113608)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "backers" ADD COLUMN "referal_link" text
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131112113608"]]
  [1m[35m (6.7ms)[0m  COMMIT
Migrating to AddChannelIdToNotifications (20131113145601)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "notifications" ADD COLUMN "channel_id" integer
  [1m[36m (2.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35m (54.8ms)[0m  CREATE INDEX "fk__notifications_channel_id" ON "notifications" ("channel_id")
  [1m[36m (3.5ms)[0m  [1mALTER TABLE "notifications" ADD CONSTRAINT fk_notifications_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id")[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131113145601"]]
  [1m[36m (32.9ms)[0m  [1mCOMMIT[0m
Migrating to AddSentToAnalysisAtToProjects (20131114154112)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "sent_to_analysis_at" timestamp[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131114154112"]]
  [1m[36m (86.8ms)[0m  [1mCOMMIT[0m
Migrating to MakeAuthorizationsUniqueOnUserAndOauthProvider (20131127132159)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (1.7ms)[0m  [1mDELETE FROM authorizations WHERE user_id IN (SELECT user_id FROM authorizations GROUP BY user_id HAVING count(*) > 1)[0m
  [1m[35m (87.4ms)[0m  CREATE UNIQUE INDEX "index_authorizations_on_oauth_provider_id_and_user_id" ON "authorizations" ("oauth_provider_id", "user_id")
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20131127132159"]]
  [1m[35m (27.1ms)[0m  COMMIT
Migrating to AddAuditedUserToProjects (20131128142533)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "projects" ADD COLUMN "audited_user_name" text
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "audited_user_cpf" text[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "projects" ADD COLUMN "audited_user_moip_login" text
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "projects" ADD COLUMN "audited_user_phone_number" text[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131128142533"]]
  [1m[36m (51.8ms)[0m  [1mCOMMIT[0m
Migrating to AddIndexesToNotifications (20131230171126)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (78.2ms)[0m  [1mCREATE INDEX "index_notifications_on_user_id_and_template_name" ON "notifications" ("user_id", "template_name")[0m
  [1m[35m (45.3ms)[0m  CREATE INDEX "index_notifications_on_backer_id_and_template_name" ON "notifications" ("backer_id", "template_name")
  [1m[36m (76.5ms)[0m  [1mCREATE INDEX "index_notifications_on_project_id_and_template_name" ON "notifications" ("project_id", "template_name")[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131230171126"]]
  [1m[36m (24.0ms)[0m  [1mCOMMIT[0m
Migrating to FixPermalinkUniqueIndexToBeCaseInsensitive (20131230172840)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (5.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (3.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35m (1.6ms)[0m  DROP INDEX "index_projects_on_permalink"
  [1m[36m (67.8ms)[0m  [1mCREATE UNIQUE INDEX index_projects_on_permalink ON projects (lower(permalink))[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20131230172840"]]
  [1m[36m (7.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateChannelPosts (20140102125037)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (2.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channel_posts'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (1.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channel_posts'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (122.5ms)[0m  [1mCREATE TABLE "channel_posts" ("id" serial primary key, "title" text NOT NULL, "body" text NOT NULL, "body_html" text NOT NULL, "channel_id" integer NOT NULL, "user_id" integer NOT NULL, "visible" boolean DEFAULT 'f' NOT NULL, "created_at" timestamp, "updated_at" timestamp, CONSTRAINT fk_channel_posts_channel_id FOREIGN KEY ("channel_id") REFERENCES "channels" ("id"), CONSTRAINT fk_channel_posts_user_id FOREIGN KEY ("user_id") REFERENCES "users" ("id")) [0m
  [1m[35m (52.5ms)[0m  CREATE INDEX "fk__channel_posts_channel_id" ON "channel_posts" ("channel_id")
  [1m[36m (44.5ms)[0m  [1mCREATE INDEX "index_channel_posts_on_channel_id" ON "channel_posts" ("channel_id")[0m
  [1m[35m (44.2ms)[0m  CREATE INDEX "fk__channel_posts_user_id" ON "channel_posts" ("user_id")
  [1m[36m (55.5ms)[0m  [1mCREATE INDEX "index_channel_posts_on_user_id" ON "channel_posts" ("user_id")[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140102125037"]]
  [1m[36m (18.5ms)[0m  [1mCOMMIT[0m
Migrating to AddChannelPostOnNotification (20140115110512)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "notifications" ADD COLUMN "channel_post_id" integer[0m
  [1m[35m (2.2ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'notifications'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_backer_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36m (43.8ms)[0m  [1mCREATE INDEX "fk__notifications_channel_post_id" ON "notifications" ("channel_post_id")[0m
  [1m[35m (3.6ms)[0m  ALTER TABLE "notifications" ADD CONSTRAINT fk_notifications_channel_post_id FOREIGN KEY ("channel_post_id") REFERENCES "channel_posts" ("id")
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140115110512"]]
  [1m[35m (13.3ms)[0m  COMMIT
Migrating to AddVideoEmbedUrlIntoChannels (20140117115326)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "channels" ADD COLUMN "video_embed_url" text
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140117115326"]]
  [1m[35m (13.3ms)[0m  COMMIT
Migrating to RenameBackerToContribution (20140120195335)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "backers" RENAME TO "contributions"
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "backers_id_seq" RENAME TO "contributions_id_seq"[0m
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_backers_on_key on contributions (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_backers_on_project_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_backers_on_reward_id on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_backers_on_user_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36m (0.6ms)[0m  [1mALTER INDEX "index_backers_on_key" RENAME TO "index_contributions_on_key"[0m
  [1m[35m (0.5ms)[0m  ALTER INDEX "index_backers_on_project_id" RENAME TO "index_contributions_on_project_id"
  [1m[36m (0.6ms)[0m  [1mALTER INDEX "index_backers_on_reward_id" RENAME TO "index_contributions_on_reward_id"[0m
  [1m[35m (0.5ms)[0m  ALTER INDEX "index_backers_on_user_id" RENAME TO "index_contributions_on_user_id"
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35m (1.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "contributions" DROP CONSTRAINT backers_project_id_reference
  [1m[36m (3.9ms)[0m  [1mALTER TABLE "contributions" ADD CONSTRAINT contributions_project_id_reference FOREIGN KEY ("project_id") REFERENCES "projects" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION[0m
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36m (1.5ms)[0m  [1mALTER TABLE "contributions" DROP CONSTRAINT backers_reward_id_reference[0m
  [1m[35m (2.9ms)[0m  ALTER TABLE "contributions" ADD CONSTRAINT contributions_reward_id_reference FOREIGN KEY ("reward_id") REFERENCES "rewards" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION
  [1m[36m (3.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "contributions" DROP CONSTRAINT backers_user_id_reference
  [1m[36m (3.1ms)[0m  [1mALTER TABLE "contributions" ADD CONSTRAINT contributions_user_id_reference FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140120195335"]]
  [1m[36m (46.1ms)[0m  [1mCOMMIT[0m
Migrating to RenameBackerAssociations (20140120201216)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "notifications" RENAME COLUMN "backer_id" TO "contribution_id"[0m
  [1m[35m (5.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_backer_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36m (0.6ms)[0m  [1mALTER INDEX "index_notifications_on_backer_id_and_template_name" RENAME TO "index_notifications_on_contribution_id_and_template_name"[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "payment_notifications" RENAME COLUMN "backer_id" TO "contribution_id"
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_payment_notifications_on_backer_id on payment_notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18453

  [1m[36m (0.7ms)[0m  [1mALTER INDEX "index_payment_notifications_on_backer_id" RENAME TO "index_payment_notifications_on_contribution_id"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "rewards" RENAME COLUMN "maximum_backers" TO "maximum_contributions"
  [1m[36m (3.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_rewards_on_project_id on rewards (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18525

  [1m[36m (0.8ms)[0m  [1mALTER TABLE "projects" RENAME COLUMN "first_backers" TO "first_contributions"[0m
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_permalink on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140120201216"]]
  [1m[35m (13.0ms)[0m  COMMIT
Migrating to MigrateProjectTotalsAndProjectFinancialsViewBackerToContribution (20140121114718)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (8.7ms)[0m   DROP VIEW project_financials;
 DROP VIEW project_totals;
 CREATE OR REPLACE VIEW project_totals AS
 SELECT
 contributions.project_id,
 sum(contributions.value) AS pledged,
 (sum(contributions.value)/projects.goal)*100 as progress,
 sum(contributions.payment_service_fee) AS total_payment_service_fee,
 count(*) AS total_contributions
 FROM contributions
 JOIN projects ON contributions.project_id = projects.id
 WHERE (contributions.state in ('confirmed', 'refunded', 'requested_refund'))
 GROUP BY contributions.project_id, projects.goal;

  [1m[36m (8.2ms)[0m  [1m CREATE OR REPLACE VIEW project_financials AS
 with catarse_fee_percentage as (
 select
 c.value::numeric as total,
 (1 - c.value::numeric) as complement
 from configurations c
 where c.name = 'catarse_fee'
 ), catarse_base_url as (
 select c.value from configurations c where c.name = 'base_url'
 )

 select
 p.id as project_id,
 p.name as name,
 u.moip_login as moip,
 p.goal as goal,
 pt.pledged as reached,
 pt.total_payment_service_fee as moip_tax,
 cp.total * pt.pledged as catarse_fee,
 pt.pledged * cp.complement as repass_value,
 to_char(p.expires_at, 'dd/mm/yyyy') as expires_at,
 catarse_base_url.value||'/admin/reports/contribution_reports.csv?project_id='||p.id as contribution_report,
 p.state as state
 from projects p
 join users u on u.id = p.user_id
 join project_totals pt on pt.project_id = p.id
 cross join catarse_fee_percentage cp
 cross join catarse_base_url;
[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121114718"]]
  [1m[36m (10.0ms)[0m  [1mCOMMIT[0m
Migrating to MigrateStatisticsViewToContributions (20140121124230)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (6.7ms)[0m  [1m DROP VIEW statistics;
 CREATE OR REPLACE VIEW statistics AS
 SELECT ( SELECT count(*) AS count
 FROM users) AS total_users,
 contributions_totals.total_contributions, contributions_totals.total_contributors,
 contributions_totals.total_contributed, projects_totals.total_projects,
 projects_totals.total_projects_success,
 projects_totals.total_projects_online
 FROM ( SELECT count(*) AS total_contributions,
 count(DISTINCT contributions.user_id) AS total_contributors,
 sum(contributions.value) AS total_contributed
 FROM contributions
 WHERE contributions.state::text <> ALL (ARRAY['waiting_confirmation'::character varying::text, 'pending'::character varying::text, 'canceled'::character varying::text, 'deleted'])) contributions_totals,
 ( SELECT count(*) AS total_projects,
 count(
 CASE
 WHEN projects.state::text = 'successful'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_success,
 count(
 CASE
 WHEN projects.state::text = 'online'::text THEN 1
 ELSE NULL::integer
 END) AS total_projects_online
 FROM projects
 WHERE projects.state::text <> ALL (ARRAY['draft'::character varying::text, 'rejected'::character varying::text])) projects_totals;
[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121124230"]]
  [1m[36m (10.2ms)[0m  [1mCOMMIT[0m
Migrating to RenameBackerReportsToContributionReports (20140121124646)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1mALTER VIEW backer_reports RENAME TO contribution_reports[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121124646"]]
  [1m[36m (12.8ms)[0m  [1mCOMMIT[0m
Migrating to RenameBackerReportsForProjectOwnersToContributionReportsForProjectOwners (20140121124840)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (2.0ms)[0m  [1mALTER VIEW backer_reports_for_project_owners RENAME TO contribution_reports_for_project_owners[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121124840"]]
  [1m[36m (11.2ms)[0m  [1mCOMMIT[0m
Migrating to RenameBackersByPeriodsToContributionsByPeriods (20140121125256)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1mALTER VIEW backers_by_periods RENAME TO contributions_by_periods[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121125256"]]
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
Migrating to MigrateNotificationsTemplateNameToContribution (20140121130341)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1mUPDATE notifications SET template_name = CASE template_name WHEN 'backer_confirmed_after_project_was_closed' THEN 'contribution_confirmed_after_project_was_closed' WHEN 'backer_project_successful' THEN 'contribution_project_successful' WHEN 'backer_project_unsuccessful' THEN 'contribution_project_unsuccessful' WHEN 'confirm_backer' THEN 'confirm_contribution' WHEN 'pending_backer_project_unsuccessful' THEN 'pending_contribution_project_unsuccessful' WHEN 'project_owner_backer_confirmed' THEN 'project_owner_contribution_confirmed' WHEN 'backer_canceled_after_confirmed' THEN 'contribution_canceled_after_confirmed' END WHERE template_name IN ('backer_confirmed_after_project_was_closed','backer_project_successful','backer_project_unsuccessful','confirm_backer','pending_backer_project_unsuccessful','project_owner_backer_confirmed','backer_canceled_after_confirmed')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121130341"]]
  [1m[36m (11.6ms)[0m  [1mCOMMIT[0m
Migrating to MigrateUserTotalViewToContributions (20140121171044)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (9.1ms)[0m  [1m DROP VIEW user_totals;
 CREATE OR REPLACE VIEW user_totals AS
 SELECT
 b.user_id as id,
 b.user_id,
 count(DISTINCT(b.project_id)) as total_contributed_projects,
 sum(b.value) AS sum,
 count(*) AS count,
 sum(CASE
 -- I've contributed a successful (or unfinished) project with money
 WHEN (p.state <> 'failed') AND NOT b.credits THEN 0

 -- I've contributed a failed project with credits
 WHEN p.state = 'failed' AND b.credits THEN 0

 -- I've contributed a failed project with money and asked for refund xor I've contributed a failed project with credits
 WHEN p.state = 'failed' AND ((b.state IN('requested_refund', 'refunded') AND NOT b.credits) OR (b.credits AND NOT b.state IN('requested_refund', 'refunded') )) THEN 0

 -- I've contributed a failed project with money and did not ask for refund
 WHEN p.state = 'failed' AND NOT b.credits AND b.state = 'confirmed' THEN b.value

 -- I've contributed a successful project with credits
 ELSE b.value * (-1)::numeric
 END) AS credits
 FROM
 contributions b
 JOIN projects p ON (b.project_id = p.id)
 WHERE b.state in ('confirmed', 'requested_refund', 'refunded')
 GROUP BY b.user_id;
[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140121171044"]]
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
Migrating to AddedPublishedAtIntoPosts (20140207160934)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "channel_posts" ADD COLUMN "published_at" timestamp[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140207160934"]]
  [1m[36m (12.5ms)[0m  [1mCOMMIT[0m
Migrating to ChangeToContributionIntoContributionReportsForProjectOwners (20140210233516)
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[36m (2.3ms)[0m  [1mDROP VIEW "contribution_reports_for_project_owners"[0m
  [1m[35m (9.6ms)[0m   CREATE OR REPLACE VIEW contribution_reports_for_project_owners AS
 SELECT
 b.project_id,
 coalesce(r.id, 0) as reward_id,
 r.description as reward_description,
 b.confirmed_at::date,
 b.value as contribution_value,
 (b.value* (SELECT value::numeric FROM configurations WHERE name = 'catarse_fee') ) as service_fee,
 u.email as user_email,
 u.name as user_name,
 b.payer_email as payer_email,
 b.payment_method,
 b.anonymous,
 coalesce(b.address_street, u.address_street) as street,
 coalesce(b.address_complement, u.address_complement) as complement,
 coalesce(b.address_number, u.address_number) as address_number,
 coalesce(b.address_neighbourhood, u.address_neighbourhood) as neighbourhood,
 coalesce(b.address_city, u.address_city) as city,
 coalesce(b.address_state, u.address_state) as state,
 coalesce(b.address_zip_code, u.address_zip_code) as zip_code
 FROM
 contributions b
 JOIN users u ON u.id = b.user_id
 LEFT JOIN rewards r ON r.id = b.reward_id
 WHERE
 b.state = 'confirmed';

  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140210233516"]]
  [1m[35m (11.7ms)[0m  COMMIT
Migrating to AddSentToDraftAtToProjects (20140219192513)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "projects" ADD COLUMN "sent_to_draft_at" timestamp
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140219192513"]]
  [1m[35m (12.4ms)[0m  COMMIT
Migrating to AddRejectedAtToProjects (20140219192658)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "projects" ADD COLUMN "rejected_at" timestamp
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140219192658"]]
  [1m[35m (2.6ms)[0m  COMMIT
Migrating to FixMissingRejectedAt (20140310200601)
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35m (1.4ms)[0m  
 UPDATE projects SET rejected_at = updated_at WHERE rejected_at IS NULL AND state = 'rejected';
 
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140310200601"]]
  [1m[35m (12.4ms)[0m  COMMIT
Migrating to FixMissingSentToAnalysisAt (20140310201238)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  
 UPDATE projects SET sent_to_analysis_at = created_at WHERE sent_to_analysis_at IS NULL AND state <> 'draft';
 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140310201238"]]
  [1m[35m (3.2ms)[0m  COMMIT
Migrating to CreateProjectsInAnalysisByPeriods (20140319121007)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (8.8ms)[0m  CREATE VIEW "projects_in_analysis_by_periods" AS WITH weeks AS (
 SELECT
 generate_series * 7 AS days
 FROM generate_series(0, 7)
),
current_period AS (
SELECT
 'current_period'::text as series,
 count(*),
 w.days / 7 as week
FROM
 projects p
 RIGHT JOIN weeks w ON p.sent_to_analysis_at::date >= (current_date - w.days - 7) AND p.sent_to_analysis_at < (current_date - w.days)
GROUP BY week
),
previous_period AS (
SELECT
 'previous_period'::text as series,
 count(*),
 w.days / 7 as week
FROM
 projects p
 RIGHT JOIN weeks w ON p.sent_to_analysis_at::date >= (current_date - w.days - 7 - 56) AND p.sent_to_analysis_at < (current_date - w.days - 56)
GROUP BY week
),
last_year AS (
SELECT
 'last_year'::text as series,
 count(*),
 w.days / 7 as week
FROM
 projects p
 RIGHT JOIN weeks w ON p.sent_to_analysis_at::date >= (current_date - w.days - 7 - 365) AND p.sent_to_analysis_at < (current_date - w.days - 365)
GROUP BY week
)
(SELECT * FROM current_period)
UNION ALL
(SELECT * FROM previous_period)
UNION ALL
(SELECT * FROM last_year)
ORDER BY series, week;

  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20140319121007"]]
  [1m[35m (4.7ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations" ORDER BY version[0m
  [1m[36mOauthProvider Load (2.3ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (0.8ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (8.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (2.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18453
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (5.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.8ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (3.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
  [1m[35mColumns for index index_users_on_name on users (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (2.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_rewards_on_project_id on rewards (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18525

[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (3.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

  [1m[36mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_updates_on_project_id on updates (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568
[0m
[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[35mProject Foreign Keys (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_permalink on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Arte' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Arte' LIMIT 1
  [1m[36mSQL (19.2ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:53 BRT -03:00], ["name_en", "Art"], ["name_pt", "Arte"], ["updated_at", Tue, 25 Mar 2014 13:58:53 BRT -03:00]]
  [1m[35m (21.6ms)[0m  COMMIT
  [1m[36mCategory Load (1.4ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Artes plásticas' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mCategory Exists (1.3ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Artes plásticas' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Visual Arts"], ["name_pt", "Artes plásticas"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (9.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.4ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Circo' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Circo' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Circus"], ["name_pt", "Circo"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (10.6ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Comunidade' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Comunidade' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Community"], ["name_pt", "Comunidade"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Humor' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Humor' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Humor"], ["name_pt", "Humor"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (12.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Quadrinhos' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Quadrinhos' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Comicbooks"], ["name_pt", "Quadrinhos"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Dança' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Dança' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Dance"], ["name_pt", "Dança"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (12.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Design' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mCategory Exists (1.1ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Design' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Design"], ["name_pt", "Design"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (11.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Eventos' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Eventos' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Events"], ["name_pt", "Eventos"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Moda' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Moda' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Fashion"], ["name_pt", "Moda"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Gastronomia' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Gastronomia' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Gastronomy"], ["name_pt", "Gastronomia"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Cinema e Vídeo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Cinema e Vídeo' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Film & Video"], ["name_pt", "Cinema e Vídeo"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Jogos' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Jogos' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Games"], ["name_pt", "Jogos"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (12.1ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Jornalismo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Jornalismo' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Journalism"], ["name_pt", "Jornalismo"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (8.6ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Música' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.9ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Música' LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Music"], ["name_pt", "Música"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (4.1ms)[0m  COMMIT
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Fotografia' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Fotografia' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Photography"], ["name_pt", "Fotografia"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Ciência e Tecnologia' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Ciência e Tecnologia' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Science & Technology"], ["name_pt", "Ciência e Tecnologia"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (12.0ms)[0m  COMMIT
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Teatro' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Teatro' LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Theatre"], ["name_pt", "Teatro"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Esporte' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Esporte' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Sport"], ["name_pt", "Esporte"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (12.2ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Web' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Web' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Web"], ["name_pt", "Web"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.5ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Carnaval' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (1.3ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Carnaval' LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Carnival"], ["name_pt", "Carnaval"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (10.0ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Arquitetura e Urbanismo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Arquitetura e Urbanismo' LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Architecture & Urbanism"], ["name_pt", "Arquitetura e Urbanismo"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[36m (12.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Literatura' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mCategory Exists (0.8ms)[0m  SELECT 1 AS one FROM "categories" WHERE "categories"."name_pt" = 'Literatura' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "name_en", "name_pt", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name_en", "Literature"], ["name_pt", "Literatura"], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00]]
  [1m[35m (12.1ms)[0m  COMMIT
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Mobilidade e Transporte' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Mobilidade e Transporte' AND "categories"."id" != 1) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Meio Ambiente' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mCategory Exists (1.0ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Meio Ambiente' AND "categories"."id" != 2) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Negócios Sociais' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (1.0ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Negócios Sociais' AND "categories"."id" != 3) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (1.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Educação' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (1.0ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Educação' AND "categories"."id" != 4) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes de Ficção' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes de Ficção' AND "categories"."id" != 5) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes Documentários' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes Documentários' AND "categories"."id" != 6) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mCategory Load (0.9ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."name_pt" = 'Filmes Universitários' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mCategory Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "categories" WHERE ("categories"."name_pt" = 'Filmes Universitários' AND "categories"."id" != 7) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.2ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'company_name' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :company_name], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "Catarse"]]
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.1ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'company_logo' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :company_logo], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "http://catarse.me/assets/catarse_bootstrap/logo_icon_catarse.png"]]
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'host' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :host], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "catarse.me"]]
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'base_url' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :base_url], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "http://catarse.me"]]
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.3ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_contact' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :email_contact], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "contato@catarse.me"]]
  [1m[35m (13.6ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.3ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_payments' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :email_payments], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "financeiro@catarse.me"]]
  [1m[35m (14.2ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.5ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_projects' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :email_projects], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "projetos@catarse.me"]]
  [1m[35m (13.8ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_system' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :email_system], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "system@catarse.me"]]
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'email_no_reply' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :email_no_reply], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "no-reply@catarse.me"]]
  [1m[35m (13.3ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'facebook_url' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :facebook_url], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "http://facebook.com/catarse.me"]]
  [1m[35m (13.3ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.0ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'facebook_app_id' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :facebook_app_id], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "173747042661491"]]
  [1m[35m (26.0ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'twitter_url' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :twitter_url], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "http://twitter.com/catarse"]]
  [1m[35m (24.4ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.0ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'twitter_username' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :twitter_username], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "catarse"]]
  [1m[35m (54.2ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'mailchimp_url' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :mailchimp_url], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "http://catarse.us5.list-manage.com/subscribe/post?u=ebfcd0d16dbb0001a0bea3639&amp;id=149c39709e"]]
  [1m[35m (30.2ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.5ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'catarse_fee' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :catarse_fee], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "0.13"]]
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'support_forum' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :support_forum], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "http://suporte.catarse.me/"]]
  [1m[35m (13.6ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'base_domain' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :base_domain], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "catarse.me"]]
  [1m[35m (13.5ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.1ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_secret_gadget' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :uservoice_secret_gadget], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "change_this"]]
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.4ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'uservoice_key' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["name", :uservoice_key], ["updated_at", Tue, 25 Mar 2014 13:58:54 BRT -03:00], ["value", "uservoice_key"]]
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.6ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'faq_url' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :faq_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://suporte.catarse.me/"]]
  [1m[35m (13.9ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.3ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'feedback_url' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :feedback_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://suporte.catarse.me/forums/103171-catarse-ideias-gerais"]]
  [1m[35m (13.6ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.0ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'terms_url' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :terms_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://suporte.catarse.me/knowledgebase/articles/161100-termos-de-uso"]]
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'privacy_url' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :privacy_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://suporte.catarse.me/knowledgebase/articles/161103-pol%C3%ADtica-de-privacidade"]]
  [1m[35m (3.9ms)[0m  COMMIT
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'about_channel_url' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :about_channel_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://blog.catarse.me/conheca-os-canais-do-catarse/"]]
  [1m[35m (4.2ms)[0m  COMMIT
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'instagram_url' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :instagram_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://instagram.com/catarse_"]]
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'blog_url' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :blog_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://blog.catarse.me"]]
  [1m[35m (4.4ms)[0m  COMMIT
  [1m[36mConfiguration Load (1.0ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'github_url' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :github_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://github.com/catarse"]]
  [1m[35m (4.1ms)[0m  COMMIT
  [1m[36mConfiguration Load (0.9ms)[0m  [1mSELECT "configurations".* FROM "configurations" WHERE "configurations"."name" = 'contato_url' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "configurations" ("created_at", "name", "updated_at", "value") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["name", :contato_url], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["value", "http://suporte.catarse.me/"]]
  [1m[35m (4.3ms)[0m  COMMIT
  [1m[36mChannel Reverse Foreign Keys (2.6ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channel_posts_channel_id on channel_posts (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
  [1m[35mColumns for index fk__channel_posts_user_id on channel_posts (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index index_channel_posts_on_channel_id on channel_posts (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
  [1m[35mColumns for index index_channel_posts_on_user_id on channel_posts (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

[schema_associations] Channel.has_many :posts, :class_name=>"ChannelPost", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939

  [1m[36mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
  [1m[35mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939

[schema_associations] Channel.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_email on users (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
  [1m[35mColumns for index index_users_on_name on users (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
[schema_associations] Channel.has_many :users, :class_name=>"User", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] Channel.has_many :notifications, :class_name=>"Notification", :foreign_key=>"channel_id", :inverse_of=>:channel
  [1m[36mChannel Foreign Keys (1.8ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'channels'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35mChannel Load (1.4ms)[0m  SELECT "channels".* FROM "channels" WHERE "channels"."name" = 'Channel name' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mChannel Exists (0.9ms)[0m  SELECT 1 AS one FROM "channels" WHERE "channels"."permalink" = 'sample-permalink' LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "channels" ("created_at", "description", "how_it_works_html", "name", "permalink", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["description", "Lorem Ipsum"], ["how_it_works_html", ""], ["name", "Channel name"], ["permalink", "sample-permalink"], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00]]
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36mOauthProvider Load (0.8ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers" WHERE "oauth_providers"."name" = 'facebook' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "oauth_providers" ("created_at", "key", "name", "path", "secret", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00], ["key", "your_facebook_app_key"], ["name", "facebook"], ["path", "facebook"], ["secret", "your_facebook_app_secret"], ["updated_at", Tue, 25 Mar 2014 13:58:55 BRT -03:00]]
  [1m[35m (13.7ms)[0m  COMMIT
  [1m[36mOauthProvider Load (1.1ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mConfiguration Load (1.2ms)[0m  SELECT "configurations".* FROM "configurations"
  [1m[36mOauthProvider Load (2.4ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.3ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (3.1ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (7.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18453
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (5.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (2.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (1.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (2.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
  [1m[35mColumns for index index_users_on_name on users (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_rewards_on_project_id on rewards (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18525

[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (4.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

  [1m[36mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_updates_on_project_id on updates (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568
[0m
[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[35mProject Foreign Keys (2.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_name on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_permalink on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
  [1m[36mOauthProvider Load (1.6ms)[0m  [1mSELECT "oauth_providers".* FROM "oauth_providers"[0m
  [1m[35mOauthProvider Load (1.4ms)[0m  SELECT "oauth_providers".* FROM "oauth_providers"
  [1m[36mContribution Reverse Foreign Keys (5.0ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (7.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18453
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (2.4ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.6ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (2.0ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_email on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
  [1m[35mColumns for index index_users_on_name on users (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_reset_password_token on users (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (3.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (3.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_rewards_on_project_id on rewards (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18525

[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (4.3ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

  [1m[36mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_updates_on_project_id on updates (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568
[0m
[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[35mProject Foreign Keys (2.5ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (2.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_name on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_permalink on projects (2.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (2.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects


Started GET "/pt" for 127.0.0.1 at 2014-03-25 10:04:44 -0700
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[35mProjectsForHome Load (10.3ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'
  Rendered collection (0.0ms)
  [1m[36mProjectsForHome Load (3.8ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'[0m
  Rendered collection (0.1ms)
  [1m[35mProjectsForHome Load (5.2ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'
  Rendered collection (0.0ms)
  Rendered layouts/_newsletter.html.slim (7.1ms)
  Rendered projects/index.html.slim within layouts/application (7781.6ms)
  Rendered layouts/_analytics.html.slim (7.5ms)
  Rendered layouts/_facebook_sdk.html.slim (8.6ms)
  Rendered layouts/_header.html.slim (22.5ms)
  Rendered layouts/_newsletter.html.slim (1.0ms)
  Rendered layouts/_facebook_like.html.slim (8.2ms)
  Rendered layouts/_footer.html.slim (45.6ms)
  Rendered layouts/_new_uservoice.html.slim (8.9ms)
Completed 200 OK in 8325ms (Views: 8230.1ms | ActiveRecord: 24.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:53 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:54 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-25 10:04:55 -0700


Started GET "/pt" for 127.0.0.1 at 2014-03-25 10:18:45 -0700
  [1m[36mContribution Reverse Foreign Keys (2.7ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18453
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (4.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.3ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_project_id on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_user_id on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (2.9ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.9ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_email on users (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
  [1m[35mColumns for index index_users_on_name on users (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.2ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.1ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (3.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_rewards_on_project_id on rewards (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18525

[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

  [1m[36mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_updates_on_project_id on updates (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568
[0m
[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[35mProject Foreign Keys (2.1ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.2ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (3.5ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_permalink on projects (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects

ActionController::RoutingError - undefined method `before_action' for main:Object:
  actionpack (4.0.3) lib/action_dispatch/routing/route_set.rb:69:in `rescue in controller'
  actionpack (4.0.3) lib/action_dispatch/routing/route_set.rb:64:in `controller'
  actionpack (4.0.3) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.3) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.3) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.3) lib/action_dispatch/routing/route_set.rb:680:in `call'
  omniauth (1.1.4) lib/omniauth/strategy.rb:184:in `call!'
  omniauth (1.1.4) lib/omniauth/strategy.rb:164:in `call'
  http_accept_language (2.0.0) lib/http_accept_language/middleware.rb:13:in `call'
  request_store (1.0.5) lib/request_store/middleware.rb:9:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.3) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.3) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.3) lib/active_support/callbacks.rb:373:in `_run__235929580129247292__call__callbacks'
  activesupport (4.0.3) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.3) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.3) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.3) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.3) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.3) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.3) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.3) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.3) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.3) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.3) lib/rails/engine.rb:511:in `call'
  railties (4.0.3) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/robert/.rvm/rubies/ruby-2.1.0/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'



Started POST "/__better_errors/23767040/variables" for 127.0.0.1 at 2014-03-25 10:18:46 -0700


Started GET "/pt" for 127.0.0.1 at 2014-03-25 10:20:17 -0700
  [1m[36mContribution Reverse Foreign Keys (2.5ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'payment_notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_payment_notifications_on_contribution_id on payment_notifications (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18453
[0m
[schema_associations] Contribution.has_many :payment_notifications, :class_name=>"PaymentNotification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[35m (5.4ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] Contribution.has_many :notifications, :class_name=>"Notification", :foreign_key=>"contribution_id", :inverse_of=>:contribution
  [1m[36mContribution Foreign Keys (2.2ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'contributions'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (3.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :project, :class_name=>"Project", :foreign_key=>"project_id", :inverse_of=>:contributions
  [1m[36m (3.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_contributions_on_key on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_project_id on contributions (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_reward_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_user_id on contributions (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
[schema_associations] Contribution.belongs_to :reward, :class_name=>"Reward", :foreign_key=>"reward_id", :inverse_of=>:contributions
  [1m[35m (4.0ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Contribution.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:contributions
  [1m[36mUser Reverse Foreign Keys (2.9ms)[0m  [1m SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
[0m
  [1m[35m (4.6ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__notifications_channel_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index fk__notifications_channel_post_id on notifications (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_update_id on notifications (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_user_id_and_template_name on notifications (1.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

[schema_associations] User.has_many :notifications, :class_name=>"Notification", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (6.4ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channel_posts'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__channel_posts_channel_id on channel_posts (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index fk__channel_posts_user_id on channel_posts (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
  [1m[35mColumns for index index_channel_posts_on_channel_id on channel_posts (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134

  [1m[36mColumns for index index_channel_posts_on_user_id on channel_posts (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 19134
[0m
[schema_associations] User.has_many :channel_posts, :class_name=>"ChannelPost", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (3.9ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] User.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.5ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.0ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (2.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] User.has_many :projects, :class_name=>"Project", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.8ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_unsubscribes_on_project_id on unsubscribes (2.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
  [1m[35mColumns for index index_unsubscribes_on_user_id on unsubscribes (2.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

[schema_associations] User.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (2.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_updates_on_project_id on updates (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568

[schema_associations] User.has_many :updates, :class_name=>"Update", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[36m (4.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'authorizations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__authorizations_oauth_provider_id on authorizations (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index fk__authorizations_user_id on authorizations (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
  [1m[35mColumns for index index_authorizations_on_oauth_provider_id_and_user_id on authorizations (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829

  [1m[36mColumns for index index_authorizations_on_uid_and_oauth_provider_id on authorizations (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18829
[0m
[schema_associations] User.has_many :authorizations, :class_name=>"Authorization", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35m (4.2ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'channels_subscribers'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index fk__channels_subscribers_channel_id on channels_subscribers (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
  [1m[35mColumns for index fk__channels_subscribers_user_id on channels_subscribers (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939

  [1m[36mColumns for index index_channels_subscribers_on_user_id_and_channel_id on channels_subscribers (1.5ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18939
[0m
[schema_associations] User.has_many :channels_subscribers, :class_name=>"ChannelsSubscriber", :foreign_key=>"user_id", :inverse_of=>:user
  [1m[35mUser Foreign Keys (1.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'users'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (2.9ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__users_channel_id on users (1.4ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_email on users (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
  [1m[35mColumns for index index_users_on_name on users (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362

  [1m[36mColumns for index index_users_on_reset_password_token on users (1.3ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18362
[0m
[schema_associations] User.belongs_to :channel, :class_name=>"Channel", :foreign_key=>"channel_id", :inverse_of=>:users
  [1m[35mProject Reverse Foreign Keys (2.3ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t2.relname
 FROM pg_class t, pg_class t2, pg_constraint f
 WHERE f.confrelid = t.oid
 AND f.conrelid = t2.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (3.8ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'notifications'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index fk__notifications_channel_id on notifications (1.6ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index fk__notifications_channel_post_id on notifications (2.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_contribution_id_and_template_name on notifications (1.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_project_id_and_template_name on notifications (1.4ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
  [1m[35mColumns for index index_notifications_on_update_id on notifications (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428

  [1m[36mColumns for index index_notifications_on_user_id_and_template_name on notifications (2.2ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18428
[0m
[schema_associations] Project.has_many :notifications, :class_name=>"Notification", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'contributions'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_contributions_on_key on contributions (1.8ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_project_id on contributions (1.9ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

  [1m[36mColumns for index index_contributions_on_reward_id on contributions (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311
[0m
  [1m[35mColumns for index index_contributions_on_user_id on contributions (2.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18311

[schema_associations] Project.has_many :contributions, :class_name=>"Contribution", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (4.0ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'rewards'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_rewards_on_project_id on rewards (1.7ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18525

[schema_associations] Project.has_many :rewards, :class_name=>"Reward", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[36m (2.7ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'unsubscribes'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_unsubscribes_on_project_id on unsubscribes (1.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563

  [1m[36mColumns for index index_unsubscribes_on_user_id on unsubscribes (1.1ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18563
[0m
[schema_associations] Project.has_many :unsubscribes, :class_name=>"Unsubscribe", :foreign_key=>"project_id", :inverse_of=>:project
  [1m[35m (3.7ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'updates'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_updates_on_project_id on updates (1.7ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18568
[0m
[schema_associations] Project.has_many :updates, :class_name=>"Update", :foreign_key=>"project_id", :inverse_of=>:project
[schema_associations] Project.has_and_belongs_to_many :channels, :class_name=>"Channel", :join_table=>"channels_projects", :foreign_key=>"project_id"
  [1m[35mProject Foreign Keys (2.7ms)[0m   SELECT f.conname, pg_get_constraintdef(f.oid), t.relname
 FROM pg_class t, pg_constraint f
 WHERE f.conrelid = t.oid
 AND f.contype = 'f'
 AND t.relname = 'projects'
 AND t.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )

  [1m[36m (4.1ms)[0m  [1m
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index index_projects_on_category_id on projects (2.2ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_name on projects (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_permalink on projects (2.3ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_user_id on projects (2.0ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
[schema_associations] Project.belongs_to :category, :class_name=>"Category", :foreign_key=>"category_id", :inverse_of=>:projects
  [1m[35m (4.3ms)[0m  
 SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,
 m.amname, pg_get_expr(d.indpred, t.oid) as conditions, pg_get_expr(d.indexprs, t.oid) as expression
 FROM pg_class t
 INNER JOIN pg_index d ON t.oid = d.indrelid
 INNER JOIN pg_class i ON d.indexrelid = i.oid
 INNER JOIN pg_am m ON i.relam = m.oid
 WHERE i.relkind = 'i'
 AND d.indisprimary = 'f'
 AND t.relname = 'projects'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )
 ORDER BY i.relname

  [1m[36mColumns for index index_projects_on_category_id on projects (1.9ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_name on projects (1.8ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

  [1m[36mColumns for index index_projects_on_permalink on projects (1.6ms)[0m  [1m SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331
[0m
  [1m[35mColumns for index index_projects_on_user_id on projects (4.5ms)[0m   SELECT CAST(a.attnum as VARCHAR), a.attname, t.typname
 FROM pg_attribute a
 INNER JOIN pg_type t ON a.atttypid = t.oid
 WHERE a.attrelid = 18331

[schema_associations] Project.belongs_to :user, :class_name=>"User", :foreign_key=>"user_id", :inverse_of=>:projects
Processing by ProjectsController#index as HTML
  Parameters: {"locale"=>"pt"}
  [1m[36mProjectsForHome Load (7.6ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recommended'[0m
  Rendered collection (0.0ms)
  [1m[35mProjectsForHome Load (4.6ms)[0m  SELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'expiring'
  Rendered collection (0.1ms)
  [1m[36mProjectsForHome Load (5.4ms)[0m  [1mSELECT "projects_for_home".* FROM "projects_for_home" WHERE "projects_for_home"."origin" = 'recents'[0m
  Rendered collection (0.1ms)
  Rendered layouts/_newsletter.html.slim (1.3ms)
  Rendered projects/index.html.slim within layouts/application (3739.3ms)
  Rendered layouts/_analytics.html.slim (0.1ms)
  Rendered layouts/_facebook_sdk.html.slim (0.4ms)
  Rendered layouts/_header.html.slim (5.0ms)
  Rendered layouts/_newsletter.html.slim (1.0ms)
  Rendered layouts/_facebook_like.html.slim (0.2ms)
  Rendered layouts/_footer.html.slim (12.7ms)
  Rendered layouts/_new_uservoice.html.slim (0.7ms)
Completed 200 OK in 3840ms (Views: 3795.3ms | ActiveRecord: 20.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-03-25 10:20:22 -0700


Started GET "/assets/lib/jquery.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/jquery-ui.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/best_in_place.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/underscore.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/backbone.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/app.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/skull.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/jquery.sticky.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/bootstrap.min.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/form.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/froogaloop.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/infinite_scroll.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/jquery.maskedinput.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/modal.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/show_password_input.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/tabs.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/timed_input.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/lib/twitter.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/channel_post_coments.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/channel_profile.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/contribution.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/devise/feedback_support.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/explore.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/how_it_works.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/project.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/mix_panel.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/payment.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/project/project_comments.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:23 -0700


Started GET "/assets/app/project/project_contributions.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/project/project_sidebar.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/project/updates.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/project_form.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/review_form.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/registration.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/reset_password.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/sort.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/user/user_contributions.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/user.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/app/user/user_projects.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/catarse_bootstrap/catarse-assets.png" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/catarse_bootstrap/banner-content.png" for 127.0.0.1 at 2014-03-25 10:20:24 -0700


Started GET "/assets/catarse_bootstrap/banner-3years.png" for 127.0.0.1 at 2014-03-25 10:20:24 -0700
